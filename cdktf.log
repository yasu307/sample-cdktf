[2022-11-16T00:20:10.746] [DEBUG] default - Terraform v0.14.8


[2022-11-16T00:20:10.774] [DEBUG] default - Your version of Terraform is out of date! The latest version
is 1.3.4. You can update by downloading from https://www.terraform.io/downloads.html

[2022-11-16T00:20:51.749] [DEBUG] default - 

[2022-11-16T00:20:51.770] [DEBUG] default - [0m[1mInitializing the backend...[0m

[2022-11-16T00:20:52.178] [DEBUG] default - 

[2022-11-16T00:20:52.178] [DEBUG] default - [0m[1mInitializing provider plugins...[0m
- Reusing previous version of hashicorp/aws from the dependency lock file

[2022-11-16T00:20:53.188] [DEBUG] default - - Using previously-installed hashicorp/aws v2.70.1

[2022-11-16T00:20:53.189] [DEBUG] default - 

[2022-11-16T00:20:53.220] [DEBUG] default - [0m[1m[32mTerraform has been successfully initialized![0m[32m[0m
[0m[32m
You may now begin working with Terraform. Try running "terraform plan" to see
any changes that are required for your infrastructure. All Terraform commands
should now work.

If you ever set or change modules or backend configuration for Terraform,
rerun this command to reinitialize your working directory. If you forget, other
commands will detect it and remind you to do so if necessary.[0m

[2022-11-16T00:20:57.861] [DEBUG] default - [0m[1maws_vpc.sample-cdktf-vpc: Refreshing state... [id=vpc-000b8170ff88d961a][0m

[2022-11-16T00:20:57.870] [DEBUG] default - [0m[1maws_eip.sample-cdktf-eip: Refreshing state... [id=eipalloc-04ff4e22e59c4e98d][0m

[2022-11-16T00:20:59.549] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Refreshing state... [id=subnet-0913acedcd38e5924][0m

[2022-11-16T00:20:59.549] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Refreshing state... [id=igw-044b796b7d9d096ee][0m

[2022-11-16T00:20:59.549] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Refreshing state... [id=sg-07d54b03802d36b0f][0m

[2022-11-16T00:20:59.549] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Refreshing state... [id=subnet-0ca8f4f3ef58e326e][0m

[2022-11-16T00:20:59.570] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-private-subnet2: Refreshing state... [id=subnet-06f9b8d1446de7cfb][0m

[2022-11-16T00:20:59.571] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-private-subnet1: Refreshing state... [id=subnet-056834433e22793cd][0m

[2022-11-16T00:20:59.725] [DEBUG] default - [0m[1maws_route_table.sample-cdktf-public-rtb: Refreshing state... [id=rtb-0ce07636773d547f2][0m

[2022-11-16T00:20:59.760] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Refreshing state... [id=nat-0e22e1167e4cee7c3][0m

[2022-11-16T00:20:59.771] [DEBUG] default - [0m[1maws_security_group_rule.sample-cdktf-security-egress: Refreshing state... [id=sgrule-3212128222][0m

[2022-11-16T00:20:59.771] [DEBUG] default - [0m[1maws_security_group_rule.sample-cdktf-security-ingress: Refreshing state... [id=sgrule-416901847][0m

[2022-11-16T00:20:59.920] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-public-rtb-association2: Refreshing state... [id=rtbassoc-091c65ca69ff8e820][0m

[2022-11-16T00:20:59.920] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-public-rtb-association1: Refreshing state... [id=rtbassoc-0e4b6468372c8886f][0m
[0m[1maws_route_table_association.sample-cdktf-public-rtb1: Refreshing state... [id=rtbassoc-0e4b6468372c8886f][0m

[2022-11-16T00:20:59.949] [DEBUG] default - [0m[1maws_route_table.sample-cdktf-private-rtb: Refreshing state... [id=rtb-0ef7ef9c4b1dfc888][0m

[2022-11-16T00:21:00.125] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-private-rtb-association1: Refreshing state... [id=rtbassoc-0975d767513ea5818][0m

[2022-11-16T00:21:00.125] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-private-rtb-association2: Refreshing state... [id=rtbassoc-02f3bb036d7debc9f][0m

[2022-11-16T00:21:00.320] [DEBUG] default - 

[2022-11-16T00:21:00.321] [DEBUG] default - [0m[1m[32mNo changes. Infrastructure is up-to-date.[0m[32m

This means that Terraform did not detect any differences between your
configuration and real physical resources that exist. As a result, no
actions need to be performed.[0m

[2022-11-16T00:21:01.224] [DEBUG] default - {"format_version":"0.1","terraform_version":"0.14.8","planned_values":{"root_module":{"resources":[{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"allocation_id":null,"associate_with_private_ip":null,"association_id":"eipassoc-004bfa2f71ffaaaa5","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-04ff4e22e59c4e98d","instance":"","network_interface":"eni-0f11f87bd05a2bf92","private_dns":"ip-10-0-15-236.ap-northeast-1.compute.internal","private_ip":"10.0.15.236","public_dns":"ec2-18-177-110-86.ap-northeast-1.compute.amazonaws.com","public_ip":"18.177.110.86","public_ipv4_pool":"amazon","tags":{},"timeouts":null,"vpc":true}},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-044b796b7d9d096ee","id":"igw-044b796b7d9d096ee","owner_id":"574185952087","tags":{"Name":"igw-production sample-cdktf"},"vpc_id":"vpc-000b8170ff88d961a"}},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"allocation_id":"eipalloc-04ff4e22e59c4e98d","id":"nat-0e22e1167e4cee7c3","network_interface_id":"eni-0f11f87bd05a2bf92","private_ip":"10.0.15.236","public_ip":"18.177.110.86","subnet_id":"subnet-0ca8f4f3ef58e326e","tags":{"Name":"sample-cdktf nat-gateway-production"}}},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"rtb-0ef7ef9c4b1dfc888","owner_id":"574185952087","propagating_vgws":[],"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"nat-0e22e1167e4cee7c3","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Private rtb"},"vpc_id":"vpc-000b8170ff88d961a"}},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"rtb-0ce07636773d547f2","owner_id":"574185952087","propagating_vgws":[],"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"igw-044b796b7d9d096ee","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Public rtb"},"vpc_id":"vpc-000b8170ff88d961a"}},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-0975d767513ea5818","route_table_id":"rtb-0ef7ef9c4b1dfc888","subnet_id":"subnet-056834433e22793cd"}},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-02f3bb036d7debc9f","route_table_id":"rtb-0ef7ef9c4b1dfc888","subnet_id":"subnet-06f9b8d1446de7cfb"}},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-0e4b6468372c8886f","route_table_id":"rtb-0ce07636773d547f2","subnet_id":"subnet-0ca8f4f3ef58e326e"}},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-091c65ca69ff8e820","route_table_id":"rtb-0ce07636773d547f2","subnet_id":"subnet-0913acedcd38e5924"}},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-0e4b6468372c8886f","route_table_id":"rtb-0ce07636773d547f2","subnet_id":"subnet-0ca8f4f3ef58e326e"}},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:security-group/sg-07d54b03802d36b0f","description":"Managed by Terraform","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-07d54b03802d36b0f","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":80,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":80}],"name":"sample-cdktf","name_prefix":null,"owner_id":"574185952087","revoke_rules_on_delete":false,"tags":{"Name":"sample-cdktf"},"timeouts":null,"vpc_id":"vpc-000b8170ff88d961a"}},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"id":"sgrule-3212128222","ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_group_id":"sg-07d54b03802d36b0f","self":false,"source_security_group_id":null,"to_port":0,"type":"egress"}},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":80,"id":"sgrule-416901847","ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-07d54b03802d36b0f","self":false,"source_security_group_id":null,"to_port":80,"type":"ingress"}},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-056834433e22793cd","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.128.0/20","id":"subnet-056834433e22793cd","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Private1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-000b8170ff88d961a"}},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-06f9b8d1446de7cfb","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.144.0/20","id":"subnet-06f9b8d1446de7cfb","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Private2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-000b8170ff88d96
[2022-11-16T00:21:01.224] [DEBUG] default - 1a"}},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0ca8f4f3ef58e326e","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.0.0/20","id":"subnet-0ca8f4f3ef58e326e","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-000b8170ff88d961a"}},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0913acedcd38e5924","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.16.0/20","id":"subnet-0913acedcd38e5924","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-000b8170ff88d961a"}},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-000b8170ff88d961a","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-020bf54ba1b061fa7","default_route_table_id":"rtb-0f133ac544bfc5dd0","default_security_group_id":"sg-0619046c7ee374ca9","dhcp_options_id":"dopt-03da244493f3f476d","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":true,"enable_dns_support":true,"id":"vpc-000b8170ff88d961a","instance_tenancy":"default","ipv6_association_id":"","ipv6_cidr_block":"","main_route_table_id":"rtb-0f133ac544bfc5dd0","owner_id":"574185952087","tags":{"Name":"sample-cdktf production"}}}]}},"resource_changes":[{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"allocation_id":null,"associate_with_private_ip":null,"association_id":"eipassoc-004bfa2f71ffaaaa5","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-04ff4e22e59c4e98d","instance":"","network_interface":"eni-0f11f87bd05a2bf92","private_dns":"ip-10-0-15-236.ap-northeast-1.compute.internal","private_ip":"10.0.15.236","public_dns":"ec2-18-177-110-86.ap-northeast-1.compute.amazonaws.com","public_ip":"18.177.110.86","public_ipv4_pool":"amazon","tags":{},"timeouts":null,"vpc":true},"after":{"allocation_id":null,"associate_with_private_ip":null,"association_id":"eipassoc-004bfa2f71ffaaaa5","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-04ff4e22e59c4e98d","instance":"","network_interface":"eni-0f11f87bd05a2bf92","private_dns":"ip-10-0-15-236.ap-northeast-1.compute.internal","private_ip":"10.0.15.236","public_dns":"ec2-18-177-110-86.ap-northeast-1.compute.amazonaws.com","public_ip":"18.177.110.86","public_ipv4_pool":"amazon","tags":{},"timeouts":null,"vpc":true},"after_unknown":{}}},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-044b796b7d9d096ee","id":"igw-044b796b7d9d096ee","owner_id":"574185952087","tags":{"Name":"igw-production sample-cdktf"},"vpc_id":"vpc-000b8170ff88d961a"},"after":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-044b796b7d9d096ee","id":"igw-044b796b7d9d096ee","owner_id":"574185952087","tags":{"Name":"igw-production sample-cdktf"},"vpc_id":"vpc-000b8170ff88d961a"},"after_unknown":{}}},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"allocation_id":"eipalloc-04ff4e22e59c4e98d","id":"nat-0e22e1167e4cee7c3","network_interface_id":"eni-0f11f87bd05a2bf92","private_ip":"10.0.15.236","public_ip":"18.177.110.86","subnet_id":"subnet-0ca8f4f3ef58e326e","tags":{"Name":"sample-cdktf nat-gateway-production"}},"after":{"allocation_id":"eipalloc-04ff4e22e59c4e98d","id":"nat-0e22e1167e4cee7c3","network_interface_id":"eni-0f11f87bd05a2bf92","private_ip":"10.0.15.236","public_ip":"18.177.110.86","subnet_id":"subnet-0ca8f4f3ef58e326e","tags":{"Name":"sample-cdktf nat-gateway-production"}},"after_unknown":{}}},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"rtb-0ef7ef9c4b1dfc888","owner_id":"574185952087","propagating_vgws":[],"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"nat-0e22e1167e4cee7c3","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Private rtb"},"vpc_id":"vpc-000b8170ff88d961a"},"after":{"id":"rtb-0ef7ef9c4b1dfc888","owner_id":"574185952087","propagating_vgws":[],"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"nat-0e22e1167e4cee7c3","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Private rtb"},"vpc_id":"vpc-000b8170ff88d961a"},"after_unknown":{}}},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"rtb-0ce07636773d547f2","owner_id":"574185952087","propagating_vgws":[],"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"igw-044b796b7d9d096ee","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Public rtb"},"vpc_id":"vpc-000b8170ff88d961a"},"after":{"id":"rtb-0ce07636773d547f2","owner_id":"574185952087","propagating_vgws":[],"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"igw-044b796b7d9d096ee","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Public rtb"},"vpc_id":"vpc-000b8170ff88d961a"},"after_unknown":{}}},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"gateway_id":null,"id":"rtbassoc-0975d767513ea5818","route_table_id":"rtb-0ef7ef9c4b1dfc888","subnet_id":"subnet-056834433e22793cd"},"after":{"gateway_id":null,"id":"rtbassoc-0975d767513ea5818","route_table_id":"rtb-0ef7ef9c4b1dfc888","subnet_id":"subnet-056834433e22793cd"},"after_unknown":{}}},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"gateway_id":null,"id":"rtbassoc-02f3bb036d7debc9f","route_table_id":"rtb-0ef7ef9c4b1dfc888","subnet_id":"subnet-06f9b8d1446de7cfb"},"after":{"gateway_id":null,"id":"rtbassoc-02f3bb036d7debc9f","route_table_id":"rtb-0ef7ef9c4b1dfc888","subnet_id":
[2022-11-16T00:21:01.224] [DEBUG] default - "subnet-06f9b8d1446de7cfb"},"after_unknown":{}}},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"gateway_id":null,"id":"rtbassoc-0e4b6468372c8886f","route_table_id":"rtb-0ce07636773d547f2","subnet_id":"subnet-0ca8f4f3ef58e326e"},"after":{"gateway_id":null,"id":"rtbassoc-0e4b6468372c8886f","route_table_id":"rtb-0ce07636773d547f2","subnet_id":"subnet-0ca8f4f3ef58e326e"},"after_unknown":{}}},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"gateway_id":null,"id":"rtbassoc-091c65ca69ff8e820","route_table_id":"rtb-0ce07636773d547f2","subnet_id":"subnet-0913acedcd38e5924"},"after":{"gateway_id":null,"id":"rtbassoc-091c65ca69ff8e820","route_table_id":"rtb-0ce07636773d547f2","subnet_id":"subnet-0913acedcd38e5924"},"after_unknown":{}}},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"gateway_id":null,"id":"rtbassoc-0e4b6468372c8886f","route_table_id":"rtb-0ce07636773d547f2","subnet_id":"subnet-0ca8f4f3ef58e326e"},"after":{"gateway_id":null,"id":"rtbassoc-0e4b6468372c8886f","route_table_id":"rtb-0ce07636773d547f2","subnet_id":"subnet-0ca8f4f3ef58e326e"},"after_unknown":{}}},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:security-group/sg-07d54b03802d36b0f","description":"Managed by Terraform","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-07d54b03802d36b0f","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":80,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":80}],"name":"sample-cdktf","name_prefix":null,"owner_id":"574185952087","revoke_rules_on_delete":false,"tags":{"Name":"sample-cdktf"},"timeouts":null,"vpc_id":"vpc-000b8170ff88d961a"},"after":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:security-group/sg-07d54b03802d36b0f","description":"Managed by Terraform","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-07d54b03802d36b0f","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":80,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":80}],"name":"sample-cdktf","name_prefix":null,"owner_id":"574185952087","revoke_rules_on_delete":false,"tags":{"Name":"sample-cdktf"},"timeouts":null,"vpc_id":"vpc-000b8170ff88d961a"},"after_unknown":{}}},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"id":"sgrule-3212128222","ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_group_id":"sg-07d54b03802d36b0f","self":false,"source_security_group_id":null,"to_port":0,"type":"egress"},"after":{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"id":"sgrule-3212128222","ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_group_id":"sg-07d54b03802d36b0f","self":false,"source_security_group_id":null,"to_port":0,"type":"egress"},"after_unknown":{}}},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":80,"id":"sgrule-416901847","ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-07d54b03802d36b0f","self":false,"source_security_group_id":null,"to_port":80,"type":"ingress"},"after":{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":80,"id":"sgrule-416901847","ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-07d54b03802d36b0f","self":false,"source_security_group_id":null,"to_port":80,"type":"ingress"},"after_unknown":{}}},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-056834433e22793cd","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.128.0/20","id":"subnet-056834433e22793cd","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Private1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-000b8170ff88d961a"},"after":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-056834433e22793cd","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.128.0/20","id":"subnet-056834433e22793cd","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Private1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-000b8170ff88d961a"},"after_unknown":{}}},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-06f9b8d1446de7cfb","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.144.0/20","id":"subnet-06f9b8d1446de7cfb","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Private2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-000b8170ff88d961a"},"after":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-06f9b8d1446de7cfb","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.144.0/20","id":"subnet-06f9b8d1446de7cfb","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Private2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-000b8170ff88d961a"},"after_unknown":{}}},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0ca8f4f3ef58e326e","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.0.0/20","id":"subnet-0ca8f4f3ef58e326e","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-000b8170ff88d961a"},"after":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0ca8f4f3ef58e326e","assign_ipv
[2022-11-16T00:21:01.225] [DEBUG] default - 6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.0.0/20","id":"subnet-0ca8f4f3ef58e326e","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-000b8170ff88d961a"},"after_unknown":{}}},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0913acedcd38e5924","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.16.0/20","id":"subnet-0913acedcd38e5924","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-000b8170ff88d961a"},"after":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0913acedcd38e5924","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.16.0/20","id":"subnet-0913acedcd38e5924","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-000b8170ff88d961a"},"after_unknown":{}}},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-000b8170ff88d961a","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-020bf54ba1b061fa7","default_route_table_id":"rtb-0f133ac544bfc5dd0","default_security_group_id":"sg-0619046c7ee374ca9","dhcp_options_id":"dopt-03da244493f3f476d","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":true,"enable_dns_support":true,"id":"vpc-000b8170ff88d961a","instance_tenancy":"default","ipv6_association_id":"","ipv6_cidr_block":"","main_route_table_id":"rtb-0f133ac544bfc5dd0","owner_id":"574185952087","tags":{"Name":"sample-cdktf production"}},"after":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-000b8170ff88d961a","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-020bf54ba1b061fa7","default_route_table_id":"rtb-0f133ac544bfc5dd0","default_security_group_id":"sg-0619046c7ee374ca9","dhcp_options_id":"dopt-03da244493f3f476d","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":true,"enable_dns_support":true,"id":"vpc-000b8170ff88d961a","instance_tenancy":"default","ipv6_association_id":"","ipv6_cidr_block":"","main_route_table_id":"rtb-0f133ac544bfc5dd0","owner_id":"574185952087","tags":{"Name":"sample-cdktf production"}},"after_unknown":{}}}],"prior_state":{"format_version":"0.1","terraform_version":"0.14.8","values":{"root_module":{"resources":[{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"allocation_id":null,"associate_with_private_ip":null,"association_id":"eipassoc-004bfa2f71ffaaaa5","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-04ff4e22e59c4e98d","instance":"","network_interface":"eni-0f11f87bd05a2bf92","private_dns":"ip-10-0-15-236.ap-northeast-1.compute.internal","private_ip":"10.0.15.236","public_dns":"ec2-18-177-110-86.ap-northeast-1.compute.amazonaws.com","public_ip":"18.177.110.86","public_ipv4_pool":"amazon","tags":{},"timeouts":null,"vpc":true}},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-044b796b7d9d096ee","id":"igw-044b796b7d9d096ee","owner_id":"574185952087","tags":{"Name":"igw-production sample-cdktf"},"vpc_id":"vpc-000b8170ff88d961a"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"allocation_id":"eipalloc-04ff4e22e59c4e98d","id":"nat-0e22e1167e4cee7c3","network_interface_id":"eni-0f11f87bd05a2bf92","private_ip":"10.0.15.236","public_ip":"18.177.110.86","subnet_id":"subnet-0ca8f4f3ef58e326e","tags":{"Name":"sample-cdktf nat-gateway-production"}},"depends_on":["aws_eip.sample-cdktf-eip","aws_subnet.sample-cdktf-public-subnet1","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"rtb-0ef7ef9c4b1dfc888","owner_id":"574185952087","propagating_vgws":[],"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"nat-0e22e1167e4cee7c3","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Private rtb"},"vpc_id":"vpc-000b8170ff88d961a"},"depends_on":["aws_eip.sample-cdktf-eip","aws_nat_gateway.sample-cdktf-nat-gateway","aws_subnet.sample-cdktf-public-subnet1","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"rtb-0ce07636773d547f2","owner_id":"574185952087","propagating_vgws":[],"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"igw-044b796b7d9d096ee","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Public rtb"},"vpc_id":"vpc-000b8170ff88d961a"},"depends_on":["aws_internet_gateway.sample-cdktf-igw-production","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-0975d767513ea5818","route_table_id":"rtb-0ef7ef9c4b1dfc888","subnet_id":"subnet-056834433e22793cd"},"depends_on":["aws_eip.sample-cdktf-eip","aws_nat_gateway.sample-cdktf-nat-gateway","aws_route_table.sample-cdktf-private-rtb","aws_subnet.sample-cdktf-private-subnet1","aws_subnet.sample-cdktf-public-subnet1","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-02f3bb036d7debc9f","route_table_id":"rtb-0ef7ef9c4b1dfc888","subnet_id":"subnet-06f9b8d1446de7cfb"},"depends_on":["aws_eip.sample-cdktf-eip","aws_nat_gateway.sample-cdktf-nat-gateway","aws_route_table.sample-cdktf-private-rtb","aws_subnet.sample-cdktf-private-subnet2","aws_subnet.sample-cdktf-public-subnet1","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-0e4b6468372c8886f","route_table_id":"rtb-0ce07636773d547f2","subnet_id":"subnet-0ca8f4f3ef58e326
[2022-11-16T00:21:01.225] [DEBUG] default - e"},"depends_on":["aws_internet_gateway.sample-cdktf-igw-production","aws_route_table.sample-cdktf-public-rtb","aws_subnet.sample-cdktf-public-subnet1","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-091c65ca69ff8e820","route_table_id":"rtb-0ce07636773d547f2","subnet_id":"subnet-0913acedcd38e5924"},"depends_on":["aws_internet_gateway.sample-cdktf-igw-production","aws_route_table.sample-cdktf-public-rtb","aws_subnet.sample-cdktf-public-subnet2","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-0e4b6468372c8886f","route_table_id":"rtb-0ce07636773d547f2","subnet_id":"subnet-0ca8f4f3ef58e326e"},"depends_on":["aws_internet_gateway.sample-cdktf-igw-production","aws_route_table.sample-cdktf-public-rtb","aws_subnet.sample-cdktf-public-subnet1","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:security-group/sg-07d54b03802d36b0f","description":"Managed by Terraform","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-07d54b03802d36b0f","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":80,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":80}],"name":"sample-cdktf","name_prefix":null,"owner_id":"574185952087","revoke_rules_on_delete":false,"tags":{"Name":"sample-cdktf"},"timeouts":null,"vpc_id":"vpc-000b8170ff88d961a"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"id":"sgrule-3212128222","ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_group_id":"sg-07d54b03802d36b0f","self":false,"source_security_group_id":null,"to_port":0,"type":"egress"},"depends_on":["aws_security_group.sample-cdktf-security-group","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":80,"id":"sgrule-416901847","ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-07d54b03802d36b0f","self":false,"source_security_group_id":null,"to_port":80,"type":"ingress"},"depends_on":["aws_security_group.sample-cdktf-security-group","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-056834433e22793cd","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.128.0/20","id":"subnet-056834433e22793cd","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Private1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-000b8170ff88d961a"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-06f9b8d1446de7cfb","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.144.0/20","id":"subnet-06f9b8d1446de7cfb","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Private2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-000b8170ff88d961a"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0ca8f4f3ef58e326e","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.0.0/20","id":"subnet-0ca8f4f3ef58e326e","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-000b8170ff88d961a"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0913acedcd38e5924","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.16.0/20","id":"subnet-0913acedcd38e5924","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-000b8170ff88d961a"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-000b8170ff88d961a","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-020bf54ba1b061fa7","default_route_table_id":"rtb-0f133ac544bfc5dd0","default_security_group_id":"sg-0619046c7ee374ca9","dhcp_options_id":"dopt-03da244493f3f476d","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":true,"enable_dns_support":true,"id":"vpc-000b8170ff88d961a","instance_tenancy":"default","ipv6_association_id":"","ipv6_cidr_block":"","main_route_table_id":"rtb-0f133ac544bfc5dd0","owner_id":"574185952087","tags":{"Name":"sample-cdktf production"}}}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","version_constraint":"~\u003e 2.0","expressions":{"region":{"constant_value":"ap-northeast-1"}}}},"root_module":{"resources":[{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_config_key":"aws","expressions":{"vpc":{"constant_value":true}},"schema_version":0},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_config_key":"aws","expressions":{"tags":{"constant_value":{"Name":"igw-production sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_config_key":"aws","expressions":{"allocation_id":{"constant_value":"${aws_eip.
[2022-11-16T00:21:01.225] [DEBUG] default - sample-cdktf-eip.id}","references":["aws_eip.sample-cdktf-eip"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]},"tags":{"constant_value":{"Name":"sample-cdktf nat-gateway-production"}}},"schema_version":0},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_config_key":"aws","expressions":{"route":{"constant_value":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"${aws_nat_gateway.sample-cdktf-nat-gateway.id}","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"references":["aws_nat_gateway.sample-cdktf-nat-gateway"]},"tags":{"constant_value":{"Name":"sample-cdktf Private rtb"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_config_key":"aws","expressions":{"route":{"constant_value":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"${aws_internet_gateway.sample-cdktf-igw-production.id}","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"references":["aws_internet_gateway.sample-cdktf-igw-production"]},"tags":{"constant_value":{"Name":"sample-cdktf Public rtb"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-private-rtb.id}","references":["aws_route_table.sample-cdktf-private-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-private-subnet1.id}","references":["aws_subnet.sample-cdktf-private-subnet1"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-private-rtb.id}","references":["aws_route_table.sample-cdktf-private-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-private-subnet2.id}","references":["aws_subnet.sample-cdktf-private-subnet2"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet2.id}","references":["aws_subnet.sample-cdktf-public-subnet2"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]}},"schema_version":0},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf"},"tags":{"constant_value":{"Name":"sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":0},"protocol":{"constant_value":"all"},"security_group_id":{"constant_value":"${aws_security_group.sample-cdktf-security-group.id}","references":["aws_security_group.sample-cdktf-security-group"]},"to_port":{"constant_value":0},"type":{"constant_value":"egress"}},"schema_version":2},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":80},"protocol":{"constant_value":"tcp"},"security_group_id":{"constant_value":"${aws_security_group.sample-cdktf-security-group.id}","references":["aws_security_group.sample-cdktf-security-group"]},"to_port":{"constant_value":80},"type":{"constant_value":"ingress"}},"schema_version":2},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1a"},"cidr_block":{"constant_value":"10.0.128.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Private1 AZ1a sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1c"},"cidr_block":{"constant_value":"10.0.144.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Private2 AZ1c sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1a"},"cidr_block":{"constant_value":"10.0.0.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Public1 AZ1a sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1c"},"cidr_block":{"constant_value":"10.0.16.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Public2 AZ1c sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_config_key":"aws","expressions":{"cidr_block":{"constant_value":"10.0.0.0/16"},"enable_dns_hostnames":{"constant_value":true},"tags":{"constant_value":{"Name":"sample-cdktf production"}}},"schema_version":1}]}}}

[2022-11-16T09:24:22.724] [DEBUG] default - Terraform v0.14.8

[2022-11-16T09:24:22.749] [DEBUG] default - 
Your version of Terraform is out of date! The latest version
is 1.3.4. You can update by downloading from https://www.terraform.io/downloads.html

[2022-11-16T09:24:54.144] [DEBUG] default - 

[2022-11-16T09:24:54.149] [DEBUG] default - [0m[1mInitializing the backend...[0m

[2022-11-16T09:24:54.650] [DEBUG] default - 

[2022-11-16T09:24:54.650] [DEBUG] default - [0m[1mInitializing provider plugins...[0m
- Reusing previous version of hashicorp/aws from the dependency lock file

[2022-11-16T09:24:55.824] [DEBUG] default - - Using previously-installed hashicorp/aws v2.70.1

[2022-11-16T09:24:55.825] [DEBUG] default - 

[2022-11-16T09:24:55.850] [DEBUG] default - [0m[1m[32mTerraform has been successfully initialized![0m[32m[0m
[0m[32m
You may now begin working with Terraform. Try running "terraform plan" to see
any changes that are required for your infrastructure. All Terraform commands
should now work.

If you ever set or change modules or backend configuration for Terraform,
rerun this command to reinitialize your working directory. If you forget, other
commands will detect it and remind you to do so if necessary.[0m

[2022-11-16T09:25:00.757] [DEBUG] default - [0m[1maws_vpc.sample-cdktf-vpc: Refreshing state... [id=vpc-045b92b482ef76254][0m

[2022-11-16T09:25:02.626] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Refreshing state... [id=sg-039556800e9cab6e1][0m

[2022-11-16T09:25:02.627] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Refreshing state... [id=igw-0cc1f41a6e7a3ffd6][0m

[2022-11-16T09:25:02.627] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Refreshing state... [id=subnet-0ddb3015e06d74ce8][0m

[2022-11-16T09:25:02.954] [DEBUG] default - 

[2022-11-16T09:25:02.955] [DEBUG] default - An execution plan has been generated and is shown below.
Resource actions are indicated with the following symbols:
  [32m+[0m create
[0m

[2022-11-16T09:25:02.955] [DEBUG] default - Terraform will perform the following actions:


[2022-11-16T09:25:02.956] [DEBUG] default - [1m  # aws_alb.sample-cdktf-alb[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_alb" "sample-cdktf-alb" {
      [32m+[0m [0m[1m[0marn[0m[0m                        = (known after apply)
      [32m+[0m [0m[1m[0marn_suffix[0m[0m                 = (known after apply)
      [32m+[0m [0m[1m[0mdns_name[0m[0m                   = (known after apply)
      [32m+[0m [0m[1m[0mdrop_invalid_header_fields[0m[0m = false
      [32m+[0m [0m[1m[0menable_deletion_protection[0m[0m = false
      [32m+[0m [0m[1m[0menable_http2[0m[0m               = true
      [32m+[0m [0m[1m[0mid[0m[0m                         = (known after apply)
      [32m+[0m [0m[1m[0midle_timeout[0m[0m               = 60

[2022-11-16T09:25:02.956] [DEBUG] default -       [32m+[0m [0m[1m[0minternal[0m[0m                   = false
      [32m+[0m [0m[1m[0mip_address_type[0m[0m            = "ipv4"

[2022-11-16T09:25:02.957] [DEBUG] default -       [32m+[0m [0m[1m[0mload_balancer_type[0m[0m         = "application"
      [32m+[0m [0m[1m[0mname[0m[0m                       = "sample-cdktf-alb"
      [32m+[0m [0m[1m[0msecurity_groups[0m[0m            = [
          [32m+[0m [0m"sg-01b60241c042b1663",
          [32m+[0m [0m"sg-039556800e9cab6e1",
        ]
      [32m+[0m [0m[1m[0msubnets[0m[0m                    = (known after apply)

[2022-11-16T09:25:02.957] [DEBUG] default -       [32m+[0m [0m[1m[0mvpc_id[0m[0m                     = (known after apply)

[2022-11-16T09:25:02.957] [DEBUG] default -       [32m+[0m [0m[1m[0mzone_id[0m[0m                    = (known after apply)

      [32m+[0m [0msubnet_mapping {

[2022-11-16T09:25:02.957] [DEBUG] default -           [32m+[0m [0m[1m[0mallocation_id[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0msubnet_id[0m[0m     = (known after apply)
        }
    }

[1m  # aws_alb_listener.sample-cdktf-alb-listener[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_alb_listener" "sample-cdktf-alb-listener" {

[2022-11-16T09:25:02.957] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m               = (known after apply)

[2022-11-16T09:25:02.957] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                = (known after apply)

[2022-11-16T09:25:02.957] [DEBUG] default -       [32m+[0m [0m[1m[0mload_balancer_arn[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mport[0m[0m              = 80

[2022-11-16T09:25:02.958] [DEBUG] default -       [32m+[0m [0m[1m[0mprotocol[0m[0m          = "HTTP"

[2022-11-16T09:25:02.958] [DEBUG] default -       [32m+[0m [0m[1m[0mssl_policy[0m[0m        = (known after apply)


[2022-11-16T09:25:02.958] [DEBUG] default -       [32m+[0m [0mdefault_action {

[2022-11-16T09:25:02.958] [DEBUG] default -           [32m+[0m [0m[1m[0morder[0m[0m            = (known after apply)

[2022-11-16T09:25:02.958] [DEBUG] default -           [32m+[0m [0m[1m[0mtarget_group_arn[0m[0m = (known after apply)

[2022-11-16T09:25:02.958] [DEBUG] default -           [32m+[0m [0m[1m[0mtype[0m[0m             = "forward"

[2022-11-16T09:25:02.958] [DEBUG] default -         }
    }

[1m  # aws_alb_listener_rule.sample-cdktf-alb-listener-rule[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_alb_listener_rule" "sample-cdktf-alb-listener-rule" {
      [32m+[0m [0m[1m[0marn[0m[0m          = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m           = (known after apply)

[2022-11-16T09:25:02.958] [DEBUG] default -       [32m+[0m [0m[1m[0mlistener_arn[0m[0m = (known after apply)

[2022-11-16T09:25:02.958] [DEBUG] default -       [32m+[0m [0m[1m[0mpriority[0m[0m     = 100

      [32m+[0m [0maction {

[2022-11-16T09:25:02.958] [DEBUG] default -           [32m+[0m [0m[1m[0morder[0m[0m            = (known after apply)

[2022-11-16T09:25:02.959] [DEBUG] default -           [32m+[0m [0m[1m[0mtarget_group_arn[0m[0m = (known after apply)

[2022-11-16T09:25:02.959] [DEBUG] default -           [32m+[0m [0m[1m[0mtype[0m[0m             = "forward"

[2022-11-16T09:25:02.959] [DEBUG] default -         }

      [32m+[0m [0mcondition {

[2022-11-16T09:25:02.959] [DEBUG] default -           [32m+[0m [0m[1m[0mfield[0m[0m  = "path-pattern"

[2022-11-16T09:25:02.959] [DEBUG] default -           [32m+[0m [0m[1m[0mvalues[0m[0m = [
              [32m+[0m [0m"*",

[2022-11-16T09:25:02.959] [DEBUG] default -             ]

          [32m+[0m [0mhost_header {

[2022-11-16T09:25:02.959] [DEBUG] default -               [32m+[0m [0m[1m[0mvalues[0m[0m = (known after apply)
            }


[2022-11-16T09:25:02.959] [DEBUG] default -           [32m+[0m [0mpath_pattern {

[2022-11-16T09:25:02.961] [DEBUG] default -               [32m+[0m [0m[1m[0mvalues[0m[0m = (known after apply)
            }
        }
    }

[1m  # aws_alb_target_group.sample-cdktf-alb-target-group[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_alb_target_group" "sample-cdktf-alb-target-group" {
      [32m+[0m [0m[1m[0marn[0m[0m                                = (known after apply)
      [32m+[0m [0m[1m[0marn_suffix[0m[0m                         = (known after apply)
      [32m+[0m [0m[1m[0mderegistration_delay[0m[0m               = 300
      [32m+[0m [0m[1m[0mid[0m[0m                                 = (known after apply)
      [32m+[0m [0m[1m[0mlambda_multi_value_headers_enabled[0m[0m = false
      [32m+[0m [0m[1m[0mload_balancing_algorithm_type[0m[0m      = (known after apply)
      [32m+[0m [0m[1m[0mname[0m[0m                               = "sample-cdktf-alb-target-group"
      [32m+[0m [0m[1m[0mport[0m[0m                               = 80
      [32m+[0m [0m[1m[0mprotocol[0m[0m                           = "HTTP"
      [32m+[0m [0m[1m[0mproxy_protocol_v2[0m[0m                  = false
      [32m+[0m [0m[1m[0mslow_start[0m[0m                         = 0
      [32m+[0m [0m[1m[0mtarget_type[0m[0m                        = "ip"

[2022-11-16T09:25:02.962] [DEBUG] default -       [32m+[0m [0m[1m[0mvpc_id[0m[0m                             = "vpc-045b92b482ef76254"

      [32m+[0m [0mhealth_check {
          [32m+[0m [0m[1m[0menabled[0m[0m             = true
          [32m+[0m [0m[1m[0mhealthy_threshold[0m[0m   = 3
          [32m+[0m [0m[1m[0minterval[0m[0m            = 30

[2022-11-16T09:25:02.962] [DEBUG] default -           [32m+[0m [0m[1m[0mmatcher[0m[0m             = (known after apply)

[2022-11-16T09:25:02.962] [DEBUG] default -           [32m+[0m [0m[1m[0mpath[0m[0m                = "/"
          [32m+[0m [0m[1m[0mport[0m[0m                = "traffic-port"

[2022-11-16T09:25:02.962] [DEBUG] default -           [32m+[0m [0m[1m[0mprotocol[0m[0m            = "HTTP"

[2022-11-16T09:25:02.962] [DEBUG] default -           [32m+[0m [0m[1m[0mtimeout[0m[0m             = 5

[2022-11-16T09:25:02.962] [DEBUG] default -           [32m+[0m [0m[1m[0munhealthy_threshold[0m[0m = 2
        }

[2022-11-16T09:25:02.962] [DEBUG] default - 
      [32m+[0m [0mstickiness {

[2022-11-16T09:25:02.962] [DEBUG] default -           [32m+[0m [0m[1m[0mcookie_duration[0m[0m = (known after apply)

[2022-11-16T09:25:02.962] [DEBUG] default -           [32m+[0m [0m[1m[0menabled[0m[0m         = (known after apply)

[2022-11-16T09:25:02.963] [DEBUG] default -           [32m+[0m [0m[1m[0mtype[0m[0m            = (known after apply)

[2022-11-16T09:25:02.963] [DEBUG] default -         }
    }


[2022-11-16T09:25:02.963] [DEBUG] default - [1m  # aws_cloudwatch_event_rule.sample-cdktf-event-rule[0m will be created[0m[0m

[2022-11-16T09:25:02.963] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_cloudwatch_event_rule" "sample-cdktf-event-rule" {

[2022-11-16T09:25:02.963] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m           = (known after apply)

[2022-11-16T09:25:02.963] [DEBUG] default -       [32m+[0m [0m[1m[0mdescription[0m[0m   = "Capture each AWS ECR Update"

[2022-11-16T09:25:02.963] [DEBUG] default -       [32m+[0m [0m[1m[0mevent_pattern[0m[0m = jsonencode(
            {

[2022-11-16T09:25:02.963] [DEBUG] default -               [32m+[0m [0mdetail      = {

[2022-11-16T09:25:02.963] [DEBUG] default -                   [32m+[0m [0maction-type = [
                      [32m+[0m [0m"PUSH",

[2022-11-16T09:25:02.963] [DEBUG] default -                     ]

[2022-11-16T09:25:02.963] [DEBUG] default -                   [32m+[0m [0mresult      = [
                      [32m+[0m [0m"SUCCESS",

[2022-11-16T09:25:02.963] [DEBUG] default -                     ]

[2022-11-16T09:25:02.963] [DEBUG] default -                 }
              [32m+[0m [0mdetail-type = [

[2022-11-16T09:25:02.963] [DEBUG] default -                   [32m+[0m [0m"ECR Image Action",

[2022-11-16T09:25:02.963] [DEBUG] default -                 ]

[2022-11-16T09:25:02.964] [DEBUG] default -               [32m+[0m [0msource      = [

[2022-11-16T09:25:02.964] [DEBUG] default -                   [32m+[0m [0m"aws.ecr",

[2022-11-16T09:25:02.964] [DEBUG] default -                 ]

[2022-11-16T09:25:02.964] [DEBUG] default -             }
        )

[2022-11-16T09:25:02.964] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m            = (known after apply)

[2022-11-16T09:25:02.964] [DEBUG] default -       [32m+[0m [0m[1m[0mis_enabled[0m[0m    = true

[2022-11-16T09:25:02.964] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m          = "capture-ecr-update"
    }


[2022-11-16T09:25:02.964] [DEBUG] default - [1m  # aws_cloudwatch_event_target.sample-cdktf-event-target[0m will be created[0m[0m

[2022-11-16T09:25:02.964] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_cloudwatch_event_target" "sample-cdktf-event-target" {

[2022-11-16T09:25:02.964] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m       = (known after apply)

[2022-11-16T09:25:02.964] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m        = (known after apply)

[2022-11-16T09:25:02.964] [DEBUG] default -       [32m+[0m [0m[1m[0mrule[0m[0m      = "capture-ecr-update"

[2022-11-16T09:25:02.964] [DEBUG] default -       [32m+[0m [0m[1m[0mtarget_id[0m[0m = "SendToSNS"
    }


[2022-11-16T09:25:02.964] [DEBUG] default - [1m  # aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group[0m will be created[0m[0m

[2022-11-16T09:25:02.965] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_cloudwatch_log_group" "sample-cdktf-notification-to-slack-log-group" {

[2022-11-16T09:25:02.965] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m               = (known after apply)

[2022-11-16T09:25:02.965] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                = (known after apply)

[2022-11-16T09:25:02.965] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m              = "/aws/lambda/Sample-Lambda-Notification-to-Slack"

[2022-11-16T09:25:02.965] [DEBUG] default -       [32m+[0m [0m[1m[0mretention_in_days[0m[0m = 0
    }


[2022-11-16T09:25:02.965] [DEBUG] default - [1m  # aws_ecr_repository.sample-cdktf-repository[0m will be created[0m[0m

[2022-11-16T09:25:02.965] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_ecr_repository" "sample-cdktf-repository" {

[2022-11-16T09:25:02.965] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                  = (known after apply)

[2022-11-16T09:25:02.965] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                   = (known after apply)

[2022-11-16T09:25:02.965] [DEBUG] default -       [32m+[0m [0m[1m[0mimage_tag_mutability[0m[0m = "MUTABLE"

[2022-11-16T09:25:02.965] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m                 = "project/sample-cdktf"

[2022-11-16T09:25:02.966] [DEBUG] default -       [32m+[0m [0m[1m[0mregistry_id[0m[0m          = (known after apply)
      [32m+[0m [0m[1m[0mrepository_url[0m[0m       = (known after apply)
    }

[1m  # aws_ecs_cluster.sample-cdktf-cluster[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_ecs_cluster" "sample-cdktf-cluster" {
      [32m+[0m [0m[1m[0marn[0m[0m  = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m   = (known after apply)
      [32m+[0m [0m[1m[0mname[0m[0m = "sample-cdktf-cluster"

      [32m+[0m [0msetting {
          [32m+[0m [0m[1m[0mname[0m[0m  = (known after apply)
          [32m+[0m [0m[1m[0mvalue[0m[0m = (known after apply)
        }
    }

[1m  # aws_ecs_service.sample-cdktf-ecs-service[0m will be created[0m[0m

[2022-11-16T09:25:02.966] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_ecs_service" "sample-cdktf-ecs-service" {

[2022-11-16T09:25:02.966] [DEBUG] default -       [32m+[0m [0m[1m[0mcluster[0m[0m                            = (known after apply)

[2022-11-16T09:25:02.966] [DEBUG] default -       [32m+[0m [0m[1m[0mdeployment_maximum_percent[0m[0m         = 200

[2022-11-16T09:25:02.966] [DEBUG] default -       [32m+[0m [0m[1m[0mdeployment_minimum_healthy_percent[0m[0m = 100

[2022-11-16T09:25:02.966] [DEBUG] default -       [32m+[0m [0m[1m[0mdesired_count[0m[0m                      = 1

[2022-11-16T09:25:02.966] [DEBUG] default -       [32m+[0m [0m[1m[0menable_ecs_managed_tags[0m[0m            = false

[2022-11-16T09:25:02.966] [DEBUG] default -       [32m+[0m [0m[1m[0miam_role[0m[0m                           = (known after apply)

[2022-11-16T09:25:02.967] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                                 = (known after apply)

[2022-11-16T09:25:02.967] [DEBUG] default -       [32m+[0m [0m[1m[0mlaunch_type[0m[0m                        = "FARGATE"

[2022-11-16T09:25:02.967] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m                               = "sample-cdktf-ecs-service"

[2022-11-16T09:25:02.967] [DEBUG] default -       [32m+[0m [0m[1m[0mplatform_version[0m[0m                   = "LATEST"

[2022-11-16T09:25:02.967] [DEBUG] default -       [32m+[0m [0m[1m[0mscheduling_strategy[0m[0m                = "REPLICA"

[2022-11-16T09:25:02.967] [DEBUG] default -       [32m+[0m [0m[1m[0mtask_definition[0m[0m                    = (known after apply)


[2022-11-16T09:25:02.967] [DEBUG] default -       [32m+[0m [0mload_balancer {

[2022-11-16T09:25:02.967] [DEBUG] default -           [32m+[0m [0m[1m[0mcontainer_name[0m[0m   = "sample-cdktf-container"

[2022-11-16T09:25:02.967] [DEBUG] default -           [32m+[0m [0m[1m[0mcontainer_port[0m[0m   = 9000

[2022-11-16T09:25:02.967] [DEBUG] default -           [32m+[0m [0m[1m[0mtarget_group_arn[0m[0m = (known after apply)
        }


[2022-11-16T09:25:02.967] [DEBUG] default -       [32m+[0m [0mnetwork_configuration {

[2022-11-16T09:25:02.967] [DEBUG] default -           [32m+[0m [0m[1m[0massign_public_ip[0m[0m = false

[2022-11-16T09:25:02.968] [DEBUG] default -           [32m+[0m [0m[1m[0msecurity_groups[0m[0m  = [

[2022-11-16T09:25:02.968] [DEBUG] default -               [32m+[0m [0m"sg-01b60241c042b1663",

[2022-11-16T09:25:02.968] [DEBUG] default -             ]
          [32m+[0m [0m[1m[0msubnets[0m[0m          = (known after apply)
        }

[2022-11-16T09:25:02.968] [DEBUG] default - 
      [32m+[0m [0mplacement_strategy {

[2022-11-16T09:25:02.968] [DEBUG] default -           [32m+[0m [0m[1m[0mfield[0m[0m = (known after apply)

[2022-11-16T09:25:02.968] [DEBUG] default -           [32m+[0m [0m[1m[0mtype[0m[0m  = (known after apply)
        }
    }

[2022-11-16T09:25:02.968] [DEBUG] default - 
[1m  # aws_ecs_task_definition.sample-cdktf-task[0m will be created[0m[0m

[2022-11-16T09:25:02.968] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_ecs_task_definition" "sample-cdktf-task" {

[2022-11-16T09:25:02.968] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                      = (known after apply)

[2022-11-16T09:25:02.968] [DEBUG] default -       [32m+[0m [0m[1m[0mcontainer_definitions[0m[0m    = (known after apply)
      [32m+[0m [0m[1m[0mcpu[0m[0m                      = "512"

[2022-11-16T09:25:02.968] [DEBUG] default -       [32m+[0m [0m[1m[0mexecution_role_arn[0m[0m       = (known after apply)
      [32m+[0m [0m[1m[0mfamily[0m[0m                   = "task-for-cdktf"

[2022-11-16T09:25:02.968] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                       = (known after apply)

[2022-11-16T09:25:02.968] [DEBUG] default -       [32m+[0m [0m[1m[0mmemory[0m[0m                   = "1024"

[2022-11-16T09:25:02.968] [DEBUG] default -       [32m+[0m [0m[1m[0mnetwork_mode[0m[0m             = "awsvpc"

[2022-11-16T09:25:02.969] [DEBUG] default -       [32m+[0m [0m[1m[0mrequires_compatibilities[0m[0m = [
          [32m+[0m [0m"FARGATE",
        ]

[2022-11-16T09:25:02.969] [DEBUG] default -       [32m+[0m [0m[1m[0mrevision[0m[0m                 = (known after apply)

[2022-11-16T09:25:02.969] [DEBUG] default -       [32m+[0m [0m[1m[0mtask_role_arn[0m[0m            = (known after apply)
    }


[2022-11-16T09:25:02.969] [DEBUG] default - [1m  # aws_eip.sample-cdktf-eip[0m will be created[0m[0m

[2022-11-16T09:25:02.969] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_eip" "sample-cdktf-eip" {
      [32m+[0m [0m[1m[0mallocation_id[0m[0m     = (known after apply)

[2022-11-16T09:25:02.969] [DEBUG] default -       [32m+[0m [0m[1m[0massociation_id[0m[0m    = (known after apply)

[2022-11-16T09:25:02.969] [DEBUG] default -       [32m+[0m [0m[1m[0mcustomer_owned_ip[0m[0m = (known after apply)

[2022-11-16T09:25:02.969] [DEBUG] default -       [32m+[0m [0m[1m[0mdomain[0m[0m            = (known after apply)

[2022-11-16T09:25:02.969] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                = (known after apply)

[2022-11-16T09:25:02.969] [DEBUG] default -       [32m+[0m [0m[1m[0minstance[0m[0m          = (known after apply)

[2022-11-16T09:25:02.969] [DEBUG] default -       [32m+[0m [0m[1m[0mnetwork_interface[0m[0m = (known after apply)

[2022-11-16T09:25:02.969] [DEBUG] default -       [32m+[0m [0m[1m[0mprivate_dns[0m[0m       = (known after apply)

[2022-11-16T09:25:02.969] [DEBUG] default -       [32m+[0m [0m[1m[0mprivate_ip[0m[0m        = (known after apply)

[2022-11-16T09:25:02.970] [DEBUG] default -       [32m+[0m [0m[1m[0mpublic_dns[0m[0m        = (known after apply)

[2022-11-16T09:25:02.970] [DEBUG] default -       [32m+[0m [0m[1m[0mpublic_ip[0m[0m         = (known after apply)

[2022-11-16T09:25:02.970] [DEBUG] default -       [32m+[0m [0m[1m[0mpublic_ipv4_pool[0m[0m  = (known after apply)

[2022-11-16T09:25:02.970] [DEBUG] default -       [32m+[0m [0m[1m[0mvpc[0m[0m               = true
    }


[2022-11-16T09:25:02.970] [DEBUG] default - [1m  # aws_iam_policy.ecs-task-execution-policy[0m will be created[0m[0m

[2022-11-16T09:25:02.970] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_iam_policy" "ecs-task-execution-policy" {

[2022-11-16T09:25:02.970] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m         = (known after apply)

[2022-11-16T09:25:02.970] [DEBUG] default -       [32m+[0m [0m[1m[0mdescription[0m[0m = "Policy for updating ECS tasks"

[2022-11-16T09:25:02.970] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m          = (known after apply)

[2022-11-16T09:25:02.970] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m        = "ecs-task-execution-policy"

[2022-11-16T09:25:02.970] [DEBUG] default -       [32m+[0m [0m[1m[0mpath[0m[0m        = "/"
      [32m+[0m [0m[1m[0mpolicy[0m[0m      = jsonencode(
            {

[2022-11-16T09:25:02.970] [DEBUG] default -               [32m+[0m [0mStatement = [
                  [32m+[0m [0m{

[2022-11-16T09:25:02.971] [DEBUG] default -                       [32m+[0m [0mAction   = [

[2022-11-16T09:25:02.971] [DEBUG] default -                           [32m+[0m [0m"ecr:GetAuthorizationToken",

[2022-11-16T09:25:02.971] [DEBUG] default -                           [32m+[0m [0m"ecr:BatchCheckLayerAvailability",

[2022-11-16T09:25:02.971] [DEBUG] default -                           [32m+[0m [0m"ecr:GetDownloadUrlForLayer",

[2022-11-16T09:25:02.971] [DEBUG] default -                           [32m+[0m [0m"ecr:BatchGetImage",

[2022-11-16T09:25:02.971] [DEBUG] default -                           [32m+[0m [0m"logs:CreateLogStream",

[2022-11-16T09:25:02.971] [DEBUG] default -                           [32m+[0m [0m"logs:PutLogEvents",

[2022-11-16T09:25:02.971] [DEBUG] default -                         ]
                      [32m+[0m [0mEffect   = "Allow"

[2022-11-16T09:25:02.971] [DEBUG] default -                       [32m+[0m [0mResource = [

[2022-11-16T09:25:02.971] [DEBUG] default -                           [32m+[0m [0m"*",
                        ]
                    },

[2022-11-16T09:25:02.971] [DEBUG] default -                 ]

[2022-11-16T09:25:02.971] [DEBUG] default -               [32m+[0m [0mVersion   = "2012-10-17"
            }
        )
    }


[2022-11-16T09:25:02.971] [DEBUG] default - [1m  # aws_iam_policy.ecs-task-policy[0m will be created[0m[0m

[2022-11-16T09:25:02.971] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_iam_policy" "ecs-task-policy" {

[2022-11-16T09:25:02.971] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m         = (known after apply)

[2022-11-16T09:25:02.971] [DEBUG] default -       [32m+[0m [0m[1m[0mdescription[0m[0m = "Policy for updating ECS tasks"

[2022-11-16T09:25:02.972] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m          = (known after apply)

[2022-11-16T09:25:02.972] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m        = "ecs-task-policy"

[2022-11-16T09:25:02.972] [DEBUG] default -       [32m+[0m [0m[1m[0mpath[0m[0m        = "/"

[2022-11-16T09:25:02.972] [DEBUG] default -       [32m+[0m [0m[1m[0mpolicy[0m[0m      = jsonencode(
            {

[2022-11-16T09:25:02.972] [DEBUG] default -               [32m+[0m [0mStatement = [
                  [32m+[0m [0m{

[2022-11-16T09:25:02.972] [DEBUG] default -                       [32m+[0m [0mAction   = [

[2022-11-16T09:25:02.972] [DEBUG] default -                           [32m+[0m [0m"ecs:DescribeServices",

[2022-11-16T09:25:02.972] [DEBUG] default -                           [32m+[0m [0m"ecs:CreateTaskSet",

[2022-11-16T09:25:02.972] [DEBUG] default -                           [32m+[0m [0m"ecs:UpdateServicePrimaryTaskSet",

[2022-11-16T09:25:02.972] [DEBUG] default -                           [32m+[0m [0m"ecs:DeleteTaskSet",

[2022-11-16T09:25:02.972] [DEBUG] default -                           [32m+[0m [0m"elasticloadbalancing:DescribeTargetGroups",

[2022-11-16T09:25:02.972] [DEBUG] default -                           [32m+[0m [0m"elasticloadbalancing:DescribeListeners",

[2022-11-16T09:25:02.972] [DEBUG] default -                           [32m+[0m [0m"elasticloadbalancing:ModifyListener",

[2022-11-16T09:25:02.972] [DEBUG] default -                           [32m+[0m [0m"elasticloadbalancing:DescribeRules",

[2022-11-16T09:25:02.972] [DEBUG] default -                           [32m+[0m [0m"elasticloadbalancing:ModifyRule",

[2022-11-16T09:25:02.973] [DEBUG] default -                           [32m+[0m [0m"lambda:InvokeFunction",

[2022-11-16T09:25:02.973] [DEBUG] default -                           [32m+[0m [0m"cloudwatch:DescribeAlarms",

[2022-11-16T09:25:02.973] [DEBUG] default -                           [32m+[0m [0m"sns:Publish",

[2022-11-16T09:25:02.973] [DEBUG] default -                           [32m+[0m [0m"s3:GetObject",

[2022-11-16T09:25:02.973] [DEBUG] default -                           [32m+[0m [0m"s3:GetObjectVersion",
                        ]

[2022-11-16T09:25:02.973] [DEBUG] default -                       [32m+[0m [0mEffect   = "Allow"

[2022-11-16T09:25:02.973] [DEBUG] default -                       [32m+[0m [0mResource = [

[2022-11-16T09:25:02.973] [DEBUG] default -                           [32m+[0m [0m"*",

[2022-11-16T09:25:02.973] [DEBUG] default -                         ]
                    },
                ]

[2022-11-16T09:25:02.973] [DEBUG] default -               [32m+[0m [0mVersion   = "2012-10-17"

[2022-11-16T09:25:02.973] [DEBUG] default -             }
        )
    }


[2022-11-16T09:25:02.973] [DEBUG] default - [1m  # aws_iam_policy.lambda-logging[0m will be created[0m[0m

[2022-11-16T09:25:02.973] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_iam_policy" "lambda-logging" {

[2022-11-16T09:25:02.973] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m         = (known after apply)

[2022-11-16T09:25:02.973] [DEBUG] default -       [32m+[0m [0m[1m[0mdescription[0m[0m = "IAM policy for logging from a lambda"

[2022-11-16T09:25:02.973] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m          = (known after apply)

[2022-11-16T09:25:02.973] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m        = "sample-cdktf-lambda-logging"

[2022-11-16T09:25:02.974] [DEBUG] default -       [32m+[0m [0m[1m[0mpath[0m[0m        = "/"

[2022-11-16T09:25:02.974] [DEBUG] default -       [32m+[0m [0m[1m[0mpolicy[0m[0m      = jsonencode(
            {

[2022-11-16T09:25:02.974] [DEBUG] default -               [32m+[0m [0mStatement = [
                  [32m+[0m [0m{

[2022-11-16T09:25:02.974] [DEBUG] default -                       [32m+[0m [0mAction   = [

[2022-11-16T09:25:02.974] [DEBUG] default -                           [32m+[0m [0m"iam:PassRole",

[2022-11-16T09:25:02.974] [DEBUG] default -                           [32m+[0m [0m"ecs:RegisterTaskDefinition",

[2022-11-16T09:25:02.974] [DEBUG] default -                           [32m+[0m [0m"ecs:UpdateService",

[2022-11-16T09:25:02.974] [DEBUG] default -                           [32m+[0m [0m"logs:CreateLogGroup",

[2022-11-16T09:25:02.974] [DEBUG] default -                           [32m+[0m [0m"logs:CreateLogStream",

[2022-11-16T09:25:02.974] [DEBUG] default -                           [32m+[0m [0m"logs:PutLogEvents",

[2022-11-16T09:25:02.974] [DEBUG] default -                         ]

[2022-11-16T09:25:02.974] [DEBUG] default -                       [32m+[0m [0mEffect   = "Allow"

[2022-11-16T09:25:02.974] [DEBUG] default -                       [32m+[0m [0mResource = [
                          [32m+[0m [0m"*",

[2022-11-16T09:25:02.974] [DEBUG] default -                           [32m+[0m [0m"arn:aws:logs:*:*:*",

[2022-11-16T09:25:02.974] [DEBUG] default -                           [32m+[0m [0m"arn:aws:ecs:*:*:*",

[2022-11-16T09:25:02.974] [DEBUG] default -                           [32m+[0m [0m"arn:aws:iam::445682127642:role/sample-cdktf-ecsTaskExecutionRole",

[2022-11-16T09:25:02.975] [DEBUG] default -                         ]
                    },

[2022-11-16T09:25:02.975] [DEBUG] default -                 ]
              [32m+[0m [0mVersion   = "2012-10-17"

[2022-11-16T09:25:02.975] [DEBUG] default -             }
        )
    }


[2022-11-16T09:25:02.975] [DEBUG] default - [1m  # aws_iam_role.ecsTaskExecutionRole[0m will be created[0m[0m

[2022-11-16T09:25:02.975] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_iam_role" "ecsTaskExecutionRole" {

[2022-11-16T09:25:02.975] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                   = (known after apply)

[2022-11-16T09:25:02.975] [DEBUG] default -       [32m+[0m [0m[1m[0massume_role_policy[0m[0m    = jsonencode(

[2022-11-16T09:25:02.975] [DEBUG] default -             {
              [32m+[0m [0mStatement = [

[2022-11-16T09:25:02.975] [DEBUG] default -                   [32m+[0m [0m{

[2022-11-16T09:25:02.975] [DEBUG] default -                       [32m+[0m [0mAction    = "sts:AssumeRole"

[2022-11-16T09:25:02.975] [DEBUG] default -                       [32m+[0m [0mEffect    = "Allow"

[2022-11-16T09:25:02.975] [DEBUG] default -                       [32m+[0m [0mPrincipal = {

[2022-11-16T09:25:02.975] [DEBUG] default -                           [32m+[0m [0mService = "ecs-tasks.amazonaws.com"

[2022-11-16T09:25:02.975] [DEBUG] default -                         }

[2022-11-16T09:25:02.975] [DEBUG] default -                       [32m+[0m [0mSid       = ""
                    },

[2022-11-16T09:25:02.975] [DEBUG] default -                 ]

[2022-11-16T09:25:02.975] [DEBUG] default -               [32m+[0m [0mVersion   = "2012-10-17"
            }
        )

[2022-11-16T09:25:02.975] [DEBUG] default -       [32m+[0m [0m[1m[0mcreate_date[0m[0m           = (known after apply)

[2022-11-16T09:25:02.975] [DEBUG] default -       [32m+[0m [0m[1m[0mforce_detach_policies[0m[0m = false

[2022-11-16T09:25:02.976] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                    = (known after apply)

[2022-11-16T09:25:02.976] [DEBUG] default -       [32m+[0m [0m[1m[0mmax_session_duration[0m[0m  = 3600

[2022-11-16T09:25:02.976] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m                  = "sample-cdktf-ecsTaskExecutionRole"

[2022-11-16T09:25:02.976] [DEBUG] default -       [32m+[0m [0m[1m[0mpath[0m[0m                  = "/"

[2022-11-16T09:25:02.976] [DEBUG] default -       [32m+[0m [0m[1m[0munique_id[0m[0m             = (known after apply)
    }


[2022-11-16T09:25:02.976] [DEBUG] default - [1m  # aws_iam_role.ecsTaskRole[0m will be created[0m[0m

[2022-11-16T09:25:02.976] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_iam_role" "ecsTaskRole" {

[2022-11-16T09:25:03.007] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                   = (known after apply)
      [32m+[0m [0m[1m[0massume_role_policy[0m[0m    = jsonencode(
            {
              [32m+[0m [0mStatement = [
                  [32m+[0m [0m{
                      [32m+[0m [0mAction    = "sts:AssumeRole"
                      [32m+[0m [0mEffect    = "Allow"
                      [32m+[0m [0mPrincipal = {
                          [32m+[0m [0mService = "ecs-tasks.amazonaws.com"
                        }
                      [32m+[0m [0mSid       = ""
                    },
                ]
              [32m+[0m [0mVersion   = "2012-10-17"
            }
        )
      [32m+[0m [0m[1m[0mcreate_date[0m[0m           = (known after apply)
      [32m+[0m [0m[1m[0mforce_detach_policies[0m[0m = false
      [32m+[0m [0m[1m[0mid[0m[0m                    = (known after apply)
      [32m+[0m [0m[1m[0mmax_session_duration[0m[0m  = 3600
      [32m+[0m [0m[1m[0mname[0m[0m                  = "sample-cdktf-ecsTaskRole"
      [32m+[0m [0m[1m[0mpath[0m[0m                  = "/"
      [32m+[0m [0m[1m[0munique_id[0m[0m             = (known after apply)
    }

[1m  # aws_iam_role.lambdaExecutionRole[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_iam_role" "lambdaExecutionRole" {
      [32m+[0m [0m[1m[0marn[0m[0m                   = (known after apply)
      [32m+[0m [0m[1m[0massume_role_policy[0m[0m    = jsonencode(
            {
              [32m+[0m [0mStatement = [
                  [32m+[0m [0m{
                      [32m+[0m [0mAction    = "sts:AssumeRole"
                      [32m+[0m [0mEffect    = "Allow"
                      [32m+[0m [0mPrincipal = {
                          [32m+[0m [0mService = [
                              [32m+[0m [0m"lambda.amazonaws.com",
                              [32m+[0m [0m"ecs-tasks.amazonaws.com",
                            ]
                        }
                      [32m+[0m [0mSid       = ""
                    },
                ]
              [32m+[0m [0mVersion   = "2012-10-17"
            }
        )
      [32m+[0m [0m[1m[0mcreate_date[0m[0m           = (known after apply)
      [32m+[0m [0m[1m[0mforce_detach_policies[0m[0m = false
      [32m+[0m [0m[1m[0mid[0m[0m                    = (known after apply)
      [32m+[0m [0m[1m[0mmax_session_duration[0m[0m  = 3600
      [32m+[0m [0m[1m[0mname[0m[0m                  = "sample-cdktf-lambdaExecutionRole"
      [32m+[0m [0m[1m[0mpath[0m[0m                  = "/"
      [32m+[0m [0m[1m[0munique_id[0m[0m             = (known after apply)
    }

[1m  # aws_iam_role_policy_attachment.attach-ecs-task-execution-policy[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_iam_role_policy_attachment" "attach-ecs-task-execution-policy" {
      [32m+[0m [0m[1m[0mid[0m[0m         = (known after apply)
      [32m+[0m [0m[1m[0mpolicy_arn[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mrole[0m[0m       = "sample-cdktf-ecsTaskExecutionRole"
    }

[1m  # aws_iam_role_policy_attachment.attach-ecs-task-policy[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_iam_role_policy_attachment" "attach-ecs-task-policy" {
      [32m+[0m [0m[1m[0mid[0m[0m         = (known after apply)
      [32m+[0m [0m[1m[0mpolicy_arn[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mrole[0m[0m       = "sample-cdktf-ecsTaskRole"
    }

[1m  # aws_iam_role_policy_attachment.attach-lambda-policy[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_iam_role_policy_attachment" "attach-lambda-policy" {
      [32m+[0m [0m[1m[0mid[0m[0m         = (known after apply)
      [32m+[0m [0m[1m[0mpolicy_arn[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mrole[0m[0m       = "sample-cdktf-lambdaExecutionRole"
    }

[1m  # aws_lambda_function.Sample-Lambda-Notification-to-Slack[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_lambda_function" "Sample-Lambda-Notification-to-Slack" {
      [32m+[0m [0m[1m[0marn[0m[0m                            = (known after apply)
      [32m+[0m [0m[1m[0mfunction_name[0m[0m                  = "Sample-Lambda-Notification-to-Slack"
      [32m+[0m [0m[1m[0mhandler[0m[0m                        = "index.handler"
      [32m+[0m [0m[1m[0mid[0m[0m                             = (known after apply)
      [32m+[0m [0m[1m[0minvoke_arn[0m[0m                     = (known after apply)
      [32m+[0m [0m[1m[0mlast_modified[0m[0m                  = (known after apply)
      [32m+[0m [0m[1m[0mmemory_size[0m[0m                    = 128
      [32m+[0m [0m[1m[0mpublish[0m[0m                        = false
      [32m+[0m [0m[1m[0mqualified_arn[0m[0m                  = (known after apply)
      [32m+[0m [0m[1m[0mreserved_concurrent_executions[0m[0m = -1
      [32m+[0m [0m[1m[0mrole[0m[0m                           = (known after apply)
      [32m+[0m [0m[1m[0mruntime[0m[0m                        = "nodejs12.x"
      [32m+[0m [0m[1m[0ms3_bucket[0m[0m                      = "sample-cdktf-s3"
      [32m+[0m [0m[1m[0ms3_key[0m[0m                         = "notification-to-Slack-dist.zip"
      [32m+[0m [0m[1m[0msource_code_hash[0m[0m               = (known after apply)
      [32m+[0m [0m[1m[0msource_code_size[0m[0m               = (known after apply)
      [32m+[0m [0m[1m[0mtimeout[0m[0m                        = 30
      [32m+[0m [0m[1m[0mversion[0m[0m                        = (known after apply)

      [32m+[0m [0menvironment {
          [32m+[0m [0m[1m[0mvariables[0m[0m = {
              [32m+[0m [0m"SLACK_API_TOKEN" = "xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp"
              [32m+[0m [0m"SLACK_CHANNEL"   = "C049CPNKHMJ"
            }
        }

      [32m+[0m [0mtracing_config {
          [32m+[0m [0m[1m[0mmode[0m[0m = (known after apply)
        }
    }

[1m  # aws_lambda_permission.permission-to-sns[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_lambda_permission" "permission-to-sns" {
      [32m+[0m [0m[1m[0maction[0m[0m        = "lambda:InvokeFunction"
      [32m+[0m [0m[1m[0mfunction_name[0m[0m = "Sample-Lambda-Notification-to-Slack"
      [32m+[0m [0m[1m[0mid[0m[0m            = (known after apply)
      [32m+[0m [0m[1m[0mprincipal[0m[0m     = "sns.amazonaws.com"
      [32m+[0m [0m[1m[0msource_arn[0m[0m    = (known after apply)
      [32m+[0m [0m[1m[0mstatement_id[0m[0m  = "AllowExecutionFromSNS"
    }

[1m  # aws_nat_gateway.sample-cdktf-nat-gateway[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_nat_gateway" "sample-cdktf-nat-gateway" {
      [32m+[0m [0m[1m[0mallocation_id[0m[0m        = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m                   = (known after apply)
      [32m+[0m [0m[1m[0mnetwork_interface_id[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mprivate_ip[0m[0m           = (known after apply)
      [32m+[0m [0m[1m[0mpublic_ip[0m[0m            = (known after apply)
      [32m+[0m [0m[1m[0msubnet_id[0m[0m            = (known after apply)
      [32m+[0m [0m[1m[0mtags[0m[0m                 = {
          [32m+[0m [0m"Name" = "sample-cdktf nat-gateway-production"
        }
    }

[1m  # aws_route_table.sample-cdktf-private-rtb[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_route_table" "sample-cdktf-private-rtb" {
      [32m+[0m [0m[1m[0mid[0m[0m               = (known after apply)
      [32m+[0m [0m[1m[0mowner_id[0m[0m         = (known after apply)
      [32m+[0m [0m[1m[0mpropagating_vgws[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mroute[0m[0m            = [
          [32m+[0m [0m{
              [32m+[0m [0mcidr_block                = "0.0.0.0/0"
              [32m+[0m [0megress_only_gateway_id    = ""

[2022-11-16T09:25:03.007] [DEBUG] default -               [32m+[0m [0mgateway_id                = ""
              [32m+[0m [0minstance_id               = ""
              [32m+[0m [0mipv6_cidr_block           = ""
              [32m+[0m [0mnat_gateway_id            = (known after apply)

[2022-11-16T09:25:03.007] [DEBUG] default -               [32m+[0m [0mnetwork_interface_id      = ""
              [32m+[0m [0mtransit_gateway_id        = ""

[2022-11-16T09:25:03.007] [DEBUG] default -               [32m+[0m [0mvpc_peering_connection_id = ""
            },

[2022-11-16T09:25:03.007] [DEBUG] default -         ]

[2022-11-16T09:25:03.007] [DEBUG] default -       [32m+[0m [0m[1m[0mtags[0m[0m             = {
          [32m+[0m [0m"Name" = "sample-cdktf Private rtb"

[2022-11-16T09:25:03.008] [DEBUG] default -         }

[2022-11-16T09:25:03.008] [DEBUG] default -       [32m+[0m [0m[1m[0mvpc_id[0m[0m           = "vpc-045b92b482ef76254"
    }


[2022-11-16T09:25:03.008] [DEBUG] default - [1m  # aws_route_table.sample-cdktf-public-rtb[0m will be created[0m[0m

[2022-11-16T09:25:03.008] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_route_table" "sample-cdktf-public-rtb" {

[2022-11-16T09:25:03.008] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m               = (known after apply)

[2022-11-16T09:25:03.008] [DEBUG] default -       [32m+[0m [0m[1m[0mowner_id[0m[0m         = (known after apply)

[2022-11-16T09:25:03.008] [DEBUG] default -       [32m+[0m [0m[1m[0mpropagating_vgws[0m[0m = (known after apply)

[2022-11-16T09:25:03.009] [DEBUG] default -       [32m+[0m [0m[1m[0mroute[0m[0m            = [
          [32m+[0m [0m{

[2022-11-16T09:25:03.009] [DEBUG] default -               [32m+[0m [0mcidr_block                = "0.0.0.0/0"

[2022-11-16T09:25:03.009] [DEBUG] default -               [32m+[0m [0megress_only_gateway_id    = ""

[2022-11-16T09:25:03.011] [DEBUG] default -               [32m+[0m [0mgateway_id                = "igw-0cc1f41a6e7a3ffd6"
              [32m+[0m [0minstance_id               = ""
              [32m+[0m [0mipv6_cidr_block           = ""
              [32m+[0m [0mnat_gateway_id            = ""
              [32m+[0m [0mnetwork_interface_id      = ""
              [32m+[0m [0mtransit_gateway_id        = ""
              [32m+[0m [0mvpc_peering_connection_id = ""
            },
        ]
      [32m+[0m [0m[1m[0mtags[0m[0m             = {
          [32m+[0m [0m"Name" = "sample-cdktf Public rtb"
        }
      [32m+[0m [0m[1m[0mvpc_id[0m[0m           = "vpc-045b92b482ef76254"
    }

[1m  # aws_route_table_association.sample-cdktf-private-rtb-association1[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_route_table_association" "sample-cdktf-private-rtb-association1" {
      [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)
      [32m+[0m [0m[1m[0mroute_table_id[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0msubnet_id[0m[0m      = (known after apply)
    }

[1m  # aws_route_table_association.sample-cdktf-private-rtb-association2[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_route_table_association" "sample-cdktf-private-rtb-association2" {
      [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)

[2022-11-16T09:25:03.011] [DEBUG] default -       [32m+[0m [0m[1m[0mroute_table_id[0m[0m = (known after apply)

[2022-11-16T09:25:03.011] [DEBUG] default -       [32m+[0m [0m[1m[0msubnet_id[0m[0m      = (known after apply)
    }


[2022-11-16T09:25:03.011] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-public-rtb-association1[0m will be created[0m[0m

[2022-11-16T09:25:03.011] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_route_table_association" "sample-cdktf-public-rtb-association1" {

[2022-11-16T09:25:03.011] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)

[2022-11-16T09:25:03.012] [DEBUG] default -       [32m+[0m [0m[1m[0mroute_table_id[0m[0m = (known after apply)

[2022-11-16T09:25:03.012] [DEBUG] default -       [32m+[0m [0m[1m[0msubnet_id[0m[0m      = (known after apply)

[2022-11-16T09:25:03.012] [DEBUG] default -     }


[2022-11-16T09:25:03.012] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-public-rtb-association2[0m will be created[0m[0m

[2022-11-16T09:25:03.012] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_route_table_association" "sample-cdktf-public-rtb-association2" {

[2022-11-16T09:25:03.012] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)

[2022-11-16T09:25:03.012] [DEBUG] default -       [32m+[0m [0m[1m[0mroute_table_id[0m[0m = (known after apply)

[2022-11-16T09:25:03.013] [DEBUG] default -       [32m+[0m [0m[1m[0msubnet_id[0m[0m      = "subnet-0ddb3015e06d74ce8"
    }

[1m  # aws_route_table_association.sample-cdktf-public-rtb1[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_route_table_association" "sample-cdktf-public-rtb1" {
      [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)

[2022-11-16T09:25:03.013] [DEBUG] default -       [32m+[0m [0m[1m[0mroute_table_id[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0msubnet_id[0m[0m      = (known after apply)
    }


[2022-11-16T09:25:03.013] [DEBUG] default - [1m  # aws_s3_bucket.sample-cdktf-s3[0m will be created[0m[0m

[2022-11-16T09:25:03.013] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_s3_bucket" "sample-cdktf-s3" {

[2022-11-16T09:25:03.013] [DEBUG] default -       [32m+[0m [0m[1m[0macceleration_status[0m[0m         = (known after apply)

[2022-11-16T09:25:03.013] [DEBUG] default -       [32m+[0m [0m[1m[0macl[0m[0m                         = "private"

[2022-11-16T09:25:03.013] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                         = (known after apply)

[2022-11-16T09:25:03.013] [DEBUG] default -       [32m+[0m [0m[1m[0mbucket[0m[0m                      = "sample-cdktf-s3"

[2022-11-16T09:25:03.013] [DEBUG] default -       [32m+[0m [0m[1m[0mbucket_domain_name[0m[0m          = (known after apply)

[2022-11-16T09:25:03.014] [DEBUG] default -       [32m+[0m [0m[1m[0mbucket_regional_domain_name[0m[0m = (known after apply)

[2022-11-16T09:25:03.014] [DEBUG] default -       [32m+[0m [0m[1m[0mforce_destroy[0m[0m               = false
      [32m+[0m [0m[1m[0mhosted_zone_id[0m[0m              = (known after apply)

[2022-11-16T09:25:03.014] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                          = (known after apply)

[2022-11-16T09:25:03.014] [DEBUG] default -       [32m+[0m [0m[1m[0mregion[0m[0m                      = "ap-northeast-1"

[2022-11-16T09:25:03.014] [DEBUG] default -       [32m+[0m [0m[1m[0mrequest_payer[0m[0m               = (known after apply)

[2022-11-16T09:25:03.014] [DEBUG] default -       [32m+[0m [0m[1m[0mwebsite_domain[0m[0m              = (known after apply)

[2022-11-16T09:25:03.014] [DEBUG] default -       [32m+[0m [0m[1m[0mwebsite_endpoint[0m[0m            = (known after apply)

[2022-11-16T09:25:03.014] [DEBUG] default - 
      [32m+[0m [0mversioning {

[2022-11-16T09:25:03.014] [DEBUG] default -           [32m+[0m [0m[1m[0menabled[0m[0m    = (known after apply)

[2022-11-16T09:25:03.014] [DEBUG] default -           [32m+[0m [0m[1m[0mmfa_delete[0m[0m = (known after apply)

[2022-11-16T09:25:03.014] [DEBUG] default -         }
    }


[2022-11-16T09:25:03.015] [DEBUG] default - [1m  # aws_s3_bucket_object.notification-to-Slack-distzip[0m will be created[0m[0m

[2022-11-16T09:25:03.015] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_s3_bucket_object" "notification-to-Slack-distzip" {

[2022-11-16T09:25:03.015] [DEBUG] default -       [32m+[0m [0m[1m[0macl[0m[0m                    = "private"

[2022-11-16T09:25:03.015] [DEBUG] default -       [32m+[0m [0m[1m[0mbucket[0m[0m                 = "sample-cdktf-s3"

[2022-11-16T09:25:03.015] [DEBUG] default -       [32m+[0m [0m[1m[0mcontent_type[0m[0m           = "zip"

[2022-11-16T09:25:03.015] [DEBUG] default -       [32m+[0m [0m[1m[0metag[0m[0m                   = (known after apply)

[2022-11-16T09:25:03.015] [DEBUG] default -       [32m+[0m [0m[1m[0mforce_destroy[0m[0m          = false

[2022-11-16T09:25:03.015] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                     = (known after apply)

[2022-11-16T09:25:03.015] [DEBUG] default -       [32m+[0m [0m[1m[0mkey[0m[0m                    = "notification-to-Slack-dist.zip"

[2022-11-16T09:25:03.016] [DEBUG] default -       [32m+[0m [0m[1m[0mserver_side_encryption[0m[0m = (known after apply)

[2022-11-16T09:25:03.016] [DEBUG] default -       [32m+[0m [0m[1m[0msource[0m[0m                 = "/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip"

[2022-11-16T09:25:03.016] [DEBUG] default -       [32m+[0m [0m[1m[0mstorage_class[0m[0m          = (known after apply)

[2022-11-16T09:25:03.016] [DEBUG] default -       [32m+[0m [0m[1m[0mversion_id[0m[0m             = (known after apply)
    }


[2022-11-16T09:25:03.016] [DEBUG] default - [1m  # aws_security_group_rule.sample-cdktf-security-egress[0m will be created[0m[0m

[2022-11-16T09:25:03.016] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_security_group_rule" "sample-cdktf-security-egress" {

[2022-11-16T09:25:03.016] [DEBUG] default -       [32m+[0m [0m[1m[0mcidr_blocks[0m[0m              = [

[2022-11-16T09:25:03.016] [DEBUG] default -           [32m+[0m [0m"0.0.0.0/0",
        ]

[2022-11-16T09:25:03.016] [DEBUG] default -       [32m+[0m [0m[1m[0mfrom_port[0m[0m                = 0

[2022-11-16T09:25:03.016] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                       = (known after apply)

[2022-11-16T09:25:03.017] [DEBUG] default -       [32m+[0m [0m[1m[0mprotocol[0m[0m                 = "-1"

[2022-11-16T09:25:03.017] [DEBUG] default -       [32m+[0m [0m[1m[0msecurity_group_id[0m[0m        = "sg-039556800e9cab6e1"

[2022-11-16T09:25:03.017] [DEBUG] default -       [32m+[0m [0m[1m[0mself[0m[0m                     = false

[2022-11-16T09:25:03.017] [DEBUG] default -       [32m+[0m [0m[1m[0msource_security_group_id[0m[0m = (known after apply)

[2022-11-16T09:25:03.017] [DEBUG] default -       [32m+[0m [0m[1m[0mto_port[0m[0m                  = 0

[2022-11-16T09:25:03.017] [DEBUG] default -       [32m+[0m [0m[1m[0mtype[0m[0m                     = "egress"

[2022-11-16T09:25:03.017] [DEBUG] default -     }


[2022-11-16T09:25:03.017] [DEBUG] default - [1m  # aws_security_group_rule.sample-cdktf-security-ingress[0m will be created[0m[0m

[2022-11-16T09:25:03.017] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_security_group_rule" "sample-cdktf-security-ingress" {

[2022-11-16T09:25:03.017] [DEBUG] default -       [32m+[0m [0m[1m[0mcidr_blocks[0m[0m              = [

[2022-11-16T09:25:03.017] [DEBUG] default -           [32m+[0m [0m"0.0.0.0/0",
        ]

[2022-11-16T09:25:03.017] [DEBUG] default -       [32m+[0m [0m[1m[0mfrom_port[0m[0m                = 80

[2022-11-16T09:25:03.017] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                       = (known after apply)

[2022-11-16T09:25:03.017] [DEBUG] default -       [32m+[0m [0m[1m[0mprotocol[0m[0m                 = "tcp"

[2022-11-16T09:25:03.018] [DEBUG] default -       [32m+[0m [0m[1m[0msecurity_group_id[0m[0m        = "sg-039556800e9cab6e1"

[2022-11-16T09:25:03.018] [DEBUG] default -       [32m+[0m [0m[1m[0mself[0m[0m                     = false

[2022-11-16T09:25:03.018] [DEBUG] default -       [32m+[0m [0m[1m[0msource_security_group_id[0m[0m = (known after apply)

[2022-11-16T09:25:03.018] [DEBUG] default -       [32m+[0m [0m[1m[0mto_port[0m[0m                  = 80

[2022-11-16T09:25:03.018] [DEBUG] default -       [32m+[0m [0m[1m[0mtype[0m[0m                     = "ingress"

[2022-11-16T09:25:03.018] [DEBUG] default -     }


[2022-11-16T09:25:03.018] [DEBUG] default - [1m  # aws_sns_topic.sample-cdktf-sns[0m will be created[0m[0m

[2022-11-16T09:25:03.018] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_sns_topic" "sample-cdktf-sns" {

[2022-11-16T09:25:03.018] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m    = (known after apply)

[2022-11-16T09:25:03.018] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m     = (known after apply)

[2022-11-16T09:25:03.018] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m   = "sample-cdktf-sns"

[2022-11-16T09:25:03.018] [DEBUG] default -       [32m+[0m [0m[1m[0mpolicy[0m[0m = (known after apply)
    }


[2022-11-16T09:25:03.019] [DEBUG] default - [1m  # aws_sns_topic_policy.sample-cdktf-sns-policy[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_sns_topic_policy" "sample-cdktf-sns-policy" {

[2022-11-16T09:25:03.019] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m    = (known after apply)

[2022-11-16T09:25:03.019] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m     = (known after apply)

[2022-11-16T09:25:03.019] [DEBUG] default -       [32m+[0m [0m[1m[0mpolicy[0m[0m = jsonencode(

[2022-11-16T09:25:03.019] [DEBUG] default -             {

[2022-11-16T09:25:03.019] [DEBUG] default -               [32m+[0m [0mStatement = {
                  [32m+[0m [0mAction    = [

[2022-11-16T09:25:03.019] [DEBUG] default -                       [32m+[0m [0m"SNS:Publish",

[2022-11-16T09:25:03.019] [DEBUG] default -                     ]

[2022-11-16T09:25:03.019] [DEBUG] default -                   [32m+[0m [0mEffect    = "Allow"

[2022-11-16T09:25:03.019] [DEBUG] default -                   [32m+[0m [0mPrincipal = {

[2022-11-16T09:25:03.019] [DEBUG] default -                       [32m+[0m [0mService = "events.amazonaws.com"

[2022-11-16T09:25:03.019] [DEBUG] default -                     }

[2022-11-16T09:25:03.019] [DEBUG] default -                   [32m+[0m [0mResource  = [

[2022-11-16T09:25:03.019] [DEBUG] default -                       [32m+[0m [0m"*",
                    ]

[2022-11-16T09:25:03.020] [DEBUG] default -                   [32m+[0m [0mSid       = ""
                }

[2022-11-16T09:25:03.020] [DEBUG] default -               [32m+[0m [0mVersion   = "2012-10-17"
            }
        )

[2022-11-16T09:25:03.020] [DEBUG] default -     }


[2022-11-16T09:25:03.020] [DEBUG] default - [1m  # aws_sns_topic_subscription.sample-cdktf-sns-subscription[0m will be created[0m[0m

[2022-11-16T09:25:03.020] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_sns_topic_subscription" "sample-cdktf-sns-subscription" {

[2022-11-16T09:25:03.020] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                             = (known after apply)

[2022-11-16T09:25:03.020] [DEBUG] default -       [32m+[0m [0m[1m[0mconfirmation_timeout_in_minutes[0m[0m = 1

[2022-11-16T09:25:03.020] [DEBUG] default -       [32m+[0m [0m[1m[0mendpoint[0m[0m                        = (known after apply)

[2022-11-16T09:25:03.020] [DEBUG] default -       [32m+[0m [0m[1m[0mendpoint_auto_confirms[0m[0m          = false

[2022-11-16T09:25:03.020] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                              = (known after apply)

[2022-11-16T09:25:03.020] [DEBUG] default -       [32m+[0m [0m[1m[0mprotocol[0m[0m                        = "lambda"

[2022-11-16T09:25:03.021] [DEBUG] default -       [32m+[0m [0m[1m[0mraw_message_delivery[0m[0m            = false
      [32m+[0m [0m[1m[0mtopic_arn[0m[0m                       = (known after apply)
    }

[1m  # aws_subnet.sample-cdktf-private-subnet1[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_subnet" "sample-cdktf-private-subnet1" {

[2022-11-16T09:25:03.021] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                             = (known after apply)

[2022-11-16T09:25:03.021] [DEBUG] default -       [32m+[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false

[2022-11-16T09:25:03.021] [DEBUG] default -       [32m+[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1a"

[2022-11-16T09:25:03.021] [DEBUG] default -       [32m+[0m [0m[1m[0mavailability_zone_id[0m[0m            = (known after apply)

[2022-11-16T09:25:03.021] [DEBUG] default -       [32m+[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.128.0/20"

[2022-11-16T09:25:03.022] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                              = (known after apply)
      [32m+[0m [0m[1m[0mipv6_cidr_block[0m[0m                 = (known after apply)
      [32m+[0m [0m[1m[0mipv6_cidr_block_association_id[0m[0m  = (known after apply)
      [32m+[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true

[2022-11-16T09:25:03.022] [DEBUG] default -       [32m+[0m [0m[1m[0mowner_id[0m[0m                        = (known after apply)

[2022-11-16T09:25:03.022] [DEBUG] default -       [32m+[0m [0m[1m[0mtags[0m[0m                            = {

[2022-11-16T09:25:03.022] [DEBUG] default -           [32m+[0m [0m"Name" = "Private1 AZ1a sample-cdktf"
        }

[2022-11-16T09:25:03.022] [DEBUG] default -       [32m+[0m [0m[1m[0mvpc_id[0m[0m                          = "vpc-045b92b482ef76254"
    }

[2022-11-16T09:25:03.022] [DEBUG] default - 

[2022-11-16T09:25:03.022] [DEBUG] default - [1m  # aws_subnet.sample-cdktf-private-subnet2[0m will be created[0m[0m

[2022-11-16T09:25:03.022] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_subnet" "sample-cdktf-private-subnet2" {

[2022-11-16T09:25:03.022] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                             = (known after apply)

[2022-11-16T09:25:03.022] [DEBUG] default -       [32m+[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false

[2022-11-16T09:25:03.022] [DEBUG] default -       [32m+[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1c"

[2022-11-16T09:25:03.056] [DEBUG] default -       [32m+[0m [0m[1m[0mavailability_zone_id[0m[0m            = (known after apply)
      [32m+[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.144.0/20"
      [32m+[0m [0m[1m[0mid[0m[0m                              = (known after apply)
      [32m+[0m [0m[1m[0mipv6_cidr_block[0m[0m                 = (known after apply)
      [32m+[0m [0m[1m[0mipv6_cidr_block_association_id[0m[0m  = (known after apply)
      [32m+[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true
      [32m+[0m [0m[1m[0mowner_id[0m[0m                        = (known after apply)
      [32m+[0m [0m[1m[0mtags[0m[0m                            = {
          [32m+[0m [0m"Name" = "Private2 AZ1c sample-cdktf"
        }
      [32m+[0m [0m[1m[0mvpc_id[0m[0m                          = "vpc-045b92b482ef76254"
    }

[1m  # aws_subnet.sample-cdktf-public-subnet1[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_subnet" "sample-cdktf-public-subnet1" {
      [32m+[0m [0m[1m[0marn[0m[0m                             = (known after apply)
      [32m+[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false
      [32m+[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1a"
      [32m+[0m [0m[1m[0mavailability_zone_id[0m[0m            = (known after apply)
      [32m+[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.0.0/20"
      [32m+[0m [0m[1m[0mid[0m[0m                              = (known after apply)
      [32m+[0m [0m[1m[0mipv6_cidr_block[0m[0m                 = (known after apply)
      [32m+[0m [0m[1m[0mipv6_cidr_block_association_id[0m[0m  = (known after apply)
      [32m+[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true
      [32m+[0m [0m[1m[0mowner_id[0m[0m                        = (known after apply)
      [32m+[0m [0m[1m[0mtags[0m[0m                            = {
          [32m+[0m [0m"Name" = "Public1 AZ1a sample-cdktf"
        }
      [32m+[0m [0m[1m[0mvpc_id[0m[0m                          = "vpc-045b92b482ef76254"
    }

[0m[1mPlan:[0m 41 to add, 0 to change, 0 to destroy.[0m
[33m
[1m[33mWarning: [0m[0m[1m"condition.0.values": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m

[0m  on cdk.tf.json line 671, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:
 671:       [4m}[0m
[0m
[0m[0m
[33m
[1m[33mWarning: [0m[0m[1m"condition.0.field": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m

[0m  on cdk.tf.json line 671, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:
 671:       [4m}[0m
[0m
[0m[0m

------------------------------------------------------------------------

This plan was saved to: /Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/cdktf.out/plan

To perform exactly these actions, run the following command to apply:
    terraform apply "/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/cdktf.out/plan"


[2022-11-16T09:25:04.057] [DEBUG] default - {"format_version":"0.1","terraform_version":"0.14.8","planned_values":{"root_module":{"resources":[{"address":"aws_alb.sample-cdktf-alb","mode":"managed","type":"aws_alb","name":"sample-cdktf-alb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"access_logs":[],"drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":null,"enable_deletion_protection":false,"enable_http2":true,"idle_timeout":60,"internal":false,"ip_address_type":"ipv4","load_balancer_type":"application","name":"sample-cdktf-alb","name_prefix":null,"security_groups":["sg-01b60241c042b1663","sg-039556800e9cab6e1"],"tags":null,"timeouts":null}},{"address":"aws_alb_listener.sample-cdktf-alb-listener","mode":"managed","type":"aws_alb_listener","name":"sample-cdktf-alb-listener","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[],"type":"forward"}],"port":80,"protocol":"HTTP","timeouts":null}},{"address":"aws_alb_listener_rule.sample-cdktf-alb-listener-rule","mode":"managed","type":"aws_alb_listener_rule","name":"sample-cdktf-alb-listener-rule","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[],"type":"forward"}],"condition":[{"field":"path-pattern","http_header":[],"http_request_method":[],"query_string":[],"source_ip":[],"values":["*"]}],"priority":100}},{"address":"aws_alb_target_group.sample-cdktf-alb-target-group","mode":"managed","type":"aws_alb_target_group","name":"sample-cdktf-alb-target-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"deregistration_delay":300,"health_check":[{"enabled":true,"healthy_threshold":3,"interval":30,"path":"/","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"lambda_multi_value_headers_enabled":false,"name":"sample-cdktf-alb-target-group","name_prefix":null,"port":80,"protocol":"HTTP","proxy_protocol_v2":false,"slow_start":0,"tags":null,"target_type":"ip","vpc_id":"vpc-045b92b482ef76254"}},{"address":"aws_cloudwatch_event_rule.sample-cdktf-event-rule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"sample-cdktf-event-rule","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Capture each AWS ECR Update","event_pattern":"{\"detail\":{\"action-type\":[\"PUSH\"],\"result\":[\"SUCCESS\"]},\"detail-type\":[\"ECR Image Action\"],\"source\":[\"aws.ecr\"]}","is_enabled":true,"name":"capture-ecr-update","name_prefix":null,"role_arn":null,"schedule_expression":null,"tags":null}},{"address":"aws_cloudwatch_event_target.sample-cdktf-event-target","mode":"managed","type":"aws_cloudwatch_event_target","name":"sample-cdktf-event-target","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"batch_target":[],"ecs_target":[],"input":null,"input_path":null,"input_transformer":[],"kinesis_target":[],"role_arn":null,"rule":"capture-ecr-update","run_command_targets":[],"sqs_target":[],"target_id":"SendToSNS"}},{"address":"aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-notification-to-slack-log-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"kms_key_id":null,"name":"/aws/lambda/Sample-Lambda-Notification-to-Slack","name_prefix":null,"retention_in_days":0,"tags":null}},{"address":"aws_ecr_repository.sample-cdktf-repository","mode":"managed","type":"aws_ecr_repository","name":"sample-cdktf-repository","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"image_scanning_configuration":[],"image_tag_mutability":"MUTABLE","name":"project/sample-cdktf","tags":null,"timeouts":null}},{"address":"aws_ecs_cluster.sample-cdktf-cluster","mode":"managed","type":"aws_ecs_cluster","name":"sample-cdktf-cluster","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"capacity_providers":null,"default_capacity_provider_strategy":[],"name":"sample-cdktf-cluster","tags":null}},{"address":"aws_ecs_service.sample-cdktf-ecs-service","mode":"managed","type":"aws_ecs_service","name":"sample-cdktf-ecs-service","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"capacity_provider_strategy":[],"deployment_controller":[],"deployment_maximum_percent":200,"deployment_minimum_healthy_percent":100,"desired_count":1,"enable_ecs_managed_tags":false,"force_new_deployment":null,"health_check_grace_period_seconds":null,"launch_type":"FARGATE","load_balancer":[{"container_name":"sample-cdktf-container","container_port":9000,"elb_name":""}],"name":"sample-cdktf-ecs-service","network_configuration":[{"assign_public_ip":false,"security_groups":["sg-01b60241c042b1663"]}],"ordered_placement_strategy":[],"placement_constraints":[],"platform_version":"LATEST","propagate_tags":null,"scheduling_strategy":"REPLICA","service_registries":[],"tags":null,"timeouts":null}},{"address":"aws_ecs_task_definition.sample-cdktf-task","mode":"managed","type":"aws_ecs_task_definition","name":"sample-cdktf-task","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"cpu":"512","family":"task-for-cdktf","inference_accelerator":[],"ipc_mode":null,"memory":"1024","network_mode":"awsvpc","pid_mode":null,"placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":["FARGATE"],"tags":null,"volume":[]}},{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"associate_with_private_ip":null,"customer_owned_ipv4_pool":null,"tags":null,"timeouts":null,"vpc":true}},{"address":"aws_iam_policy.ecs-task-execution-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Policy for updating ECS tasks","name":"ecs-task-execution-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},{"address":"aws_iam_policy.ecs-task-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Policy for updating ECS tasks","name":"ecs-task-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecs:DescribeServices\",\n              \"ecs:CreateTaskSet\",\n              \"ecs:UpdateServicePrimaryTaskSet\",\n              \"ecs:DeleteTaskSet\",\n              \"elasticloadbalancing:DescribeTargetGroups\",\n              \"elasticloadbalancing:DescribeListeners\",\n              \"elasticloadbalancing:ModifyListener\",\n              \"elasticloadbalancing:DescribeRules\",\n              \"elasticloadbalancing:ModifyRule\",\n              \"lambda:InvokeFunction\",\n              \"cloudwatch:DescribeAlarms\",\n              \"sns:Publish\",\n              \"s3:GetObject\",\n              \"s3:GetObjectVersion\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},{"address":"aws_iam_policy.lambda-logging","mode":"managed","type":"aws_iam_policy","name":"lambda-logging","provider_name":"registry.terraform.io/ha
[2022-11-16T09:25:04.057] [DEBUG] default - shicorp/aws","schema_version":0,"values":{"description":"IAM policy for logging from a lambda","name":"sample-cdktf-lambda-logging","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"iam:PassRole\",\n              \"ecs:RegisterTaskDefinition\",\n              \"ecs:UpdateService\",\n              \"logs:CreateLogGroup\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\",\n              \"arn:aws:logs:*:*:*\",\n              \"arn:aws:ecs:*:*:*\",\n              \"arn:aws:iam::445682127642:role/sample-cdktf-ecsTaskExecutionRole\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},{"address":"aws_iam_role.ecsTaskExecutionRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\":    \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"sample-cdktf-ecsTaskExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null}},{"address":"aws_iam_role.ecsTaskRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskRole","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\n        \"Version\": \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n          },\n          \"Effect\": \"Allow\",\n          \"Sid\": \"\"\n          }\n        ]\n      }","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"sample-cdktf-ecsTaskRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null}},{"address":"aws_iam_role.lambdaExecutionRole","mode":"managed","type":"aws_iam_role","name":"lambdaExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": [\n                \"lambda.amazonaws.com\",\n                \"ecs-tasks.amazonaws.com\"\n              ]\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"sample-cdktf-lambdaExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null}},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-execution-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"sample-cdktf-ecsTaskExecutionRole"}},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"sample-cdktf-ecsTaskRole"}},{"address":"aws_iam_role_policy_attachment.attach-lambda-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-lambda-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"sample-cdktf-lambdaExecutionRole"}},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-0cc1f41a6e7a3ffd6","id":"igw-0cc1f41a6e7a3ffd6","owner_id":"574185952087","tags":{"Name":"igw-production sample-cdktf"},"vpc_id":"vpc-045b92b482ef76254"}},{"address":"aws_lambda_function.Sample-Lambda-Notification-to-Slack","mode":"managed","type":"aws_lambda_function","name":"Sample-Lambda-Notification-to-Slack","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"dead_letter_config":[],"description":null,"environment":[{"variables":{"SLACK_API_TOKEN":"xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp","SLACK_CHANNEL":"C049CPNKHMJ"}}],"file_system_config":[],"filename":null,"function_name":"Sample-Lambda-Notification-to-Slack","handler":"index.handler","kms_key_arn":null,"layers":null,"memory_size":128,"publish":false,"reserved_concurrent_executions":-1,"runtime":"nodejs12.x","s3_bucket":"sample-cdktf-s3","s3_key":"notification-to-Slack-dist.zip","s3_object_version":null,"tags":null,"timeout":30,"timeouts":null,"vpc_config":[]}},{"address":"aws_lambda_permission.permission-to-sns","mode":"managed","type":"aws_lambda_permission","name":"permission-to-sns","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"Sample-Lambda-Notification-to-Slack","principal":"sns.amazonaws.com","qualifier":null,"source_account":null,"statement_id":"AllowExecutionFromSNS","statement_id_prefix":null}},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"tags":{"Name":"sample-cdktf nat-gateway-production"}}},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Private rtb"},"vpc_id":"vpc-045b92b482ef76254"}},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"igw-0cc1f41a6e7a3ffd6","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Public rtb"},"vpc_id":"vpc-045b92b482ef76254"}},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null}},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null}},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null}},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"subnet_id":"subnet-0ddb3015e06d74ce8"}},{"address":"aws_route_table_association.
[2022-11-16T09:25:04.057] [DEBUG] default - sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null}},{"address":"aws_s3_bucket.sample-cdktf-s3","mode":"managed","type":"aws_s3_bucket","name":"sample-cdktf-s3","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","bucket":"sample-cdktf-s3","bucket_prefix":null,"cors_rule":[],"force_destroy":false,"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":null,"region":"ap-northeast-1","replication_configuration":[],"server_side_encryption_configuration":[],"tags":null,"website":[]}},{"address":"aws_s3_bucket_object.notification-to-Slack-distzip","mode":"managed","type":"aws_s3_bucket_object","name":"notification-to-Slack-distzip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","bucket":"sample-cdktf-s3","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"content_type":"zip","force_destroy":false,"key":"notification-to-Slack-dist.zip","kms_key_id":null,"metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip","tags":null,"website_redirect":null}},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:security-group/sg-039556800e9cab6e1","description":"Managed by Terraform","egress":[],"id":"sg-039556800e9cab6e1","ingress":[],"name":"sample-cdktf","name_prefix":null,"owner_id":"574185952087","revoke_rules_on_delete":false,"tags":{"Name":"sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"}},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_group_id":"sg-039556800e9cab6e1","self":false,"to_port":0,"type":"egress"}},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":80,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_group_id":"sg-039556800e9cab6e1","self":false,"to_port":80,"type":"ingress"}},{"address":"aws_sns_topic.sample-cdktf-sns","mode":"managed","type":"aws_sns_topic","name":"sample-cdktf-sns","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"delivery_policy":null,"display_name":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"kms_master_key_id":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"sample-cdktf-sns","name_prefix":null,"sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":null}},{"address":"aws_sns_topic_policy.sample-cdktf-sns-policy","mode":"managed","type":"aws_sns_topic_policy","name":"sample-cdktf-sns-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": {\n          \"Effect\": \"Allow\",\n          \"Sid\":    \"\",\n          \"Principal\": {\n            \"Service\": \"events.amazonaws.com\"\n          },\n          \"Action\": [\n            \"SNS:Publish\"\n          ],\n          \"Resource\": [\n            \"*\"\n          ]\n        }\n      }"}},{"address":"aws_sns_topic_subscription.sample-cdktf-sns-subscription","mode":"managed","type":"aws_sns_topic_subscription","name":"sample-cdktf-sns-subscription","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"confirmation_timeout_in_minutes":1,"delivery_policy":null,"endpoint_auto_confirms":false,"filter_policy":null,"protocol":"lambda","raw_message_delivery":false}},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","cidr_block":"10.0.128.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Private1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"}},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","cidr_block":"10.0.144.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Private2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"}},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","cidr_block":"10.0.0.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Public1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"}},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0ddb3015e06d74ce8","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.16.0/20","id":"subnet-0ddb3015e06d74ce8","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"}},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-045b92b482ef76254","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-08b9670156912938d","default_route_table_id":"rtb-01926216c1dc207a6","default_security_group_id":"sg-01b60241c042b1663","dhcp_options_id":"dopt-03da244493f3f476d","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":true,"enable_dns_support":true,"id":"vpc-045b92b482ef76254","instance_tenancy":"default","ipv6_association_id":"","ipv6_cidr_block":"","main_route_table_id":"rtb-01926216c1dc207a6","owner_id":"574185952087","tags":{"Name":"sample-cdktf production"}}}]}},"resource_changes":[{"address":"aws_alb.sample-cdktf-alb","mode":"managed","type":"aws_alb","name":"sample-cdktf-alb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"access_logs":[],"drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":null,"enable_deletion_protection":false,"enable_http2":true,"idle_timeout":60,"internal":false,"ip_address_type":"i
[2022-11-16T09:25:04.057] [DEBUG] default - pv4","load_balancer_type":"application","name":"sample-cdktf-alb","name_prefix":null,"security_groups":["sg-01b60241c042b1663","sg-039556800e9cab6e1"],"tags":null,"timeouts":null},"after_unknown":{"access_logs":[],"arn":true,"arn_suffix":true,"dns_name":true,"id":true,"security_groups":[false,false],"subnet_mapping":true,"subnets":true,"vpc_id":true,"zone_id":true}}},{"address":"aws_alb_listener.sample-cdktf-alb-listener","mode":"managed","type":"aws_alb_listener","name":"sample-cdktf-alb-listener","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[],"type":"forward"}],"port":80,"protocol":"HTTP","timeouts":null},"after_unknown":{"arn":true,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"order":true,"redirect":[],"target_group_arn":true}],"id":true,"load_balancer_arn":true,"ssl_policy":true}}},{"address":"aws_alb_listener_rule.sample-cdktf-alb-listener-rule","mode":"managed","type":"aws_alb_listener_rule","name":"sample-cdktf-alb-listener-rule","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[],"type":"forward"}],"condition":[{"field":"path-pattern","http_header":[],"http_request_method":[],"query_string":[],"source_ip":[],"values":["*"]}],"priority":100},"after_unknown":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"order":true,"redirect":[],"target_group_arn":true}],"arn":true,"condition":[{"host_header":true,"http_header":[],"http_request_method":[],"path_pattern":true,"query_string":[],"source_ip":[],"values":[false]}],"id":true,"listener_arn":true}}},{"address":"aws_alb_target_group.sample-cdktf-alb-target-group","mode":"managed","type":"aws_alb_target_group","name":"sample-cdktf-alb-target-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"deregistration_delay":300,"health_check":[{"enabled":true,"healthy_threshold":3,"interval":30,"path":"/","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"lambda_multi_value_headers_enabled":false,"name":"sample-cdktf-alb-target-group","name_prefix":null,"port":80,"protocol":"HTTP","proxy_protocol_v2":false,"slow_start":0,"tags":null,"target_type":"ip","vpc_id":"vpc-045b92b482ef76254"},"after_unknown":{"arn":true,"arn_suffix":true,"health_check":[{"matcher":true}],"id":true,"load_balancing_algorithm_type":true,"stickiness":true}}},{"address":"aws_cloudwatch_event_rule.sample-cdktf-event-rule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"sample-cdktf-event-rule","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Capture each AWS ECR Update","event_pattern":"{\"detail\":{\"action-type\":[\"PUSH\"],\"result\":[\"SUCCESS\"]},\"detail-type\":[\"ECR Image Action\"],\"source\":[\"aws.ecr\"]}","is_enabled":true,"name":"capture-ecr-update","name_prefix":null,"role_arn":null,"schedule_expression":null,"tags":null},"after_unknown":{"arn":true,"id":true}}},{"address":"aws_cloudwatch_event_target.sample-cdktf-event-target","mode":"managed","type":"aws_cloudwatch_event_target","name":"sample-cdktf-event-target","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"batch_target":[],"ecs_target":[],"input":null,"input_path":null,"input_transformer":[],"kinesis_target":[],"role_arn":null,"rule":"capture-ecr-update","run_command_targets":[],"sqs_target":[],"target_id":"SendToSNS"},"after_unknown":{"arn":true,"batch_target":[],"ecs_target":[],"id":true,"input_transformer":[],"kinesis_target":[],"run_command_targets":[],"sqs_target":[]}}},{"address":"aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-notification-to-slack-log-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"kms_key_id":null,"name":"/aws/lambda/Sample-Lambda-Notification-to-Slack","name_prefix":null,"retention_in_days":0,"tags":null},"after_unknown":{"arn":true,"id":true}}},{"address":"aws_ecr_repository.sample-cdktf-repository","mode":"managed","type":"aws_ecr_repository","name":"sample-cdktf-repository","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"image_scanning_configuration":[],"image_tag_mutability":"MUTABLE","name":"project/sample-cdktf","tags":null,"timeouts":null},"after_unknown":{"arn":true,"id":true,"image_scanning_configuration":[],"registry_id":true,"repository_url":true}}},{"address":"aws_ecs_cluster.sample-cdktf-cluster","mode":"managed","type":"aws_ecs_cluster","name":"sample-cdktf-cluster","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"capacity_providers":null,"default_capacity_provider_strategy":[],"name":"sample-cdktf-cluster","tags":null},"after_unknown":{"arn":true,"default_capacity_provider_strategy":[],"id":true,"setting":true}}},{"address":"aws_ecs_service.sample-cdktf-ecs-service","mode":"managed","type":"aws_ecs_service","name":"sample-cdktf-ecs-service","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"capacity_provider_strategy":[],"deployment_controller":[],"deployment_maximum_percent":200,"deployment_minimum_healthy_percent":100,"desired_count":1,"enable_ecs_managed_tags":false,"force_new_deployment":null,"health_check_grace_period_seconds":null,"launch_type":"FARGATE","load_balancer":[{"container_name":"sample-cdktf-container","container_port":9000,"elb_name":""}],"name":"sample-cdktf-ecs-service","network_configuration":[{"assign_public_ip":false,"security_groups":["sg-01b60241c042b1663"]}],"ordered_placement_strategy":[],"placement_constraints":[],"platform_version":"LATEST","propagate_tags":null,"scheduling_strategy":"REPLICA","service_registries":[],"tags":null,"timeouts":null},"after_unknown":{"capacity_provider_strategy":[],"cluster":true,"deployment_controller":[],"iam_role":true,"id":true,"load_balancer":[{"target_group_arn":true}],"network_configuration":[{"security_groups":[false],"subnets":true}],"ordered_placement_strategy":[],"placement_constraints":[],"placement_strategy":true,"service_registries":[],"task_definition":true}}},{"address":"aws_ecs_task_definition.sample-cdktf-task","mode":"managed","type":"aws_ecs_task_definition","name":"sample-cdktf-task","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cpu":"512","family":"task-for-cdktf","inference_accelerator":[],"ipc_mode":null,"memory":"1024","network_mode":"awsvpc","pid_mode":null,"placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":["FARGATE"],"tags":null,"volume":[]},"after_unknown":{"arn":true,"container_definitions":true,"execution_role_arn":true,"id":true,"inference_accelerator":[],"placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":[false],"revision":true,"task_role_arn":true,"volume":[]}}},{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"associate_with_private_ip":null,"customer_owned_ipv4_pool":null,"tags":null,"timeouts":null,"vpc":true},"after_unknown":{"allocation_id":true,"association_id":true,"customer_owned_ip":true,"domain":true,"id":true,"instance":true,"network_interface":true,"private_dns":true,"private_ip":true,"public_dns":true,"public_ip":true,"public_ipv4_pool":true}}},{"address":"aws_iam_policy.ecs-task-execution-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp
[2022-11-16T09:25:04.057] [DEBUG] default - /aws","change":{"actions":["create"],"before":null,"after":{"description":"Policy for updating ECS tasks","name":"ecs-task-execution-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"},"after_unknown":{"arn":true,"id":true}}},{"address":"aws_iam_policy.ecs-task-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Policy for updating ECS tasks","name":"ecs-task-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecs:DescribeServices\",\n              \"ecs:CreateTaskSet\",\n              \"ecs:UpdateServicePrimaryTaskSet\",\n              \"ecs:DeleteTaskSet\",\n              \"elasticloadbalancing:DescribeTargetGroups\",\n              \"elasticloadbalancing:DescribeListeners\",\n              \"elasticloadbalancing:ModifyListener\",\n              \"elasticloadbalancing:DescribeRules\",\n              \"elasticloadbalancing:ModifyRule\",\n              \"lambda:InvokeFunction\",\n              \"cloudwatch:DescribeAlarms\",\n              \"sns:Publish\",\n              \"s3:GetObject\",\n              \"s3:GetObjectVersion\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"},"after_unknown":{"arn":true,"id":true}}},{"address":"aws_iam_policy.lambda-logging","mode":"managed","type":"aws_iam_policy","name":"lambda-logging","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"IAM policy for logging from a lambda","name":"sample-cdktf-lambda-logging","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"iam:PassRole\",\n              \"ecs:RegisterTaskDefinition\",\n              \"ecs:UpdateService\",\n              \"logs:CreateLogGroup\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\",\n              \"arn:aws:logs:*:*:*\",\n              \"arn:aws:ecs:*:*:*\",\n              \"arn:aws:iam::445682127642:role/sample-cdktf-ecsTaskExecutionRole\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"},"after_unknown":{"arn":true,"id":true}}},{"address":"aws_iam_role.ecsTaskExecutionRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\":    \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"sample-cdktf-ecsTaskExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"unique_id":true}}},{"address":"aws_iam_role.ecsTaskRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskRole","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\n        \"Version\": \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n          },\n          \"Effect\": \"Allow\",\n          \"Sid\": \"\"\n          }\n        ]\n      }","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"sample-cdktf-ecsTaskRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"unique_id":true}}},{"address":"aws_iam_role.lambdaExecutionRole","mode":"managed","type":"aws_iam_role","name":"lambdaExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": [\n                \"lambda.amazonaws.com\",\n                \"ecs-tasks.amazonaws.com\"\n              ]\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"sample-cdktf-lambdaExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"unique_id":true}}},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-execution-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"sample-cdktf-ecsTaskExecutionRole"},"after_unknown":{"id":true,"policy_arn":true}}},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"sample-cdktf-ecsTaskRole"},"after_unknown":{"id":true,"policy_arn":true}}},{"address":"aws_iam_role_policy_attachment.attach-lambda-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-lambda-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"sample-cdktf-lambdaExecutionRole"},"after_unknown":{"id":true,"policy_arn":true}}},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-0cc1f41a6e7a3ffd6","id":"igw-0cc1f41a6e7a3ffd6","owner_id":"574185952087","tags":{"Name":"igw-production sample-cdktf"},"vpc_id":"vpc-045b92b482ef76254"},"after":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-0cc1f41a6e7a3ffd6","id":"igw-0cc1f41a6e7a3ffd6","owner_id":"574185952087","tags":{"Name":"igw-production sample-cdktf"},"vpc_id":"vpc-045b92b482ef76254"},"after_unknown":{}}},{"address":"aws_lambda_function.Sample-Lambda-Notification-to-Slack","mode":"managed","type":"aws_lambda_function","name":"Sample-Lambda-Notification-to-Slack","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"dead_letter_config":[],"description":null,"environment":[{"variables":{"SLACK_API_TOKEN":"xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp","SLACK_CHANNEL":"C049CPNKHMJ"}}],"file_system_config":[],"filename":null,"function_name":"Sample-Lambda-Notification-to-Slack","handler":"index.handler","kms_key_arn":null,"layers":null,"memory_size":128,"publish":false,"reserved_concurrent_executions":-1,"runtime":"nodejs12.x","s3_bucket":"sample-cdktf-s3","s3_key":"notification-to-Slack-dist.zip","s3_o
[2022-11-16T09:25:04.058] [DEBUG] default - bject_version":null,"tags":null,"timeout":30,"timeouts":null,"vpc_config":[]},"after_unknown":{"arn":true,"dead_letter_config":[],"environment":[{"variables":{}}],"file_system_config":[],"id":true,"invoke_arn":true,"last_modified":true,"qualified_arn":true,"role":true,"source_code_hash":true,"source_code_size":true,"tracing_config":true,"version":true,"vpc_config":[]}}},{"address":"aws_lambda_permission.permission-to-sns","mode":"managed","type":"aws_lambda_permission","name":"permission-to-sns","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"Sample-Lambda-Notification-to-Slack","principal":"sns.amazonaws.com","qualifier":null,"source_account":null,"statement_id":"AllowExecutionFromSNS","statement_id_prefix":null},"after_unknown":{"id":true,"source_arn":true}}},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"tags":{"Name":"sample-cdktf nat-gateway-production"}},"after_unknown":{"allocation_id":true,"id":true,"network_interface_id":true,"private_ip":true,"public_ip":true,"subnet_id":true,"tags":{}}}},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Private rtb"},"vpc_id":"vpc-045b92b482ef76254"},"after_unknown":{"id":true,"owner_id":true,"propagating_vgws":true,"route":[{"nat_gateway_id":true}],"tags":{}}}},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"igw-0cc1f41a6e7a3ffd6","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Public rtb"},"vpc_id":"vpc-045b92b482ef76254"},"after_unknown":{"id":true,"owner_id":true,"propagating_vgws":true,"route":[{}],"tags":{}}}},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true}}},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true}}},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true}}},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null,"subnet_id":"subnet-0ddb3015e06d74ce8"},"after_unknown":{"id":true,"route_table_id":true}}},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true}}},{"address":"aws_s3_bucket.sample-cdktf-s3","mode":"managed","type":"aws_s3_bucket","name":"sample-cdktf-s3","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"acl":"private","bucket":"sample-cdktf-s3","bucket_prefix":null,"cors_rule":[],"force_destroy":false,"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":null,"region":"ap-northeast-1","replication_configuration":[],"server_side_encryption_configuration":[],"tags":null,"website":[]},"after_unknown":{"acceleration_status":true,"arn":true,"bucket_domain_name":true,"bucket_regional_domain_name":true,"cors_rule":[],"grant":[],"hosted_zone_id":true,"id":true,"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"request_payer":true,"server_side_encryption_configuration":[],"versioning":true,"website":[],"website_domain":true,"website_endpoint":true}}},{"address":"aws_s3_bucket_object.notification-to-Slack-distzip","mode":"managed","type":"aws_s3_bucket_object","name":"notification-to-Slack-distzip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"acl":"private","bucket":"sample-cdktf-s3","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"content_type":"zip","force_destroy":false,"key":"notification-to-Slack-dist.zip","kms_key_id":null,"metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip","tags":null,"website_redirect":null},"after_unknown":{"etag":true,"id":true,"server_side_encryption":true,"storage_class":true,"version_id":true}}},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:security-group/sg-039556800e9cab6e1","description":"Managed by Terraform","egress":[],"id":"sg-039556800e9cab6e1","ingress":[],"name":"sample-cdktf","name_prefix":null,"owner_id":"574185952087","revoke_rules_on_delete":false,"tags":{"Name":"sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"after":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:security-group/sg-039556800e9cab6e1","description":"Managed by Terraform","egress":[],"id":"sg-039556800e9cab6e1","ingress":[],"name":"sample-cdktf","name_prefix":null,"owner_id":"574185952087","revoke_rules_on_delete":false,"tags":{"Name":"sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"after_unknown":{}}},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_group_id":"sg-039556800e9cab6e1","self":false,"to_port":0,"type":"egress"},"after_unknown":{"cidr_blocks":[false],"id":true,"source_security_group_id":true}}},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":["0.0.0.0/0"],"d
[2022-11-16T09:25:04.058] [DEBUG] default - escription":null,"from_port":80,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_group_id":"sg-039556800e9cab6e1","self":false,"to_port":80,"type":"ingress"},"after_unknown":{"cidr_blocks":[false],"id":true,"source_security_group_id":true}}},{"address":"aws_sns_topic.sample-cdktf-sns","mode":"managed","type":"aws_sns_topic","name":"sample-cdktf-sns","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"delivery_policy":null,"display_name":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"kms_master_key_id":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"sample-cdktf-sns","name_prefix":null,"sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":null},"after_unknown":{"arn":true,"id":true,"policy":true}}},{"address":"aws_sns_topic_policy.sample-cdktf-sns-policy","mode":"managed","type":"aws_sns_topic_policy","name":"sample-cdktf-sns-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": {\n          \"Effect\": \"Allow\",\n          \"Sid\":    \"\",\n          \"Principal\": {\n            \"Service\": \"events.amazonaws.com\"\n          },\n          \"Action\": [\n            \"SNS:Publish\"\n          ],\n          \"Resource\": [\n            \"*\"\n          ]\n        }\n      }"},"after_unknown":{"arn":true,"id":true}}},{"address":"aws_sns_topic_subscription.sample-cdktf-sns-subscription","mode":"managed","type":"aws_sns_topic_subscription","name":"sample-cdktf-sns-subscription","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"confirmation_timeout_in_minutes":1,"delivery_policy":null,"endpoint_auto_confirms":false,"filter_policy":null,"protocol":"lambda","raw_message_delivery":false},"after_unknown":{"arn":true,"endpoint":true,"id":true,"topic_arn":true}}},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","cidr_block":"10.0.128.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Private1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"tags":{}}}},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","cidr_block":"10.0.144.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Private2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"tags":{}}}},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","cidr_block":"10.0.0.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Public1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"tags":{}}}},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0ddb3015e06d74ce8","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.16.0/20","id":"subnet-0ddb3015e06d74ce8","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"after":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0ddb3015e06d74ce8","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.16.0/20","id":"subnet-0ddb3015e06d74ce8","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"after_unknown":{}}},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-045b92b482ef76254","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-08b9670156912938d","default_route_table_id":"rtb-01926216c1dc207a6","default_security_group_id":"sg-01b60241c042b1663","dhcp_options_id":"dopt-03da244493f3f476d","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":true,"enable_dns_support":true,"id":"vpc-045b92b482ef76254","instance_tenancy":"default","ipv6_association_id":"","ipv6_cidr_block":"","main_route_table_id":"rtb-01926216c1dc207a6","owner_id":"574185952087","tags":{"Name":"sample-cdktf production"}},"after":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-045b92b482ef76254","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-08b9670156912938d","default_route_table_id":"rtb-01926216c1dc207a6","default_security_group_id":"sg-01b60241c042b1663","dhcp_options_id":"dopt-03da244493f3f476d","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":true,"enable_dns_support":true,"id":"vpc-045b92b482ef76254","instance_tenancy":"default","ipv6_association_id":"","ipv6_cidr_block":"","main_route_table_id":"rtb-01926216c1dc207a6","owner_id":"574185952087","tags":{"Name":"sample-cdktf production"}},"after_unknown":{}}}],"prior_state":{"format_version":"0.1","terraform_version":"0.14.8","values":{"root_module":{"resources":[{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-0cc1f41a6e7a3ffd6","id":"igw-0cc1f41a6e7a3ffd6","owner_id":"574185952087","tags":{"Name":"igw-production sample-cdktf"},"vpc_id":"vpc-045b92b482ef76254"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:security-group/sg-039556800e9cab6e1","description":"Managed by Terraform","egress":[],"id":"sg-039556800e9cab6e1","ingress":[],"name":"sample-cdktf","name_prefix":null,"owner_id":"574185952087","revoke_rules_on_delete":false,"tags":{"Name":"sample-cdktf"},"timeouts":null,"vpc_id":"vpc-
[2022-11-16T09:25:04.058] [DEBUG] default - 045b92b482ef76254"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0ddb3015e06d74ce8","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.16.0/20","id":"subnet-0ddb3015e06d74ce8","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-045b92b482ef76254","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-08b9670156912938d","default_route_table_id":"rtb-01926216c1dc207a6","default_security_group_id":"sg-01b60241c042b1663","dhcp_options_id":"dopt-03da244493f3f476d","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":true,"enable_dns_support":true,"id":"vpc-045b92b482ef76254","instance_tenancy":"default","ipv6_association_id":"","ipv6_cidr_block":"","main_route_table_id":"rtb-01926216c1dc207a6","owner_id":"574185952087","tags":{"Name":"sample-cdktf production"}}}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","version_constraint":"~\u003e 2.0","expressions":{"region":{"constant_value":"ap-northeast-1"}}}},"root_module":{"resources":[{"address":"aws_alb.sample-cdktf-alb","mode":"managed","type":"aws_alb","name":"sample-cdktf-alb","provider_config_key":"aws","expressions":{"enable_http2":{"constant_value":true},"internal":{"constant_value":false},"ip_address_type":{"constant_value":"ipv4"},"load_balancer_type":{"constant_value":"application"},"name":{"constant_value":"sample-cdktf-alb"},"security_groups":{"constant_value":["${aws_security_group.sample-cdktf-security-group.id}","${aws_vpc.sample-cdktf-vpc.default_security_group_id}"],"references":["aws_security_group.sample-cdktf-security-group","aws_vpc.sample-cdktf-vpc"]},"subnets":{"constant_value":["${aws_subnet.sample-cdktf-public-subnet1.id}","${aws_subnet.sample-cdktf-public-subnet2.id}"],"references":["aws_subnet.sample-cdktf-public-subnet1","aws_subnet.sample-cdktf-public-subnet2"]}},"schema_version":0},{"address":"aws_alb_listener.sample-cdktf-alb-listener","mode":"managed","type":"aws_alb_listener","name":"sample-cdktf-alb-listener","provider_config_key":"aws","expressions":{"default_action":[{"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]},"type":{"constant_value":"forward"}}],"load_balancer_arn":{"constant_value":"${aws_alb.sample-cdktf-alb.arn}","references":["aws_alb.sample-cdktf-alb"]},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"}},"schema_version":0},{"address":"aws_alb_listener_rule.sample-cdktf-alb-listener-rule","mode":"managed","type":"aws_alb_listener_rule","name":"sample-cdktf-alb-listener-rule","provider_config_key":"aws","expressions":{"action":[{"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]},"type":{"constant_value":"forward"}}],"condition":[{"field":{"constant_value":"path-pattern"},"values":{"constant_value":["*"]}}],"listener_arn":{"constant_value":"${aws_alb_listener.sample-cdktf-alb-listener.arn}","references":["aws_alb_listener.sample-cdktf-alb-listener"]},"priority":{"constant_value":100}},"schema_version":0},{"address":"aws_alb_target_group.sample-cdktf-alb-target-group","mode":"managed","type":"aws_alb_target_group","name":"sample-cdktf-alb-target-group","provider_config_key":"aws","expressions":{"health_check":[{"interval":{"constant_value":30},"path":{"constant_value":"/"},"port":{"constant_value":"traffic-port"},"protocol":{"constant_value":"HTTP"},"timeout":{"constant_value":5},"unhealthy_threshold":{"constant_value":2}}],"name":{"constant_value":"sample-cdktf-alb-target-group"},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"},"target_type":{"constant_value":"ip"},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_cloudwatch_event_rule.sample-cdktf-event-rule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"sample-cdktf-event-rule","provider_config_key":"aws","expressions":{"description":{"constant_value":"Capture each AWS ECR Update"},"event_pattern":{"constant_value":"{\n        \"source\": [\"aws.ecr\"],\n        \"detail-type\": [\"ECR Image Action\"],\n        \"detail\": {\n          \"action-type\": [\"PUSH\"],\n          \"result\": [\"SUCCESS\"]\n        }\n      }"},"name":{"constant_value":"capture-ecr-update"}},"schema_version":0},{"address":"aws_cloudwatch_event_target.sample-cdktf-event-target","mode":"managed","type":"aws_cloudwatch_event_target","name":"sample-cdktf-event-target","provider_config_key":"aws","expressions":{"arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"rule":{"constant_value":"${aws_cloudwatch_event_rule.sample-cdktf-event-rule.name}","references":["aws_cloudwatch_event_rule.sample-cdktf-event-rule"]},"target_id":{"constant_value":"SendToSNS"}},"schema_version":0},{"address":"aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-notification-to-slack-log-group","provider_config_key":"aws","expressions":{"name":{"constant_value":"/aws/lambda/${aws_lambda_function.Sample-Lambda-Notification-to-Slack.function_name}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]}},"schema_version":0},{"address":"aws_ecr_repository.sample-cdktf-repository","mode":"managed","type":"aws_ecr_repository","name":"sample-cdktf-repository","provider_config_key":"aws","expressions":{"name":{"constant_value":"project/sample-cdktf"}},"schema_version":0},{"address":"aws_ecs_cluster.sample-cdktf-cluster","mode":"managed","type":"aws_ecs_cluster","name":"sample-cdktf-cluster","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf-cluster"}},"schema_version":0},{"address":"aws_ecs_service.sample-cdktf-ecs-service","mode":"managed","type":"aws_ecs_service","name":"sample-cdktf-ecs-service","provider_config_key":"aws","expressions":{"cluster":{"constant_value":"${aws_ecs_cluster.sample-cdktf-cluster.id}","references":["aws_ecs_cluster.sample-cdktf-cluster"]},"deployment_maximum_percent":{"constant_value":200},"deployment_minimum_healthy_percent":{"constant_value":100},"desired_count":{"constant_value":1},"launch_type":{"constant_value":"FARGATE"},"load_balancer":[{"container_name":{"constant_value":"sample-cdktf-container"},"container_port":{"constant_value":9000},"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]}}],"name":{"constant_value":"sample-cdktf-ecs-service"},"network_configuration":[{"security_groups":{"constant_value":["${aws_vpc.sample-cdktf-vpc.default_security_group_id}"],"references":["aws_vpc.sample-cdktf-vpc"]},"subnets":{"constant_value":["${aws_subnet.sample-cdktf-private-subnet1.id}"],"references":["aws_subnet.sample-cdktf-private-subnet1"]}}],"platform_version":{"constant_value":"LATEST"},"task_definition":{"constant_value":"${aws_ecs_task_definition.sample-cdktf-task.id}","references":["aws_ecs_task_definition.sample-cdktf-task"]}},"schema_version":0},{"address":"aws_ecs_task_definition.sample-cdktf-task","mode":"managed","type":"aws_ecs_task_definition","name":"sample-cdktf-task
[2022-11-16T09:25:04.058] [DEBUG] default - ","provider_config_key":"aws","expressions":{"container_definitions":{"constant_value":"[\n      {\n        \"essential\":    true,\n        \"name\":         \"sample-cdktf-container\",\n        \"image\":        \"${aws_ecr_repository.sample-cdktf-repository.repository_url}:latest\",\n        \"portMappings\": [\n          {\n            \"hostPort\":      9000,\n            \"protocol\":      \"tcp\",\n            \"containerPort\": 9000\n          }\n        ],\n        \"logConfiguration\": {\n          \"logDriver\": \"awslogs\",\n          \"options\": {\n            \"awslogs-group\":         \"/aws/ecs/sample-cdktf-task\",\n            \"awslogs-stream-prefix\": \"ecs\",\n            \"awslogs-region\":        \"ap-northeast-1\"\n          }\n        }\n      }\n    ]","references":["aws_ecr_repository.sample-cdktf-repository"]},"cpu":{"constant_value":"512"},"execution_role_arn":{"constant_value":"${aws_iam_role.ecsTaskExecutionRole.arn}","references":["aws_iam_role.ecsTaskExecutionRole"]},"family":{"constant_value":"task-for-cdktf"},"memory":{"constant_value":"1024"},"network_mode":{"constant_value":"awsvpc"},"requires_compatibilities":{"constant_value":["FARGATE"]},"task_role_arn":{"constant_value":"${aws_iam_role.ecsTaskRole.arn}","references":["aws_iam_role.ecsTaskRole"]}},"schema_version":1},{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_config_key":"aws","expressions":{"vpc":{"constant_value":true}},"schema_version":0},{"address":"aws_iam_policy.ecs-task-execution-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-execution-policy","provider_config_key":"aws","expressions":{"description":{"constant_value":"Policy for updating ECS tasks"},"name":{"constant_value":"ecs-task-execution-policy"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_policy.ecs-task-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-policy","provider_config_key":"aws","expressions":{"description":{"constant_value":"Policy for updating ECS tasks"},"name":{"constant_value":"ecs-task-policy"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecs:DescribeServices\",\n              \"ecs:CreateTaskSet\",\n              \"ecs:UpdateServicePrimaryTaskSet\",\n              \"ecs:DeleteTaskSet\",\n              \"elasticloadbalancing:DescribeTargetGroups\",\n              \"elasticloadbalancing:DescribeListeners\",\n              \"elasticloadbalancing:ModifyListener\",\n              \"elasticloadbalancing:DescribeRules\",\n              \"elasticloadbalancing:ModifyRule\",\n              \"lambda:InvokeFunction\",\n              \"cloudwatch:DescribeAlarms\",\n              \"sns:Publish\",\n              \"s3:GetObject\",\n              \"s3:GetObjectVersion\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_policy.lambda-logging","mode":"managed","type":"aws_iam_policy","name":"lambda-logging","provider_config_key":"aws","expressions":{"description":{"constant_value":"IAM policy for logging from a lambda"},"name":{"constant_value":"sample-cdktf-lambda-logging"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"iam:PassRole\",\n              \"ecs:RegisterTaskDefinition\",\n              \"ecs:UpdateService\",\n              \"logs:CreateLogGroup\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\",\n              \"arn:aws:logs:*:*:*\",\n              \"arn:aws:ecs:*:*:*\",\n              \"arn:aws:iam::445682127642:role/sample-cdktf-ecsTaskExecutionRole\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_role.ecsTaskExecutionRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskExecutionRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\":    \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-ecsTaskExecutionRole"}},"schema_version":0},{"address":"aws_iam_role.ecsTaskRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\": \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n          },\n          \"Effect\": \"Allow\",\n          \"Sid\": \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-ecsTaskRole"}},"schema_version":0},{"address":"aws_iam_role.lambdaExecutionRole","mode":"managed","type":"aws_iam_role","name":"lambdaExecutionRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": [\n                \"lambda.amazonaws.com\",\n                \"ecs-tasks.amazonaws.com\"\n              ]\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-lambdaExecutionRole"}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-execution-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-execution-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.ecs-task-execution-policy.arn}","references":["aws_iam_policy.ecs-task-execution-policy"]},"role":{"constant_value":"${aws_iam_role.ecsTaskExecutionRole.name}","references":["aws_iam_role.ecsTaskExecutionRole"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.ecs-task-policy.arn}","references":["aws_iam_policy.ecs-task-policy"]},"role":{"constant_value":"${aws_iam_role.ecsTaskRole.name}","references":["aws_iam_role.ecsTaskRole"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-lambda-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-lambda-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.lambda-logging.arn}","references":["aws_iam_policy.lambda-logging"]},"role":{"constant_value":"${aws_iam_role.lambdaExecutionRole.name}","references":["aws_iam_role.lambdaExecutionRole"]}},"schema_version":0},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_config_key":"aws","expressions":{"tags":{"constant_value":{"Name":"igw-production sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.
[2022-11-16T09:25:04.058] [DEBUG] default - sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_lambda_function.Sample-Lambda-Notification-to-Slack","mode":"managed","type":"aws_lambda_function","name":"Sample-Lambda-Notification-to-Slack","provider_config_key":"aws","expressions":{"environment":[{"variables":{"constant_value":{"SLACK_API_TOKEN":"xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp","SLACK_CHANNEL":"C049CPNKHMJ"}}}],"function_name":{"constant_value":"Sample-Lambda-Notification-to-Slack"},"handler":{"constant_value":"index.handler"},"role":{"constant_value":"${aws_iam_role.lambdaExecutionRole.arn}","references":["aws_iam_role.lambdaExecutionRole"]},"runtime":{"constant_value":"nodejs12.x"},"s3_bucket":{"constant_value":"${aws_s3_bucket.sample-cdktf-s3.bucket}","references":["aws_s3_bucket.sample-cdktf-s3"]},"s3_key":{"constant_value":"${aws_s3_bucket_object.notification-to-Slack-distzip.key}","references":["aws_s3_bucket_object.notification-to-Slack-distzip"]},"timeout":{"constant_value":30}},"schema_version":0},{"address":"aws_lambda_permission.permission-to-sns","mode":"managed","type":"aws_lambda_permission","name":"permission-to-sns","provider_config_key":"aws","expressions":{"action":{"constant_value":"lambda:InvokeFunction"},"function_name":{"constant_value":"${aws_lambda_function.Sample-Lambda-Notification-to-Slack.function_name}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]},"principal":{"constant_value":"sns.amazonaws.com"},"source_arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"statement_id":{"constant_value":"AllowExecutionFromSNS"}},"schema_version":0},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_config_key":"aws","expressions":{"allocation_id":{"constant_value":"${aws_eip.sample-cdktf-eip.id}","references":["aws_eip.sample-cdktf-eip"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]},"tags":{"constant_value":{"Name":"sample-cdktf nat-gateway-production"}}},"schema_version":0},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_config_key":"aws","expressions":{"route":{"constant_value":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"${aws_nat_gateway.sample-cdktf-nat-gateway.id}","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"references":["aws_nat_gateway.sample-cdktf-nat-gateway"]},"tags":{"constant_value":{"Name":"sample-cdktf Private rtb"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_config_key":"aws","expressions":{"route":{"constant_value":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"${aws_internet_gateway.sample-cdktf-igw-production.id}","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"references":["aws_internet_gateway.sample-cdktf-igw-production"]},"tags":{"constant_value":{"Name":"sample-cdktf Public rtb"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-private-rtb.id}","references":["aws_route_table.sample-cdktf-private-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-private-subnet1.id}","references":["aws_subnet.sample-cdktf-private-subnet1"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-private-rtb.id}","references":["aws_route_table.sample-cdktf-private-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-private-subnet2.id}","references":["aws_subnet.sample-cdktf-private-subnet2"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet2.id}","references":["aws_subnet.sample-cdktf-public-subnet2"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]}},"schema_version":0},{"address":"aws_s3_bucket.sample-cdktf-s3","mode":"managed","type":"aws_s3_bucket","name":"sample-cdktf-s3","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"sample-cdktf-s3"},"region":{"constant_value":"ap-northeast-1"}},"schema_version":0},{"address":"aws_s3_bucket_object.notification-to-Slack-distzip","mode":"managed","type":"aws_s3_bucket_object","name":"notification-to-Slack-distzip","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"${aws_s3_bucket.sample-cdktf-s3.bucket}","references":["aws_s3_bucket.sample-cdktf-s3"]},"content_type":{"constant_value":"zip"},"key":{"constant_value":"notification-to-Slack-dist.zip"},"source":{"constant_value":"/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip"}},"schema_version":0},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf"},"tags":{"constant_value":{"Name":"sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":0},"protocol":{"constant_value":"all"},"security_group_id":{"constant_value":"${aws_security_group.sample-cdktf-security-group.id}","references":["aws_security_group.sample-cdktf-security-group"]},"to_port":{"constant_value":0},"type":{"constant_value":"egress"}},"schema_version":2},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_config_key":"aws","expressions":{"cidr_blocks":
[2022-11-16T09:25:04.058] [DEBUG] default - {"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":80},"protocol":{"constant_value":"tcp"},"security_group_id":{"constant_value":"${aws_security_group.sample-cdktf-security-group.id}","references":["aws_security_group.sample-cdktf-security-group"]},"to_port":{"constant_value":80},"type":{"constant_value":"ingress"}},"schema_version":2},{"address":"aws_sns_topic.sample-cdktf-sns","mode":"managed","type":"aws_sns_topic","name":"sample-cdktf-sns","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf-sns"}},"schema_version":0},{"address":"aws_sns_topic_policy.sample-cdktf-sns-policy","mode":"managed","type":"aws_sns_topic_policy","name":"sample-cdktf-sns-policy","provider_config_key":"aws","expressions":{"arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": {\n          \"Effect\": \"Allow\",\n          \"Sid\":    \"\",\n          \"Principal\": {\n            \"Service\": \"events.amazonaws.com\"\n          },\n          \"Action\": [\n            \"SNS:Publish\"\n          ],\n          \"Resource\": [\n            \"*\"\n          ]\n        }\n      }"}},"schema_version":0},{"address":"aws_sns_topic_subscription.sample-cdktf-sns-subscription","mode":"managed","type":"aws_sns_topic_subscription","name":"sample-cdktf-sns-subscription","provider_config_key":"aws","expressions":{"endpoint":{"constant_value":"${aws_lambda_function.Sample-Lambda-Notification-to-Slack.arn}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]},"protocol":{"constant_value":"lambda"},"topic_arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]}},"schema_version":0},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1a"},"cidr_block":{"constant_value":"10.0.128.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Private1 AZ1a sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1c"},"cidr_block":{"constant_value":"10.0.144.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Private2 AZ1c sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1a"},"cidr_block":{"constant_value":"10.0.0.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Public1 AZ1a sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1c"},"cidr_block":{"constant_value":"10.0.16.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Public2 AZ1c sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_config_key":"aws","expressions":{"cidr_block":{"constant_value":"10.0.0.0/16"},"enable_dns_hostnames":{"constant_value":true},"tags":{"constant_value":{"Name":"sample-cdktf production"}}},"schema_version":1}]}}}

[2022-11-16T09:25:12.982] [DEBUG] default - [0m[1maws_iam_policy.lambda-logging: Creating...[0m[0m
[0m[1maws_iam_role.lambdaExecutionRole: Creating...[0m[0m
[0m[1maws_ecs_cluster.sample-cdktf-cluster: Creating...[0m[0m
[0m[1maws_sns_topic.sample-cdktf-sns: Creating...[0m[0m
[0m[1maws_eip.sample-cdktf-eip: Creating...[0m[0m
[0m[1maws_iam_policy.ecs-task-policy: Creating...[0m[0m
[0m[1maws_iam_policy.ecs-task-execution-policy: Creating...[0m[0m
[0m[1maws_iam_role.ecsTaskRole: Creating...[0m[0m
[0m[1maws_s3_bucket.sample-cdktf-s3: Creating...[0m[0m
[0m[1maws_alb_target_group.sample-cdktf-alb-target-group: Creating...[0m[0m

[2022-11-16T09:25:13.528] [DEBUG] default - [0m[1maws_sns_topic.sample-cdktf-sns: Creation complete after 1s [id=arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns][0m[0m

[2022-11-16T09:25:13.642] [DEBUG] default - [0m[1maws_cloudwatch_event_rule.sample-cdktf-event-rule: Creating...[0m[0m

[2022-11-16T09:25:13.756] [DEBUG] default - [0m[1maws_eip.sample-cdktf-eip: Creation complete after 1s [id=eipalloc-0951e03c6ea14ea35][0m[0m

[2022-11-16T09:25:13.928] [DEBUG] default - [0m[1maws_ecr_repository.sample-cdktf-repository: Creating...[0m[0m

[2022-11-16T09:25:14.120] [DEBUG] default - [0m[1maws_alb_target_group.sample-cdktf-alb-target-group: Creation complete after 1s [id=arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/807c538d9534886d][0m[0m

[2022-11-16T09:25:14.166] [DEBUG] default - [0m[1maws_cloudwatch_event_rule.sample-cdktf-event-rule: Creation complete after 0s [id=capture-ecr-update][0m[0m
[0m[1maws_route_table.sample-cdktf-public-rtb: Creating...[0m[0m
[0m[1maws_sns_topic_policy.sample-cdktf-sns-policy: Creating...[0m[0m

[2022-11-16T09:25:14.306] [DEBUG] default - [0m[1maws_ecr_repository.sample-cdktf-repository: Creation complete after 0s [id=project/sample-cdktf][0m[0m
[0m[1maws_iam_role.ecsTaskExecutionRole: Creating...[0m[0m

[2022-11-16T09:25:14.458] [DEBUG] default - [0m[1maws_sns_topic_policy.sample-cdktf-sns-policy: Creation complete after 0s [id=arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns][0m[0m

[2022-11-16T09:25:14.655] [DEBUG] default - [0m[1maws_security_group_rule.sample-cdktf-security-ingress: Creating...[0m[0m
[0m[1maws_iam_role.ecsTaskRole: Creation complete after 2s [id=sample-cdktf-ecsTaskRole][0m[0m
[0m[1maws_iam_role.lambdaExecutionRole: Creation complete after 2s [id=sample-cdktf-lambdaExecutionRole][0m[0m
[0m[1maws_security_group_rule.sample-cdktf-security-egress: Creating...[0m[0m
[0m[1maws_subnet.sample-cdktf-private-subnet1: Creating...[0m[0m

[2022-11-16T09:25:15.314] [DEBUG] default - [0m[1maws_iam_policy.ecs-task-execution-policy: Creation complete after 2s [id=arn:aws:iam::574185952087:policy/ecs-task-execution-policy][0m[0m

[2022-11-16T09:25:15.423] [DEBUG] default - [0m[1maws_iam_policy.lambda-logging: Creation complete after 2s [id=arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging][0m[0m
[0m[1maws_iam_policy.ecs-task-policy: Creation complete after 2s [id=arn:aws:iam::574185952087:policy/ecs-task-policy][0m[0m
[0m[1maws_subnet.sample-cdktf-private-subnet2: Creating...[0m[0m
[0m[1maws_cloudwatch_event_target.sample-cdktf-event-target: Creating...[0m[0m
[0m[1maws_subnet.sample-cdktf-public-subnet1: Creating...[0m[0m

[2022-11-16T09:25:15.550] [DEBUG] default - [0m[1maws_route_table.sample-cdktf-public-rtb: Creation complete after 1s [id=rtb-0f0e7d1030896858f][0m[0m
[0m[1maws_iam_role_policy_attachment.attach-lambda-policy: Creating...[0m[0m

[2022-11-16T09:25:15.704] [DEBUG] default - [0m[1maws_cloudwatch_event_target.sample-cdktf-event-target: Creation complete after 1s [id=capture-ecr-update-SendToSNS][0m[0m

[2022-11-16T09:25:15.747] [DEBUG] default - [0m[1maws_iam_role_policy_attachment.attach-ecs-task-policy: Creating...[0m[0m
[0m[1maws_security_group_rule.sample-cdktf-security-ingress: Creation complete after 2s [id=sgrule-71704278][0m[0m

[2022-11-16T09:25:15.789] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-public-rtb-association2: Creating...[0m[0m

[2022-11-16T09:25:15.877] [DEBUG] default - [0m[1maws_iam_role.ecsTaskExecutionRole: Creation complete after 2s [id=sample-cdktf-ecsTaskExecutionRole][0m[0m

[2022-11-16T09:25:15.951] [DEBUG] default - [0m[1maws_iam_role_policy_attachment.attach-ecs-task-execution-policy: Creating...[0m[0m

[2022-11-16T09:25:16.034] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-public-rtb-association2: Creation complete after 0s [id=rtbassoc-0bfccc5bb33f7bc84][0m[0m

[2022-11-16T09:25:16.054] [DEBUG] default - [0m[1maws_ecs_task_definition.sample-cdktf-task: Creating...[0m[0m

[2022-11-16T09:25:16.124] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-private-subnet1: Creation complete after 1s [id=subnet-00795dcdd623dc51c][0m[0m

[2022-11-16T09:25:16.360] [DEBUG] default - [0m[1maws_s3_bucket.sample-cdktf-s3: Creation complete after 3s [id=sample-cdktf-s3][0m[0m

[2022-11-16T09:25:16.382] [DEBUG] default - [0m[1maws_s3_bucket_object.notification-to-Slack-distzip: Creating...[0m[0m

[2022-11-16T09:25:16.446] [DEBUG] default - [0m[1maws_ecs_task_definition.sample-cdktf-task: Creation complete after 0s [id=task-for-cdktf][0m[0m

[2022-11-16T09:25:16.939] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Creation complete after 2s [id=subnet-068eb072c8fcf74cb][0m[0m

[2022-11-16T09:25:16.961] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-public-rtb-association1: Creating...[0m[0m

[2022-11-16T09:25:16.982] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-public-rtb1: Creating...[0m[0m
[0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Creating...[0m[0m
[0m[1maws_subnet.sample-cdktf-private-subnet2: Creation complete after 2s [id=subnet-08a39339bdc1d9b62][0m[0m

[2022-11-16T09:25:17.040] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Creating...[0m[0m
[0m[1maws_security_group_rule.sample-cdktf-security-egress: Creation complete after 2s [id=sgrule-850402267][0m[0m

[2022-11-16T09:25:17.141] [DEBUG] default - [0m[1maws_iam_role_policy_attachment.attach-lambda-policy: Creation complete after 2s [id=sample-cdktf-lambdaExecutionRole-20221116002516376300000001][0m[0m

[2022-11-16T09:25:17.281] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-public-rtb-association1: Creation complete after 0s [id=rtbassoc-083efa1b3a99fc6b7][0m[0m

[2022-11-16T09:25:17.321] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-public-rtb1: Creation complete after 0s [id=rtbassoc-083efa1b3a99fc6b7][0m[0m
[0m[1maws_iam_role_policy_attachment.attach-ecs-task-policy: Creation complete after 1s [id=sample-cdktf-ecsTaskRole-20221116002516519600000002][0m[0m

[2022-11-16T09:25:17.471] [DEBUG] default - [0m[1maws_iam_role_policy_attachment.attach-ecs-task-execution-policy: Creation complete after 1s [id=sample-cdktf-ecsTaskExecutionRole-20221116002516706900000003][0m[0m

[2022-11-16T09:25:20.921] [DEBUG] default - [0m[1maws_s3_bucket_object.notification-to-Slack-distzip: Creation complete after 5s [id=notification-to-Slack-dist.zip][0m[0m

[2022-11-16T09:25:20.946] [DEBUG] default - [0m[1maws_lambda_function.Sample-Lambda-Notification-to-Slack: Creating...[0m[0m

[2022-11-16T09:25:22.976] [DEBUG] default - [0m[1maws_ecs_cluster.sample-cdktf-cluster: Still creating... [10s elapsed][0m[0m

[2022-11-16T09:25:23.667] [DEBUG] default - [0m[1maws_ecs_cluster.sample-cdktf-cluster: Creation complete after 11s [id=arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster][0m[0m

[2022-11-16T09:25:23.687] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Creating...[0m[0m

[2022-11-16T09:25:26.970] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [10s elapsed][0m[0m

[2022-11-16T09:25:30.948] [DEBUG] default - [0m[1maws_lambda_function.Sample-Lambda-Notification-to-Slack: Still creating... [10s elapsed][0m[0m

[2022-11-16T09:25:33.677] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still creating... [10s elapsed][0m[0m

[2022-11-16T09:25:36.788] [DEBUG] default - [0m[1maws_lambda_function.Sample-Lambda-Notification-to-Slack: Creation complete after 16s [id=Sample-Lambda-Notification-to-Slack][0m[0m

[2022-11-16T09:25:36.809] [DEBUG] default - [0m[1maws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group: Creating...[0m[0m
[0m[1maws_sns_topic_subscription.sample-cdktf-sns-subscription: Creating...[0m[0m
[0m[1maws_lambda_permission.permission-to-sns: Creating...[0m[0m

[2022-11-16T09:25:36.963] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [20s elapsed][0m[0m

[2022-11-16T09:25:37.143] [DEBUG] default - [0m[1maws_lambda_permission.permission-to-sns: Creation complete after 0s [id=AllowExecutionFromSNS][0m[0m

[2022-11-16T09:25:37.354] [DEBUG] default - [0m[1maws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group: Creation complete after 0s [id=/aws/lambda/Sample-Lambda-Notification-to-Slack][0m[0m

[2022-11-16T09:25:37.450] [DEBUG] default - [0m[1maws_sns_topic_subscription.sample-cdktf-sns-subscription: Creation complete after 0s [id=arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:90455267-deda-459b-b1b1-7b3a9a9910c0][0m[0m

[2022-11-16T09:25:43.677] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still creating... [20s elapsed][0m[0m

[2022-11-16T09:25:46.964] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [30s elapsed][0m[0m

[2022-11-16T09:25:53.678] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still creating... [30s elapsed][0m[0m

[2022-11-16T09:25:56.964] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [40s elapsed][0m[0m

[2022-11-16T09:26:03.680] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still creating... [40s elapsed][0m[0m

[2022-11-16T09:26:06.965] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [50s elapsed][0m[0m

[2022-11-16T09:26:13.680] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still creating... [50s elapsed][0m[0m

[2022-11-16T09:26:16.965] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [1m0s elapsed][0m[0m

[2022-11-16T09:26:23.700] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still creating... [1m0s elapsed][0m[0m

[2022-11-16T09:26:26.966] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [1m10s elapsed][0m[0m

[2022-11-16T09:26:33.686] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still creating... [1m10s elapsed][0m[0m

[2022-11-16T09:26:36.966] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [1m20s elapsed][0m[0m

[2022-11-16T09:26:43.681] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still creating... [1m20s elapsed][0m[0m

[2022-11-16T09:26:46.966] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [1m30s elapsed][0m[0m

[2022-11-16T09:26:53.014] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Creation complete after 1m36s [id=nat-05c42cb06acc4ed39][0m[0m

[2022-11-16T09:26:53.034] [DEBUG] default - [0m[1maws_route_table.sample-cdktf-private-rtb: Creating...[0m[0m

[2022-11-16T09:26:53.682] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still creating... [1m30s elapsed][0m[0m

[2022-11-16T09:26:54.360] [DEBUG] default - [0m[1maws_route_table.sample-cdktf-private-rtb: Creation complete after 1s [id=rtb-0442ce144946a12ac][0m[0m

[2022-11-16T09:26:54.403] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-private-rtb-association1: Creating...[0m[0m
[0m[1maws_route_table_association.sample-cdktf-private-rtb-association2: Creating...[0m[0m

[2022-11-16T09:26:54.757] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-private-rtb-association1: Creation complete after 1s [id=rtbassoc-0921c4bbba318e1b5][0m[0m

[2022-11-16T09:26:54.779] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-private-rtb-association2: Creation complete after 1s [id=rtbassoc-0454d26f9d77a06d5][0m[0m

[2022-11-16T09:27:03.701] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still creating... [1m40s elapsed][0m[0m

[2022-11-16T09:27:13.702] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still creating... [1m50s elapsed][0m[0m

[2022-11-16T09:27:23.713] [DEBUG] default - [31m

[2022-11-16T09:27:23.713] [DEBUG] default - [1m[31mError: [0m[0m[1mError creating application Load Balancer: DuplicateLoadBalancerName: A load balancer with the same name 'sample-cdktf-alb' exists, but with different settings
	status code: 400, request id: ac4a960a-6320-4615-bbfb-532a970f07ba[0m

[0m  on cdk.tf.json line 562, in resource.aws_alb.sample-cdktf-alb:
 562:       [4m}[0m
[0m
[0m[0m

[2022-11-16T09:27:23.722] [DEBUG] default - [31m

[2022-11-16T09:27:23.722] [DEBUG] default - [1m[31mError: [0m[0m[1mInvalidParameterException: The target group with targetGroupArn arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/807c538d9534886d does not have an associated load balancer. "sample-cdktf-ecs-service"[0m

[2022-11-16T09:27:23.722] [DEBUG] default - 
[0m  on cdk.tf.json line 1016, in resource.aws_ecs_service.sample-cdktf-ecs-service:

[2022-11-16T09:27:23.722] [DEBUG] default - 1016:       [4m}[0m
[0m
[0m[0m

[2022-11-16T09:31:38.564] [DEBUG] default - Terraform v0.14.8


[2022-11-16T09:31:38.567] [DEBUG] default - Your version of Terraform is out of date! The latest version
is 1.3.4. You can update by downloading from https://www.terraform.io/downloads.html

[2022-11-16T09:31:54.695] [DEBUG] default - 

[2022-11-16T09:31:54.696] [DEBUG] default - [0m[1mInitializing the backend...[0m

[2022-11-16T09:31:55.123] [DEBUG] default - 

[2022-11-16T09:31:55.124] [DEBUG] default - [0m[1mInitializing provider plugins...[0m
- Reusing previous version of hashicorp/aws from the dependency lock file

[2022-11-16T09:31:55.983] [DEBUG] default - - Using previously-installed hashicorp/aws v2.70.1

[2022-11-16T09:31:55.984] [DEBUG] default - 

[2022-11-16T09:31:55.985] [DEBUG] default - [0m[1m[32mTerraform has been successfully initialized![0m[32m[0m
[0m[32m
You may now begin working with Terraform. Try running "terraform plan" to see
any changes that are required for your infrastructure. All Terraform commands
should now work.

If you ever set or change modules or backend configuration for Terraform,

[2022-11-16T09:31:55.986] [DEBUG] default - rerun this command to reinitialize your working directory. If you forget, other
commands will detect it and remind you to do so if necessary.[0m

[2022-11-16T09:31:57.156] [DEBUG] default - 

[2022-11-16T09:31:57.157] [DEBUG] default - An execution plan has been generated and is shown below.
Resource actions are indicated with the following symbols:
  [31m-[0m destroy
[0m
Terraform will perform the following actions:


[2022-11-16T09:31:57.157] [DEBUG] default - [1m  # aws_alb_target_group.sample-cdktf-alb-target-group[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.157] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_alb_target_group" "sample-cdktf-alb-target-group" {

[2022-11-16T09:31:57.159] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                                = "arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/807c538d9534886d" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0marn_suffix[0m[0m                         = "targetgroup/sample-cdktf-alb-target-group/807c538d9534886d" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mderegistration_delay[0m[0m               = 300 [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                                 = "arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/807c538d9534886d" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mlambda_multi_value_headers_enabled[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mload_balancing_algorithm_type[0m[0m      = "round_robin" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mname[0m[0m                               = "sample-cdktf-alb-target-group" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.159] [DEBUG] default -       [31m-[0m [0m[1m[0mport[0m[0m                               = 80 [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mprotocol[0m[0m                           = "HTTP" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.160] [DEBUG] default -       [31m-[0m [0m[1m[0mproxy_protocol_v2[0m[0m                  = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mslow_start[0m[0m                         = 0 [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtarget_type[0m[0m                        = "ip" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.160] [DEBUG] default -       [31m-[0m [0m[1m[0mvpc_id[0m[0m                             = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m

      [31m-[0m [0mhealth_check {

[2022-11-16T09:31:57.160] [DEBUG] default -           [31m-[0m [0m[1m[0menabled[0m[0m             = true [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.161] [DEBUG] default -           [31m-[0m [0m[1m[0mhealthy_threshold[0m[0m   = 3 [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0minterval[0m[0m            = 30 [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0mmatcher[0m[0m             = "200" [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0mpath[0m[0m                = "/" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.161] [DEBUG] default -           [31m-[0m [0m[1m[0mport[0m[0m                = "traffic-port" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.161] [DEBUG] default -           [31m-[0m [0m[1m[0mprotocol[0m[0m            = "HTTP" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.161] [DEBUG] default -           [31m-[0m [0m[1m[0mtimeout[0m[0m             = 5 [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.162] [DEBUG] default -           [31m-[0m [0m[1m[0munhealthy_threshold[0m[0m = 2 [90m->[0m [0m[90mnull[0m[0m
        }

      [31m-[0m [0mstickiness {
          [31m-[0m [0m[1m[0mcookie_duration[0m[0m = 86400 [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0menabled[0m[0m         = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.162] [DEBUG] default -           [31m-[0m [0m[1m[0mtype[0m[0m            = "lb_cookie" [90m->[0m [0m[90mnull[0m[0m
        }
    }

[2022-11-16T09:31:57.162] [DEBUG] default - 

[2022-11-16T09:31:57.162] [DEBUG] default - [1m  # aws_cloudwatch_event_rule.sample-cdktf-event-rule[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.162] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_cloudwatch_event_rule" "sample-cdktf-event-rule" {

[2022-11-16T09:31:57.162] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m           = "arn:aws:events:ap-northeast-1:574185952087:rule/capture-ecr-update" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.162] [DEBUG] default -       [31m-[0m [0m[1m[0mdescription[0m[0m   = "Capture each AWS ECR Update" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mevent_pattern[0m[0m = jsonencode(
            {
              [31m-[0m [0mdetail      = {
                  [31m-[0m [0maction-type = [
                      [31m-[0m [0m"PUSH",
                    ]
                  [31m-[0m [0mresult      = [
                      [31m-[0m [0m"SUCCESS",
                    ]
                }

[2022-11-16T09:31:57.163] [DEBUG] default -               [31m-[0m [0mdetail-type = [
                  [31m-[0m [0m"ECR Image Action",

[2022-11-16T09:31:57.163] [DEBUG] default -                 ]
              [31m-[0m [0msource      = [

[2022-11-16T09:31:57.163] [DEBUG] default -                   [31m-[0m [0m"aws.ecr",
                ]
            }
        ) [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.163] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m            = "capture-ecr-update" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.163] [DEBUG] default -       [31m-[0m [0m[1m[0mis_enabled[0m[0m    = true [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.163] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m          = "capture-ecr-update" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:31:57.163] [DEBUG] default - [1m  # aws_cloudwatch_event_target.sample-cdktf-event-target[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_cloudwatch_event_target" "sample-cdktf-event-target" {
      [31m-[0m [0m[1m[0marn[0m[0m       = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m        = "capture-ecr-update-SendToSNS" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.164] [DEBUG] default -       [31m-[0m [0m[1m[0mrule[0m[0m      = "capture-ecr-update" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.164] [DEBUG] default -       [31m-[0m [0m[1m[0mtarget_id[0m[0m = "SendToSNS" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:31:57.164] [DEBUG] default - [1m  # aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.164] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_cloudwatch_log_group" "sample-cdktf-notification-to-slack-log-group" {

[2022-11-16T09:31:57.164] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m               = "arn:aws:logs:ap-northeast-1:574185952087:log-group:/aws/lambda/Sample-Lambda-Notification-to-Slack:*" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.164] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                = "/aws/lambda/Sample-Lambda-Notification-to-Slack" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.164] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m              = "/aws/lambda/Sample-Lambda-Notification-to-Slack" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.164] [DEBUG] default -       [31m-[0m [0m[1m[0mretention_in_days[0m[0m = 0 [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:31:57.164] [DEBUG] default - [1m  # aws_ecr_repository.sample-cdktf-repository[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.165] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_ecr_repository" "sample-cdktf-repository" {

[2022-11-16T09:31:57.165] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                  = "arn:aws:ecr:ap-northeast-1:574185952087:repository/project/sample-cdktf" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.165] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                   = "project/sample-cdktf" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.165] [DEBUG] default -       [31m-[0m [0m[1m[0mimage_tag_mutability[0m[0m = "MUTABLE" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.165] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m                 = "project/sample-cdktf" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.165] [DEBUG] default -       [31m-[0m [0m[1m[0mregistry_id[0m[0m          = "574185952087" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.166] [DEBUG] default -       [31m-[0m [0m[1m[0mrepository_url[0m[0m       = "574185952087.dkr.ecr.ap-northeast-1.amazonaws.com/project/sample-cdktf" [90m->[0m [0m[90mnull[0m[0m

      [31m-[0m [0mimage_scanning_configuration {

[2022-11-16T09:31:57.166] [DEBUG] default -           [31m-[0m [0m[1m[0mscan_on_push[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.166] [DEBUG] default -         }
    }


[2022-11-16T09:31:57.166] [DEBUG] default - [1m  # aws_ecs_cluster.sample-cdktf-cluster[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.167] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_ecs_cluster" "sample-cdktf-cluster" {

[2022-11-16T09:31:57.167] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m  = "arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.167] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m   = "arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.167] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m = "sample-cdktf-cluster" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.167] [DEBUG] default -     }

[1m  # aws_ecs_task_definition.sample-cdktf-task[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.167] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_ecs_task_definition" "sample-cdktf-task" {

[2022-11-16T09:31:57.167] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                      = "arn:aws:ecs:ap-northeast-1:574185952087:task-definition/task-for-cdktf:37" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.167] [DEBUG] default -       [31m-[0m [0m[1m[0mcontainer_definitions[0m[0m    = jsonencode(
            [

[2022-11-16T09:31:57.167] [DEBUG] default -               [31m-[0m [0m{

[2022-11-16T09:31:57.168] [DEBUG] default -                   [31m-[0m [0mcpu              = 0

[2022-11-16T09:31:57.168] [DEBUG] default -                   [31m-[0m [0menvironment      = []

[2022-11-16T09:31:57.168] [DEBUG] default -                   [31m-[0m [0messential        = true

[2022-11-16T09:31:57.168] [DEBUG] default -                   [31m-[0m [0mimage            = "574185952087.dkr.ecr.ap-northeast-1.amazonaws.com/project/sample-cdktf:latest"

[2022-11-16T09:31:57.168] [DEBUG] default -                   [31m-[0m [0mlogConfiguration = {

[2022-11-16T09:31:57.168] [DEBUG] default -                       [31m-[0m [0mlogDriver = "awslogs"

[2022-11-16T09:31:57.168] [DEBUG] default -                       [31m-[0m [0moptions   = {

[2022-11-16T09:31:57.168] [DEBUG] default -                           [31m-[0m [0mawslogs-group         = "/aws/ecs/sample-cdktf-task"

[2022-11-16T09:31:57.168] [DEBUG] default -                           [31m-[0m [0mawslogs-region        = "ap-northeast-1"

[2022-11-16T09:31:57.168] [DEBUG] default -                           [31m-[0m [0mawslogs-stream-prefix = "ecs"

[2022-11-16T09:31:57.168] [DEBUG] default -                         }
                    }

[2022-11-16T09:31:57.168] [DEBUG] default -                   [31m-[0m [0mmountPoints      = []

[2022-11-16T09:31:57.168] [DEBUG] default -                   [31m-[0m [0mname             = "sample-cdktf-container"
                  [31m-[0m [0mportMappings     = [

[2022-11-16T09:31:57.168] [DEBUG] default -                       [31m-[0m [0m{

[2022-11-16T09:31:57.168] [DEBUG] default -                           [31m-[0m [0mcontainerPort = 9000

[2022-11-16T09:31:57.168] [DEBUG] default -                           [31m-[0m [0mhostPort      = 9000

[2022-11-16T09:31:57.169] [DEBUG] default -                           [31m-[0m [0mprotocol      = "tcp"
                        },

[2022-11-16T09:31:57.169] [DEBUG] default -                     ]

[2022-11-16T09:31:57.169] [DEBUG] default -                   [31m-[0m [0mvolumesFrom      = []
                },

[2022-11-16T09:31:57.169] [DEBUG] default -             ]
        ) [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.169] [DEBUG] default -       [31m-[0m [0m[1m[0mcpu[0m[0m                      = "512" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.169] [DEBUG] default -       [31m-[0m [0m[1m[0mexecution_role_arn[0m[0m       = "arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskExecutionRole" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.169] [DEBUG] default -       [31m-[0m [0m[1m[0mfamily[0m[0m                   = "task-for-cdktf" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.169] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                       = "task-for-cdktf" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.169] [DEBUG] default -       [31m-[0m [0m[1m[0mmemory[0m[0m                   = "1024" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.169] [DEBUG] default -       [31m-[0m [0m[1m[0mnetwork_mode[0m[0m             = "awsvpc" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.169] [DEBUG] default -       [31m-[0m [0m[1m[0mrequires_compatibilities[0m[0m = [

[2022-11-16T09:31:57.169] [DEBUG] default -           [31m-[0m [0m"FARGATE",

[2022-11-16T09:31:57.170] [DEBUG] default -         ] [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.170] [DEBUG] default -       [31m-[0m [0m[1m[0mrevision[0m[0m                 = 37 [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.170] [DEBUG] default -       [31m-[0m [0m[1m[0mtask_role_arn[0m[0m            = "arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskRole" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:31:57.170] [DEBUG] default - [1m  # aws_eip.sample-cdktf-eip[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.170] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_eip" "sample-cdktf-eip" {

[2022-11-16T09:31:57.170] [DEBUG] default -       [31m-[0m [0m[1m[0mdomain[0m[0m           = "vpc" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.170] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m               = "eipalloc-0951e03c6ea14ea35" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.170] [DEBUG] default -       [31m-[0m [0m[1m[0mpublic_dns[0m[0m       = "ec2-3-113-174-101.ap-northeast-1.compute.amazonaws.com" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.170] [DEBUG] default -       [31m-[0m [0m[1m[0mpublic_ip[0m[0m        = "3.113.174.101" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.170] [DEBUG] default -       [31m-[0m [0m[1m[0mpublic_ipv4_pool[0m[0m = "amazon" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.171] [DEBUG] default -       [31m-[0m [0m[1m[0mvpc[0m[0m              = true [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:31:57.171] [DEBUG] default - [1m  # aws_iam_policy.ecs-task-execution-policy[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_iam_policy" "ecs-task-execution-policy" {
      [31m-[0m [0m[1m[0marn[0m[0m         = "arn:aws:iam::574185952087:policy/ecs-task-execution-policy" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.171] [DEBUG] default -       [31m-[0m [0m[1m[0mdescription[0m[0m = "Policy for updating ECS tasks" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.171] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m          = "arn:aws:iam::574185952087:policy/ecs-task-execution-policy" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.171] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m        = "ecs-task-execution-policy" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.171] [DEBUG] default -       [31m-[0m [0m[1m[0mpath[0m[0m        = "/" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.171] [DEBUG] default -       [31m-[0m [0m[1m[0mpolicy[0m[0m      = jsonencode(
            {
              [31m-[0m [0mStatement = [

[2022-11-16T09:31:57.171] [DEBUG] default -                   [31m-[0m [0m{

[2022-11-16T09:31:57.171] [DEBUG] default -                       [31m-[0m [0mAction   = [
                          [31m-[0m [0m"ecr:GetAuthorizationToken",

[2022-11-16T09:31:57.171] [DEBUG] default -                           [31m-[0m [0m"ecr:BatchCheckLayerAvailability",

[2022-11-16T09:31:57.172] [DEBUG] default -                           [31m-[0m [0m"ecr:GetDownloadUrlForLayer",

[2022-11-16T09:31:57.172] [DEBUG] default -                           [31m-[0m [0m"ecr:BatchGetImage",

[2022-11-16T09:31:57.172] [DEBUG] default -                           [31m-[0m [0m"logs:CreateLogStream",

[2022-11-16T09:31:57.172] [DEBUG] default -                           [31m-[0m [0m"logs:PutLogEvents",
                        ]
                      [31m-[0m [0mEffect   = "Allow"

[2022-11-16T09:31:57.172] [DEBUG] default -                       [31m-[0m [0mResource = [
                          [31m-[0m [0m"*",

[2022-11-16T09:31:57.172] [DEBUG] default -                         ]
                    },

[2022-11-16T09:31:57.172] [DEBUG] default -                 ]
              [31m-[0m [0mVersion   = "2012-10-17"
            }

[2022-11-16T09:31:57.172] [DEBUG] default -         ) [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:31:57.172] [DEBUG] default - [1m  # aws_iam_policy.ecs-task-policy[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.172] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_iam_policy" "ecs-task-policy" {

[2022-11-16T09:31:57.172] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m         = "arn:aws:iam::574185952087:policy/ecs-task-policy" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.172] [DEBUG] default -       [31m-[0m [0m[1m[0mdescription[0m[0m = "Policy for updating ECS tasks" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.172] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m          = "arn:aws:iam::574185952087:policy/ecs-task-policy" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.173] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m        = "ecs-task-policy" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.173] [DEBUG] default -       [31m-[0m [0m[1m[0mpath[0m[0m        = "/" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.173] [DEBUG] default -       [31m-[0m [0m[1m[0mpolicy[0m[0m      = jsonencode(
            {

[2022-11-16T09:31:57.173] [DEBUG] default -               [31m-[0m [0mStatement = [

[2022-11-16T09:31:57.173] [DEBUG] default -                   [31m-[0m [0m{

[2022-11-16T09:31:57.173] [DEBUG] default -                       [31m-[0m [0mAction   = [
                          [31m-[0m [0m"ecs:DescribeServices",

[2022-11-16T09:31:57.173] [DEBUG] default -                           [31m-[0m [0m"ecs:CreateTaskSet",

[2022-11-16T09:31:57.173] [DEBUG] default -                           [31m-[0m [0m"ecs:UpdateServicePrimaryTaskSet",

[2022-11-16T09:31:57.173] [DEBUG] default -                           [31m-[0m [0m"ecs:DeleteTaskSet",

[2022-11-16T09:31:57.173] [DEBUG] default -                           [31m-[0m [0m"elasticloadbalancing:DescribeTargetGroups",

[2022-11-16T09:31:57.173] [DEBUG] default -                           [31m-[0m [0m"elasticloadbalancing:DescribeListeners",

[2022-11-16T09:31:57.173] [DEBUG] default -                           [31m-[0m [0m"elasticloadbalancing:ModifyListener",

[2022-11-16T09:31:57.173] [DEBUG] default -                           [31m-[0m [0m"elasticloadbalancing:DescribeRules",

[2022-11-16T09:31:57.173] [DEBUG] default -                           [31m-[0m [0m"elasticloadbalancing:ModifyRule",

[2022-11-16T09:31:57.173] [DEBUG] default -                           [31m-[0m [0m"lambda:InvokeFunction",

[2022-11-16T09:31:57.173] [DEBUG] default -                           [31m-[0m [0m"cloudwatch:DescribeAlarms",

[2022-11-16T09:31:57.174] [DEBUG] default -                           [31m-[0m [0m"sns:Publish",

[2022-11-16T09:31:57.174] [DEBUG] default -                           [31m-[0m [0m"s3:GetObject",

[2022-11-16T09:31:57.174] [DEBUG] default -                           [31m-[0m [0m"s3:GetObjectVersion",

[2022-11-16T09:31:57.174] [DEBUG] default -                         ]
                      [31m-[0m [0mEffect   = "Allow"

[2022-11-16T09:31:57.174] [DEBUG] default -                       [31m-[0m [0mResource = [

[2022-11-16T09:31:57.174] [DEBUG] default -                           [31m-[0m [0m"*",
                        ]

[2022-11-16T09:31:57.174] [DEBUG] default -                     },
                ]

[2022-11-16T09:31:57.174] [DEBUG] default -               [31m-[0m [0mVersion   = "2012-10-17"
            }

[2022-11-16T09:31:57.174] [DEBUG] default -         ) [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:31:57.174] [DEBUG] default - [1m  # aws_iam_policy.lambda-logging[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.174] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_iam_policy" "lambda-logging" {

[2022-11-16T09:31:57.174] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m         = "arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.174] [DEBUG] default -       [31m-[0m [0m[1m[0mdescription[0m[0m = "IAM policy for logging from a lambda" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.174] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m          = "arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.175] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m        = "sample-cdktf-lambda-logging" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.175] [DEBUG] default -       [31m-[0m [0m[1m[0mpath[0m[0m        = "/" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mpolicy[0m[0m      = jsonencode(
            {
              [31m-[0m [0mStatement = [
                  [31m-[0m [0m{
                      [31m-[0m [0mAction   = [
                          [31m-[0m [0m"iam:PassRole",
                          [31m-[0m [0m"ecs:RegisterTaskDefinition",
                          [31m-[0m [0m"ecs:UpdateService",
                          [31m-[0m [0m"logs:CreateLogGroup",
                          [31m-[0m [0m"logs:CreateLogStream",
                          [31m-[0m [0m"logs:PutLogEvents",
                        ]
                      [31m-[0m [0mEffect   = "Allow"
                      [31m-[0m [0mResource = [

[2022-11-16T09:31:57.175] [DEBUG] default -                           [31m-[0m [0m"*",

[2022-11-16T09:31:57.175] [DEBUG] default -                           [31m-[0m [0m"arn:aws:logs:*:*:*",
                          [31m-[0m [0m"arn:aws:ecs:*:*:*",

[2022-11-16T09:31:57.175] [DEBUG] default -                           [31m-[0m [0m"arn:aws:iam::445682127642:role/sample-cdktf-ecsTaskExecutionRole",

[2022-11-16T09:31:57.175] [DEBUG] default -                         ]
                    },
                ]

[2022-11-16T09:31:57.175] [DEBUG] default -               [31m-[0m [0mVersion   = "2012-10-17"
            }

[2022-11-16T09:31:57.175] [DEBUG] default -         ) [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:31:57.176] [DEBUG] default - [1m  # aws_iam_role.ecsTaskExecutionRole[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.176] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_iam_role" "ecsTaskExecutionRole" {

[2022-11-16T09:31:57.176] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                   = "arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskExecutionRole" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.176] [DEBUG] default -       [31m-[0m [0m[1m[0massume_role_policy[0m[0m    = jsonencode(
            {
              [31m-[0m [0mStatement = [

[2022-11-16T09:31:57.176] [DEBUG] default -                   [31m-[0m [0m{

[2022-11-16T09:31:57.176] [DEBUG] default -                       [31m-[0m [0mAction    = "sts:AssumeRole"
                      [31m-[0m [0mEffect    = "Allow"

[2022-11-16T09:31:57.176] [DEBUG] default -                       [31m-[0m [0mPrincipal = {

[2022-11-16T09:31:57.176] [DEBUG] default -                           [31m-[0m [0mService = "ecs-tasks.amazonaws.com"
                        }

[2022-11-16T09:31:57.176] [DEBUG] default -                       [31m-[0m [0mSid       = ""
                    },

[2022-11-16T09:31:57.176] [DEBUG] default -                 ]

[2022-11-16T09:31:57.176] [DEBUG] default -               [31m-[0m [0mVersion   = "2012-10-17"
            }

[2022-11-16T09:31:57.176] [DEBUG] default -         ) [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.176] [DEBUG] default -       [31m-[0m [0m[1m[0mcreate_date[0m[0m           = "2022-11-16T00:25:15Z" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.176] [DEBUG] default -       [31m-[0m [0m[1m[0mforce_detach_policies[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.177] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                    = "sample-cdktf-ecsTaskExecutionRole" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.177] [DEBUG] default -       [31m-[0m [0m[1m[0mmax_session_duration[0m[0m  = 3600 [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.177] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m                  = "sample-cdktf-ecsTaskExecutionRole" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.177] [DEBUG] default -       [31m-[0m [0m[1m[0mpath[0m[0m                  = "/" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.177] [DEBUG] default -       [31m-[0m [0m[1m[0munique_id[0m[0m             = "AROAYLMBGKNLSR7ZHXOQQ" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.177] [DEBUG] default -     }


[2022-11-16T09:31:57.177] [DEBUG] default - [1m  # aws_iam_role.ecsTaskRole[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.177] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_iam_role" "ecsTaskRole" {

[2022-11-16T09:31:57.177] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                   = "arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskRole" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.177] [DEBUG] default -       [31m-[0m [0m[1m[0massume_role_policy[0m[0m    = jsonencode(

[2022-11-16T09:31:57.177] [DEBUG] default -             {

[2022-11-16T09:31:57.177] [DEBUG] default -               [31m-[0m [0mStatement = [
                  [31m-[0m [0m{

[2022-11-16T09:31:57.177] [DEBUG] default -                       [31m-[0m [0mAction    = "sts:AssumeRole"

[2022-11-16T09:31:57.178] [DEBUG] default -                       [31m-[0m [0mEffect    = "Allow"

[2022-11-16T09:31:57.178] [DEBUG] default -                       [31m-[0m [0mPrincipal = {

[2022-11-16T09:31:57.178] [DEBUG] default -                           [31m-[0m [0mService = "ecs-tasks.amazonaws.com"

[2022-11-16T09:31:57.178] [DEBUG] default -                         }

[2022-11-16T09:31:57.178] [DEBUG] default -                       [31m-[0m [0mSid       = ""
                    },
                ]

[2022-11-16T09:31:57.178] [DEBUG] default -               [31m-[0m [0mVersion   = "2012-10-17"
            }

[2022-11-16T09:31:57.178] [DEBUG] default -         ) [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.178] [DEBUG] default -       [31m-[0m [0m[1m[0mcreate_date[0m[0m           = "2022-11-16T00:25:13Z" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.178] [DEBUG] default -       [31m-[0m [0m[1m[0mforce_detach_policies[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.178] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                    = "sample-cdktf-ecsTaskRole" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.178] [DEBUG] default -       [31m-[0m [0m[1m[0mmax_session_duration[0m[0m  = 3600 [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.178] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m                  = "sample-cdktf-ecsTaskRole" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.178] [DEBUG] default -       [31m-[0m [0m[1m[0mpath[0m[0m                  = "/" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.178] [DEBUG] default -       [31m-[0m [0m[1m[0munique_id[0m[0m             = "AROAYLMBGKNLVMZ26KINU" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.178] [DEBUG] default -     }


[2022-11-16T09:31:57.179] [DEBUG] default - [1m  # aws_iam_role.lambdaExecutionRole[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.179] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_iam_role" "lambdaExecutionRole" {

[2022-11-16T09:31:57.179] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                   = "arn:aws:iam::574185952087:role/sample-cdktf-lambdaExecutionRole" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.179] [DEBUG] default -       [31m-[0m [0m[1m[0massume_role_policy[0m[0m    = jsonencode(

[2022-11-16T09:31:57.179] [DEBUG] default -             {
              [31m-[0m [0mStatement = [

[2022-11-16T09:31:57.179] [DEBUG] default -                   [31m-[0m [0m{

[2022-11-16T09:31:57.179] [DEBUG] default -                       [31m-[0m [0mAction    = "sts:AssumeRole"

[2022-11-16T09:31:57.179] [DEBUG] default -                       [31m-[0m [0mEffect    = "Allow"

[2022-11-16T09:31:57.179] [DEBUG] default -                       [31m-[0m [0mPrincipal = {

[2022-11-16T09:31:57.179] [DEBUG] default -                           [31m-[0m [0mService = [

[2022-11-16T09:31:57.179] [DEBUG] default -                               [31m-[0m [0m"lambda.amazonaws.com",

[2022-11-16T09:31:57.179] [DEBUG] default -                               [31m-[0m [0m"ecs-tasks.amazonaws.com",

[2022-11-16T09:31:57.179] [DEBUG] default -                             ]
                        }

[2022-11-16T09:31:57.179] [DEBUG] default -                       [31m-[0m [0mSid       = ""

[2022-11-16T09:31:57.179] [DEBUG] default -                     },
                ]

[2022-11-16T09:31:57.179] [DEBUG] default -               [31m-[0m [0mVersion   = "2012-10-17"
            }

[2022-11-16T09:31:57.179] [DEBUG] default -         ) [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.180] [DEBUG] default -       [31m-[0m [0m[1m[0mcreate_date[0m[0m           = "2022-11-16T00:25:13Z" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.180] [DEBUG] default -       [31m-[0m [0m[1m[0mforce_detach_policies[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.180] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                    = "sample-cdktf-lambdaExecutionRole" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.180] [DEBUG] default -       [31m-[0m [0m[1m[0mmax_session_duration[0m[0m  = 3600 [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.180] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m                  = "sample-cdktf-lambdaExecutionRole" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.180] [DEBUG] default -       [31m-[0m [0m[1m[0mpath[0m[0m                  = "/" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.180] [DEBUG] default -       [31m-[0m [0m[1m[0munique_id[0m[0m             = "AROAYLMBGKNLYM2HJYGPH" [90m->[0m [0m[90mnull[0m[0m
    }

[2022-11-16T09:31:57.180] [DEBUG] default - 

[2022-11-16T09:31:57.180] [DEBUG] default - [1m  # aws_iam_role_policy_attachment.attach-ecs-task-execution-policy[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.180] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_iam_role_policy_attachment" "attach-ecs-task-execution-policy" {

[2022-11-16T09:31:57.180] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m         = "sample-cdktf-ecsTaskExecutionRole-20221116002516706900000003" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.181] [DEBUG] default -       [31m-[0m [0m[1m[0mpolicy_arn[0m[0m = "arn:aws:iam::574185952087:policy/ecs-task-execution-policy" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.181] [DEBUG] default -       [31m-[0m [0m[1m[0mrole[0m[0m       = "sample-cdktf-ecsTaskExecutionRole" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:31:57.181] [DEBUG] default - [1m  # aws_iam_role_policy_attachment.attach-ecs-task-policy[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.181] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_iam_role_policy_attachment" "attach-ecs-task-policy" {

[2022-11-16T09:31:57.181] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m         = "sample-cdktf-ecsTaskRole-20221116002516519600000002" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.181] [DEBUG] default -       [31m-[0m [0m[1m[0mpolicy_arn[0m[0m = "arn:aws:iam::574185952087:policy/ecs-task-policy" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mrole[0m[0m       = "sample-cdktf-ecsTaskRole" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_iam_role_policy_attachment.attach-lambda-policy[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_iam_role_policy_attachment" "attach-lambda-policy" {

[2022-11-16T09:31:57.182] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m         = "sample-cdktf-lambdaExecutionRole-20221116002516376300000001" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.182] [DEBUG] default -       [31m-[0m [0m[1m[0mpolicy_arn[0m[0m = "arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.182] [DEBUG] default -       [31m-[0m [0m[1m[0mrole[0m[0m       = "sample-cdktf-lambdaExecutionRole" [90m->[0m [0m[90mnull[0m[0m
    }

[2022-11-16T09:31:57.182] [DEBUG] default - 

[2022-11-16T09:31:57.182] [DEBUG] default - [1m  # aws_internet_gateway.sample-cdktf-igw-production[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.182] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_internet_gateway" "sample-cdktf-igw-production" {

[2022-11-16T09:31:57.182] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m      = "arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-0cc1f41a6e7a3ffd6" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.182] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m       = "igw-0cc1f41a6e7a3ffd6" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.182] [DEBUG] default -       [31m-[0m [0m[1m[0mowner_id[0m[0m = "574185952087" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.182] [DEBUG] default -       [31m-[0m [0m[1m[0mtags[0m[0m     = {

[2022-11-16T09:31:57.183] [DEBUG] default -           [31m-[0m [0m"Name" = "igw-production sample-cdktf"

[2022-11-16T09:31:57.183] [DEBUG] default -         } [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.183] [DEBUG] default -       [31m-[0m [0m[1m[0mvpc_id[0m[0m   = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.183] [DEBUG] default -     }


[2022-11-16T09:31:57.183] [DEBUG] default - [1m  # aws_lambda_function.Sample-Lambda-Notification-to-Slack[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.183] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_lambda_function" "Sample-Lambda-Notification-to-Slack" {
      [31m-[0m [0m[1m[0marn[0m[0m                            = "arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.183] [DEBUG] default -       [31m-[0m [0m[1m[0mfunction_name[0m[0m                  = "Sample-Lambda-Notification-to-Slack" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.183] [DEBUG] default -       [31m-[0m [0m[1m[0mhandler[0m[0m                        = "index.handler" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.183] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                             = "Sample-Lambda-Notification-to-Slack" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.184] [DEBUG] default -       [31m-[0m [0m[1m[0minvoke_arn[0m[0m                     = "arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack/invocations" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.184] [DEBUG] default -       [31m-[0m [0m[1m[0mlast_modified[0m[0m                  = "2022-11-16T00:25:30.700+0000" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.184] [DEBUG] default -       [31m-[0m [0m[1m[0mmemory_size[0m[0m                    = 128 [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.184] [DEBUG] default -       [31m-[0m [0m[1m[0mpublish[0m[0m                        = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.184] [DEBUG] default -       [31m-[0m [0m[1m[0mqualified_arn[0m[0m                  = "arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack:$LATEST" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.184] [DEBUG] default -       [31m-[0m [0m[1m[0mreserved_concurrent_executions[0m[0m = -1 [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.184] [DEBUG] default -       [31m-[0m [0m[1m[0mrole[0m[0m                           = "arn:aws:iam::574185952087:role/sample-cdktf-lambdaExecutionRole" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.184] [DEBUG] default -       [31m-[0m [0m[1m[0mruntime[0m[0m                        = "nodejs12.x" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.185] [DEBUG] default -       [31m-[0m [0m[1m[0ms3_bucket[0m[0m                      = "sample-cdktf-s3" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.185] [DEBUG] default -       [31m-[0m [0m[1m[0ms3_key[0m[0m                         = "notification-to-Slack-dist.zip" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.185] [DEBUG] default -       [31m-[0m [0m[1m[0msource_code_hash[0m[0m               = "tCCpjM8bYGUMlYE1itasARiG+ZOmfdgQJWCcxS1eRIg=" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.185] [DEBUG] default -       [31m-[0m [0m[1m[0msource_code_size[0m[0m               = 13887229 [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.185] [DEBUG] default -       [31m-[0m [0m[1m[0mtimeout[0m[0m                        = 30 [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.185] [DEBUG] default -       [31m-[0m [0m[1m[0mversion[0m[0m                        = "$LATEST" [90m->[0m [0m[90mnull[0m[0m

      [31m-[0m [0menvironment {

[2022-11-16T09:31:57.185] [DEBUG] default -           [31m-[0m [0m[1m[0mvariables[0m[0m = {

[2022-11-16T09:31:57.185] [DEBUG] default -               [31m-[0m [0m"SLACK_API_TOKEN" = "xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp"

[2022-11-16T09:31:57.185] [DEBUG] default -               [31m-[0m [0m"SLACK_CHANNEL"   = "C049CPNKHMJ"

[2022-11-16T09:31:57.186] [DEBUG] default -             } [90m->[0m [0m[90mnull[0m[0m
        }


[2022-11-16T09:31:57.186] [DEBUG] default -       [31m-[0m [0mtracing_config {

[2022-11-16T09:31:57.186] [DEBUG] default -           [31m-[0m [0m[1m[0mmode[0m[0m = "PassThrough" [90m->[0m [0m[90mnull[0m[0m
        }

[2022-11-16T09:31:57.186] [DEBUG] default -     }


[2022-11-16T09:31:57.186] [DEBUG] default - [1m  # aws_lambda_permission.permission-to-sns[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.187] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_lambda_permission" "permission-to-sns" {

[2022-11-16T09:31:57.187] [DEBUG] default -       [31m-[0m [0m[1m[0maction[0m[0m        = "lambda:InvokeFunction" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.187] [DEBUG] default -       [31m-[0m [0m[1m[0mfunction_name[0m[0m = "Sample-Lambda-Notification-to-Slack" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.187] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m            = "AllowExecutionFromSNS" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.187] [DEBUG] default -       [31m-[0m [0m[1m[0mprincipal[0m[0m     = "sns.amazonaws.com" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.188] [DEBUG] default -       [31m-[0m [0m[1m[0msource_arn[0m[0m    = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.188] [DEBUG] default -       [31m-[0m [0m[1m[0mstatement_id[0m[0m  = "AllowExecutionFromSNS" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.188] [DEBUG] default -     }


[2022-11-16T09:31:57.188] [DEBUG] default - [1m  # aws_nat_gateway.sample-cdktf-nat-gateway[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.188] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_nat_gateway" "sample-cdktf-nat-gateway" {

[2022-11-16T09:31:57.188] [DEBUG] default -       [31m-[0m [0m[1m[0mallocation_id[0m[0m        = "eipalloc-0951e03c6ea14ea35" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.188] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                   = "nat-05c42cb06acc4ed39" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.188] [DEBUG] default -       [31m-[0m [0m[1m[0mnetwork_interface_id[0m[0m = "eni-04ed580c92d1ae968" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.188] [DEBUG] default -       [31m-[0m [0m[1m[0mprivate_ip[0m[0m           = "10.0.15.207" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.188] [DEBUG] default -       [31m-[0m [0m[1m[0mpublic_ip[0m[0m            = "3.113.174.101" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.189] [DEBUG] default -       [31m-[0m [0m[1m[0msubnet_id[0m[0m            = "subnet-068eb072c8fcf74cb" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.189] [DEBUG] default -       [31m-[0m [0m[1m[0mtags[0m[0m                 = {

[2022-11-16T09:31:57.189] [DEBUG] default -           [31m-[0m [0m"Name" = "sample-cdktf nat-gateway-production"
        } [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.189] [DEBUG] default -     }


[2022-11-16T09:31:57.189] [DEBUG] default - [1m  # aws_route_table.sample-cdktf-private-rtb[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.189] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_route_table" "sample-cdktf-private-rtb" {

[2022-11-16T09:31:57.189] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m               = "rtb-0442ce144946a12ac" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.189] [DEBUG] default -       [31m-[0m [0m[1m[0mowner_id[0m[0m         = "574185952087" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.189] [DEBUG] default -       [31m-[0m [0m[1m[0mpropagating_vgws[0m[0m = [] [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.189] [DEBUG] default -       [31m-[0m [0m[1m[0mroute[0m[0m            = [

[2022-11-16T09:31:57.189] [DEBUG] default -           [31m-[0m [0m{

[2022-11-16T09:31:57.189] [DEBUG] default -               [31m-[0m [0mcidr_block                = "0.0.0.0/0"

[2022-11-16T09:31:57.189] [DEBUG] default -               [31m-[0m [0megress_only_gateway_id    = ""

[2022-11-16T09:31:57.189] [DEBUG] default -               [31m-[0m [0mgateway_id                = ""

[2022-11-16T09:31:57.189] [DEBUG] default -               [31m-[0m [0minstance_id               = ""
              [31m-[0m [0mipv6_cidr_block           = ""

[2022-11-16T09:31:57.190] [DEBUG] default -               [31m-[0m [0mnat_gateway_id            = "nat-05c42cb06acc4ed39"

[2022-11-16T09:31:57.190] [DEBUG] default -               [31m-[0m [0mnetwork_interface_id      = ""

[2022-11-16T09:31:57.190] [DEBUG] default -               [31m-[0m [0mtransit_gateway_id        = ""

[2022-11-16T09:31:57.190] [DEBUG] default -               [31m-[0m [0mvpc_peering_connection_id = ""

[2022-11-16T09:31:57.190] [DEBUG] default -             },
        ] [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.190] [DEBUG] default -       [31m-[0m [0m[1m[0mtags[0m[0m             = {

[2022-11-16T09:31:57.190] [DEBUG] default -           [31m-[0m [0m"Name" = "sample-cdktf Private rtb"

[2022-11-16T09:31:57.190] [DEBUG] default -         } [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.190] [DEBUG] default -       [31m-[0m [0m[1m[0mvpc_id[0m[0m           = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.190] [DEBUG] default -     }


[2022-11-16T09:31:57.190] [DEBUG] default - [1m  # aws_route_table.sample-cdktf-public-rtb[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.190] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_route_table" "sample-cdktf-public-rtb" {

[2022-11-16T09:31:57.191] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m               = "rtb-0f0e7d1030896858f" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.191] [DEBUG] default -       [31m-[0m [0m[1m[0mowner_id[0m[0m         = "574185952087" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.191] [DEBUG] default -       [31m-[0m [0m[1m[0mpropagating_vgws[0m[0m = [] [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.191] [DEBUG] default -       [31m-[0m [0m[1m[0mroute[0m[0m            = [

[2022-11-16T09:31:57.191] [DEBUG] default -           [31m-[0m [0m{

[2022-11-16T09:31:57.191] [DEBUG] default -               [31m-[0m [0mcidr_block                = "0.0.0.0/0"
              [31m-[0m [0megress_only_gateway_id    = ""

[2022-11-16T09:31:57.191] [DEBUG] default -               [31m-[0m [0mgateway_id                = "igw-0cc1f41a6e7a3ffd6"

[2022-11-16T09:31:57.191] [DEBUG] default -               [31m-[0m [0minstance_id               = ""

[2022-11-16T09:31:57.191] [DEBUG] default -               [31m-[0m [0mipv6_cidr_block           = ""
              [31m-[0m [0mnat_gateway_id            = ""

[2022-11-16T09:31:57.191] [DEBUG] default -               [31m-[0m [0mnetwork_interface_id      = ""

[2022-11-16T09:31:57.191] [DEBUG] default -               [31m-[0m [0mtransit_gateway_id        = ""

[2022-11-16T09:31:57.191] [DEBUG] default -               [31m-[0m [0mvpc_peering_connection_id = ""
            },

[2022-11-16T09:31:57.191] [DEBUG] default -         ] [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtags[0m[0m             = {

[2022-11-16T09:31:57.192] [DEBUG] default -           [31m-[0m [0m"Name" = "sample-cdktf Public rtb"

[2022-11-16T09:31:57.192] [DEBUG] default -         } [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.192] [DEBUG] default -       [31m-[0m [0m[1m[0mvpc_id[0m[0m           = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:31:57.192] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-private-rtb-association1[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.192] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_route_table_association" "sample-cdktf-private-rtb-association1" {

[2022-11-16T09:31:57.192] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m             = "rtbassoc-0921c4bbba318e1b5" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.192] [DEBUG] default -       [31m-[0m [0m[1m[0mroute_table_id[0m[0m = "rtb-0442ce144946a12ac" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.192] [DEBUG] default -       [31m-[0m [0m[1m[0msubnet_id[0m[0m      = "subnet-00795dcdd623dc51c" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.192] [DEBUG] default -     }


[2022-11-16T09:31:57.192] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-private-rtb-association2[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.192] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_route_table_association" "sample-cdktf-private-rtb-association2" {

[2022-11-16T09:31:57.192] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m             = "rtbassoc-0454d26f9d77a06d5" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.192] [DEBUG] default -       [31m-[0m [0m[1m[0mroute_table_id[0m[0m = "rtb-0442ce144946a12ac" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.193] [DEBUG] default -       [31m-[0m [0m[1m[0msubnet_id[0m[0m      = "subnet-08a39339bdc1d9b62" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:31:57.193] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-public-rtb-association1[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.193] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_route_table_association" "sample-cdktf-public-rtb-association1" {

[2022-11-16T09:31:57.193] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m             = "rtbassoc-083efa1b3a99fc6b7" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.193] [DEBUG] default -       [31m-[0m [0m[1m[0mroute_table_id[0m[0m = "rtb-0f0e7d1030896858f" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.193] [DEBUG] default -       [31m-[0m [0m[1m[0msubnet_id[0m[0m      = "subnet-068eb072c8fcf74cb" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.193] [DEBUG] default -     }


[2022-11-16T09:31:57.193] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-public-rtb-association2[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.193] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_route_table_association" "sample-cdktf-public-rtb-association2" {

[2022-11-16T09:31:57.193] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m             = "rtbassoc-0bfccc5bb33f7bc84" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.193] [DEBUG] default -       [31m-[0m [0m[1m[0mroute_table_id[0m[0m = "rtb-0f0e7d1030896858f" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.193] [DEBUG] default -       [31m-[0m [0m[1m[0msubnet_id[0m[0m      = "subnet-0ddb3015e06d74ce8" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:31:57.193] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-public-rtb1[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.193] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_route_table_association" "sample-cdktf-public-rtb1" {

[2022-11-16T09:31:57.194] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m             = "rtbassoc-083efa1b3a99fc6b7" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.194] [DEBUG] default -       [31m-[0m [0m[1m[0mroute_table_id[0m[0m = "rtb-0f0e7d1030896858f" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.194] [DEBUG] default -       [31m-[0m [0m[1m[0msubnet_id[0m[0m      = "subnet-068eb072c8fcf74cb" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:31:57.194] [DEBUG] default - [1m  # aws_s3_bucket.sample-cdktf-s3[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.194] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_s3_bucket" "sample-cdktf-s3" {

[2022-11-16T09:31:57.194] [DEBUG] default -       [31m-[0m [0m[1m[0macl[0m[0m                         = "private" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.194] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                         = "arn:aws:s3:::sample-cdktf-s3" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.194] [DEBUG] default -       [31m-[0m [0m[1m[0mbucket[0m[0m                      = "sample-cdktf-s3" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.195] [DEBUG] default -       [31m-[0m [0m[1m[0mbucket_domain_name[0m[0m          = "sample-cdktf-s3.s3.amazonaws.com" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mbucket_regional_domain_name[0m[0m = "sample-cdktf-s3.s3.ap-northeast-1.amazonaws.com" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mforce_destroy[0m[0m               = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.195] [DEBUG] default -       [31m-[0m [0m[1m[0mhosted_zone_id[0m[0m              = "Z2M4EHUR26P7ZW" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.195] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                          = "sample-cdktf-s3" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.195] [DEBUG] default -       [31m-[0m [0m[1m[0mregion[0m[0m                      = "ap-northeast-1" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.195] [DEBUG] default -       [31m-[0m [0m[1m[0mrequest_payer[0m[0m               = "BucketOwner" [90m->[0m [0m[90mnull[0m[0m


[2022-11-16T09:31:57.195] [DEBUG] default -       [31m-[0m [0mversioning {

[2022-11-16T09:31:57.195] [DEBUG] default -           [31m-[0m [0m[1m[0menabled[0m[0m    = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.195] [DEBUG] default -           [31m-[0m [0m[1m[0mmfa_delete[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
        }
    }


[2022-11-16T09:31:57.195] [DEBUG] default - [1m  # aws_s3_bucket_object.notification-to-Slack-distzip[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.195] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_s3_bucket_object" "notification-to-Slack-distzip" {

[2022-11-16T09:31:57.195] [DEBUG] default -       [31m-[0m [0m[1m[0macl[0m[0m           = "private" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.196] [DEBUG] default -       [31m-[0m [0m[1m[0mbucket[0m[0m        = "sample-cdktf-s3" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.196] [DEBUG] default -       [31m-[0m [0m[1m[0mcontent_type[0m[0m  = "zip" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.196] [DEBUG] default -       [31m-[0m [0m[1m[0metag[0m[0m          = "4937147d8b730bb24484f81f57592f61" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.196] [DEBUG] default -       [31m-[0m [0m[1m[0mforce_destroy[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.196] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m            = "notification-to-Slack-dist.zip" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.196] [DEBUG] default -       [31m-[0m [0m[1m[0mkey[0m[0m           = "notification-to-Slack-dist.zip" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.196] [DEBUG] default -       [31m-[0m [0m[1m[0msource[0m[0m        = "/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.196] [DEBUG] default -       [31m-[0m [0m[1m[0mstorage_class[0m[0m = "STANDARD" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.196] [DEBUG] default -     }


[2022-11-16T09:31:57.196] [DEBUG] default - [1m  # aws_security_group.sample-cdktf-security-group[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.196] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_security_group" "sample-cdktf-security-group" {

[2022-11-16T09:31:57.197] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                    = "arn:aws:ec2:ap-northeast-1:574185952087:security-group/sg-039556800e9cab6e1" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.197] [DEBUG] default -       [31m-[0m [0m[1m[0mdescription[0m[0m            = "Managed by Terraform" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.197] [DEBUG] default -       [31m-[0m [0m[1m[0megress[0m[0m                 = [] [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.197] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                     = "sg-039556800e9cab6e1" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.197] [DEBUG] default -       [31m-[0m [0m[1m[0mingress[0m[0m                = [] [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.197] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m                   = "sample-cdktf" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.197] [DEBUG] default -       [31m-[0m [0m[1m[0mowner_id[0m[0m               = "574185952087" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.197] [DEBUG] default -       [31m-[0m [0m[1m[0mrevoke_rules_on_delete[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.198] [DEBUG] default -       [31m-[0m [0m[1m[0mtags[0m[0m                   = {

[2022-11-16T09:31:57.198] [DEBUG] default -           [31m-[0m [0m"Name" = "sample-cdktf"

[2022-11-16T09:31:57.198] [DEBUG] default -         } [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.198] [DEBUG] default -       [31m-[0m [0m[1m[0mvpc_id[0m[0m                 = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.198] [DEBUG] default -     }


[2022-11-16T09:31:57.198] [DEBUG] default - [1m  # aws_security_group_rule.sample-cdktf-security-egress[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.198] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_security_group_rule" "sample-cdktf-security-egress" {

[2022-11-16T09:31:57.198] [DEBUG] default -       [31m-[0m [0m[1m[0mcidr_blocks[0m[0m       = [

[2022-11-16T09:31:57.198] [DEBUG] default -           [31m-[0m [0m"0.0.0.0/0",

[2022-11-16T09:31:57.198] [DEBUG] default -         ] [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.198] [DEBUG] default -       [31m-[0m [0m[1m[0mfrom_port[0m[0m         = 0 [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.198] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                = "sgrule-850402267" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.199] [DEBUG] default -       [31m-[0m [0m[1m[0mprotocol[0m[0m          = "-1" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0msecurity_group_id[0m[0m = "sg-039556800e9cab6e1" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mself[0m[0m              = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mto_port[0m[0m           = 0 [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtype[0m[0m              = "egress" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_security_group_rule.sample-cdktf-security-ingress[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.199] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_security_group_rule" "sample-cdktf-security-ingress" {
      [31m-[0m [0m[1m[0mcidr_blocks[0m[0m       = [

[2022-11-16T09:31:57.199] [DEBUG] default -           [31m-[0m [0m"0.0.0.0/0",

[2022-11-16T09:31:57.199] [DEBUG] default -         ] [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.199] [DEBUG] default -       [31m-[0m [0m[1m[0mfrom_port[0m[0m         = 80 [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.199] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                = "sgrule-71704278" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.199] [DEBUG] default -       [31m-[0m [0m[1m[0mprotocol[0m[0m          = "tcp" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.199] [DEBUG] default -       [31m-[0m [0m[1m[0msecurity_group_id[0m[0m = "sg-039556800e9cab6e1" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.199] [DEBUG] default -       [31m-[0m [0m[1m[0mself[0m[0m              = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.200] [DEBUG] default -       [31m-[0m [0m[1m[0mto_port[0m[0m           = 80 [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.200] [DEBUG] default -       [31m-[0m [0m[1m[0mtype[0m[0m              = "ingress" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:31:57.200] [DEBUG] default - [1m  # aws_sns_topic.sample-cdktf-sns[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.200] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_sns_topic" "sample-cdktf-sns" {

[2022-11-16T09:31:57.200] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m    = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.200] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m     = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.200] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m   = "sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.200] [DEBUG] default -       [31m-[0m [0m[1m[0mpolicy[0m[0m = jsonencode(
            {

[2022-11-16T09:31:57.200] [DEBUG] default -               [31m-[0m [0mId        = "__default_policy_ID"

[2022-11-16T09:31:57.200] [DEBUG] default -               [31m-[0m [0mStatement = [
                  [31m-[0m [0m{

[2022-11-16T09:31:57.200] [DEBUG] default -                       [31m-[0m [0mAction    = [

[2022-11-16T09:31:57.200] [DEBUG] default -                           [31m-[0m [0m"SNS:GetTopicAttributes",

[2022-11-16T09:31:57.200] [DEBUG] default -                           [31m-[0m [0m"SNS:SetTopicAttributes",

[2022-11-16T09:31:57.200] [DEBUG] default -                           [31m-[0m [0m"SNS:AddPermission",

[2022-11-16T09:31:57.201] [DEBUG] default -                           [31m-[0m [0m"SNS:RemovePermission",

[2022-11-16T09:31:57.201] [DEBUG] default -                           [31m-[0m [0m"SNS:DeleteTopic",

[2022-11-16T09:31:57.201] [DEBUG] default -                           [31m-[0m [0m"SNS:Subscribe",

[2022-11-16T09:31:57.201] [DEBUG] default -                           [31m-[0m [0m"SNS:ListSubscriptionsByTopic",

[2022-11-16T09:31:57.201] [DEBUG] default -                           [31m-[0m [0m"SNS:Publish",

[2022-11-16T09:31:57.201] [DEBUG] default -                         ]
                      [31m-[0m [0mCondition = {

[2022-11-16T09:31:57.201] [DEBUG] default -                           [31m-[0m [0mStringEquals = {

[2022-11-16T09:31:57.201] [DEBUG] default -                               [31m-[0m [0mAWS:SourceOwner = "574185952087"

[2022-11-16T09:31:57.201] [DEBUG] default -                             }
                        }

[2022-11-16T09:31:57.201] [DEBUG] default -                       [31m-[0m [0mEffect    = "Allow"

[2022-11-16T09:31:57.201] [DEBUG] default -                       [31m-[0m [0mPrincipal = {
                          [31m-[0m [0mAWS = "*"

[2022-11-16T09:31:57.201] [DEBUG] default -                         }

[2022-11-16T09:31:57.201] [DEBUG] default -                       [31m-[0m [0mResource  = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns"

[2022-11-16T09:31:57.201] [DEBUG] default -                       [31m-[0m [0mSid       = "__default_statement_ID"

[2022-11-16T09:31:57.201] [DEBUG] default -                     },
                ]

[2022-11-16T09:31:57.201] [DEBUG] default -               [31m-[0m [0mVersion   = "2008-10-17"
            }

[2022-11-16T09:31:57.202] [DEBUG] default -         ) [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_sns_topic_policy.sample-cdktf-sns-policy[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_sns_topic_policy" "sample-cdktf-sns-policy" {

[2022-11-16T09:31:57.202] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m    = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.202] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m     = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.202] [DEBUG] default -       [31m-[0m [0m[1m[0mpolicy[0m[0m = jsonencode(
            {

[2022-11-16T09:31:57.202] [DEBUG] default -               [31m-[0m [0mStatement = [

[2022-11-16T09:31:57.202] [DEBUG] default -                   [31m-[0m [0m{

[2022-11-16T09:31:57.202] [DEBUG] default -                       [31m-[0m [0mAction    = "SNS:Publish"

[2022-11-16T09:31:57.202] [DEBUG] default -                       [31m-[0m [0mEffect    = "Allow"

[2022-11-16T09:31:57.202] [DEBUG] default -                       [31m-[0m [0mPrincipal = {

[2022-11-16T09:31:57.202] [DEBUG] default -                           [31m-[0m [0mService = "events.amazonaws.com"

[2022-11-16T09:31:57.202] [DEBUG] default -                         }
                      [31m-[0m [0mResource  = "*"

[2022-11-16T09:31:57.202] [DEBUG] default -                       [31m-[0m [0mSid       = ""

[2022-11-16T09:31:57.202] [DEBUG] default -                     },
                ]

[2022-11-16T09:31:57.203] [DEBUG] default -               [31m-[0m [0mVersion   = "2012-10-17"
            }

[2022-11-16T09:31:57.203] [DEBUG] default -         ) [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:31:57.203] [DEBUG] default - [1m  # aws_sns_topic_subscription.sample-cdktf-sns-subscription[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.203] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_sns_topic_subscription" "sample-cdktf-sns-subscription" {

[2022-11-16T09:31:57.203] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                             = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:90455267-deda-459b-b1b1-7b3a9a9910c0" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.203] [DEBUG] default -       [31m-[0m [0m[1m[0mconfirmation_timeout_in_minutes[0m[0m = 1 [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.203] [DEBUG] default -       [31m-[0m [0m[1m[0mendpoint[0m[0m                        = "arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.203] [DEBUG] default -       [31m-[0m [0m[1m[0mendpoint_auto_confirms[0m[0m          = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.203] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                              = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:90455267-deda-459b-b1b1-7b3a9a9910c0" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.203] [DEBUG] default -       [31m-[0m [0m[1m[0mprotocol[0m[0m                        = "lambda" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.204] [DEBUG] default -       [31m-[0m [0m[1m[0mraw_message_delivery[0m[0m            = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.204] [DEBUG] default -       [31m-[0m [0m[1m[0mtopic_arn[0m[0m                       = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:31:57.204] [DEBUG] default - [1m  # aws_subnet.sample-cdktf-private-subnet1[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.204] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_subnet" "sample-cdktf-private-subnet1" {

[2022-11-16T09:31:57.204] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                             = "arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-00795dcdd623dc51c" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.204] [DEBUG] default -       [31m-[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.204] [DEBUG] default -       [31m-[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1a" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.204] [DEBUG] default -       [31m-[0m [0m[1m[0mavailability_zone_id[0m[0m            = "apne1-az4" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.204] [DEBUG] default -       [31m-[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.128.0/20" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.204] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                              = "subnet-00795dcdd623dc51c" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.205] [DEBUG] default -       [31m-[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.205] [DEBUG] default -       [31m-[0m [0m[1m[0mowner_id[0m[0m                        = "574185952087" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.205] [DEBUG] default -       [31m-[0m [0m[1m[0mtags[0m[0m                            = {

[2022-11-16T09:31:57.205] [DEBUG] default -           [31m-[0m [0m"Name" = "Private1 AZ1a sample-cdktf"

[2022-11-16T09:31:57.205] [DEBUG] default -         } [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.205] [DEBUG] default -       [31m-[0m [0m[1m[0mvpc_id[0m[0m                          = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.205] [DEBUG] default -     }


[2022-11-16T09:31:57.205] [DEBUG] default - [1m  # aws_subnet.sample-cdktf-private-subnet2[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.205] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_subnet" "sample-cdktf-private-subnet2" {

[2022-11-16T09:31:57.205] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                             = "arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-08a39339bdc1d9b62" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.205] [DEBUG] default -       [31m-[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.205] [DEBUG] default -       [31m-[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1c" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.205] [DEBUG] default -       [31m-[0m [0m[1m[0mavailability_zone_id[0m[0m            = "apne1-az1" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.144.0/20" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.206] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                              = "subnet-08a39339bdc1d9b62" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.206] [DEBUG] default -       [31m-[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.206] [DEBUG] default -       [31m-[0m [0m[1m[0mowner_id[0m[0m                        = "574185952087" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.206] [DEBUG] default -       [31m-[0m [0m[1m[0mtags[0m[0m                            = {

[2022-11-16T09:31:57.206] [DEBUG] default -           [31m-[0m [0m"Name" = "Private2 AZ1c sample-cdktf"
        } [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mvpc_id[0m[0m                          = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:31:57.206] [DEBUG] default - [1m  # aws_subnet.sample-cdktf-public-subnet1[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.206] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_subnet" "sample-cdktf-public-subnet1" {
      [31m-[0m [0m[1m[0marn[0m[0m                             = "arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-068eb072c8fcf74cb" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.207] [DEBUG] default -       [31m-[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.207] [DEBUG] default -       [31m-[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1a" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.207] [DEBUG] default -       [31m-[0m [0m[1m[0mavailability_zone_id[0m[0m            = "apne1-az4" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.207] [DEBUG] default -       [31m-[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.0.0/20" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.207] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                              = "subnet-068eb072c8fcf74cb" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.207] [DEBUG] default -       [31m-[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.207] [DEBUG] default -       [31m-[0m [0m[1m[0mowner_id[0m[0m                        = "574185952087" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.207] [DEBUG] default -       [31m-[0m [0m[1m[0mtags[0m[0m                            = {

[2022-11-16T09:31:57.207] [DEBUG] default -           [31m-[0m [0m"Name" = "Public1 AZ1a sample-cdktf"

[2022-11-16T09:31:57.207] [DEBUG] default -         } [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.207] [DEBUG] default -       [31m-[0m [0m[1m[0mvpc_id[0m[0m                          = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:31:57.208] [DEBUG] default - [1m  # aws_subnet.sample-cdktf-public-subnet2[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.208] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_subnet" "sample-cdktf-public-subnet2" {

[2022-11-16T09:31:57.208] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                             = "arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0ddb3015e06d74ce8" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.208] [DEBUG] default -       [31m-[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.208] [DEBUG] default -       [31m-[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1c" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.208] [DEBUG] default -       [31m-[0m [0m[1m[0mavailability_zone_id[0m[0m            = "apne1-az1" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.208] [DEBUG] default -       [31m-[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.16.0/20" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.208] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                              = "subnet-0ddb3015e06d74ce8" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.208] [DEBUG] default -       [31m-[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.208] [DEBUG] default -       [31m-[0m [0m[1m[0mowner_id[0m[0m                        = "574185952087" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.208] [DEBUG] default -       [31m-[0m [0m[1m[0mtags[0m[0m                            = {

[2022-11-16T09:31:57.208] [DEBUG] default -           [31m-[0m [0m"Name" = "Public2 AZ1c sample-cdktf"

[2022-11-16T09:31:57.209] [DEBUG] default -         } [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.209] [DEBUG] default -       [31m-[0m [0m[1m[0mvpc_id[0m[0m                          = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m
    }

[2022-11-16T09:31:57.209] [DEBUG] default - 
[1m  # aws_vpc.sample-cdktf-vpc[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:31:57.209] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_vpc" "sample-cdktf-vpc" {

[2022-11-16T09:31:57.209] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                              = "arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.209] [DEBUG] default -       [31m-[0m [0m[1m[0massign_generated_ipv6_cidr_block[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.209] [DEBUG] default -       [31m-[0m [0m[1m[0mcidr_block[0m[0m                       = "10.0.0.0/16" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.209] [DEBUG] default -       [31m-[0m [0m[1m[0mdefault_network_acl_id[0m[0m           = "acl-08b9670156912938d" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.209] [DEBUG] default -       [31m-[0m [0m[1m[0mdefault_route_table_id[0m[0m           = "rtb-01926216c1dc207a6" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.209] [DEBUG] default -       [31m-[0m [0m[1m[0mdefault_security_group_id[0m[0m        = "sg-01b60241c042b1663" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.209] [DEBUG] default -       [31m-[0m [0m[1m[0mdhcp_options_id[0m[0m                  = "dopt-03da244493f3f476d" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.209] [DEBUG] default -       [31m-[0m [0m[1m[0menable_classiclink[0m[0m               = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.210] [DEBUG] default -       [31m-[0m [0m[1m[0menable_classiclink_dns_support[0m[0m   = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.210] [DEBUG] default -       [31m-[0m [0m[1m[0menable_dns_hostnames[0m[0m             = true [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.210] [DEBUG] default -       [31m-[0m [0m[1m[0menable_dns_support[0m[0m               = true [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.210] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                               = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.210] [DEBUG] default -       [31m-[0m [0m[1m[0minstance_tenancy[0m[0m                 = "default" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.210] [DEBUG] default -       [31m-[0m [0m[1m[0mmain_route_table_id[0m[0m              = "rtb-01926216c1dc207a6" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.210] [DEBUG] default -       [31m-[0m [0m[1m[0mowner_id[0m[0m                         = "574185952087" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:31:57.210] [DEBUG] default -       [31m-[0m [0m[1m[0mtags[0m[0m                             = {

[2022-11-16T09:31:57.211] [DEBUG] default -           [31m-[0m [0m"Name" = "sample-cdktf production"

[2022-11-16T09:31:57.211] [DEBUG] default -         } [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:31:57.211] [DEBUG] default - [0m[1mPlan:[0m 0 to add, 0 to change, 41 to destroy.[0m

[2022-11-16T09:31:57.211] [DEBUG] default - [33m

[2022-11-16T09:31:57.211] [DEBUG] default - [1m[33mWarning: [0m[0m[1m"condition.0.values": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m


[2022-11-16T09:31:57.211] [DEBUG] default - [0m  on cdk.tf.json line 671, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:
 671:       [4m}[0m

[2022-11-16T09:31:57.211] [DEBUG] default - [0m
[0m[0m
[33m

[2022-11-16T09:31:57.211] [DEBUG] default - [1m[33mWarning: [0m[0m[1m"condition.0.field": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m


[2022-11-16T09:31:57.211] [DEBUG] default - [0m  on cdk.tf.json line 671, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:

[2022-11-16T09:31:57.212] [DEBUG] default -  671:       [4m}[0m
[0m
[0m[0m


[2022-11-16T09:31:57.212] [DEBUG] default - ------------------------------------------------------------------------


[2022-11-16T09:31:57.212] [DEBUG] default - This plan was saved to: /Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/cdktf.out/plan


[2022-11-16T09:31:57.212] [DEBUG] default - To perform exactly these actions, run the following command to apply:

[2022-11-16T09:31:57.212] [DEBUG] default -     terraform apply "/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/cdktf.out/plan"


[2022-11-16T09:31:58.003] [DEBUG] default - {"format_version":"0.1","terraform_version":"0.14.8","planned_values":{"root_module":{}},"resource_changes":[{"address":"aws_alb_target_group.sample-cdktf-alb-target-group","mode":"managed","type":"aws_alb_target_group","name":"sample-cdktf-alb-target-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/807c538d9534886d","arn_suffix":"targetgroup/sample-cdktf-alb-target-group/807c538d9534886d","deregistration_delay":300,"health_check":[{"enabled":true,"healthy_threshold":3,"interval":30,"matcher":"200","path":"/","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"id":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/807c538d9534886d","lambda_multi_value_headers_enabled":false,"load_balancing_algorithm_type":"round_robin","name":"sample-cdktf-alb-target-group","name_prefix":null,"port":80,"protocol":"HTTP","proxy_protocol_v2":false,"slow_start":0,"stickiness":[{"cookie_duration":86400,"enabled":false,"type":"lb_cookie"}],"tags":null,"target_type":"ip","vpc_id":"vpc-045b92b482ef76254"},"after":null,"after_unknown":{}}},{"address":"aws_cloudwatch_event_rule.sample-cdktf-event-rule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"sample-cdktf-event-rule","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:events:ap-northeast-1:574185952087:rule/capture-ecr-update","description":"Capture each AWS ECR Update","event_pattern":"{\"detail\":{\"action-type\":[\"PUSH\"],\"result\":[\"SUCCESS\"]},\"detail-type\":[\"ECR Image Action\"],\"source\":[\"aws.ecr\"]}","id":"capture-ecr-update","is_enabled":true,"name":"capture-ecr-update","name_prefix":null,"role_arn":"","schedule_expression":"","tags":null},"after":null,"after_unknown":{}}},{"address":"aws_cloudwatch_event_target.sample-cdktf-event-target","mode":"managed","type":"aws_cloudwatch_event_target","name":"sample-cdktf-event-target","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","batch_target":[],"ecs_target":[],"id":"capture-ecr-update-SendToSNS","input":"","input_path":"","input_transformer":[],"kinesis_target":[],"role_arn":"","rule":"capture-ecr-update","run_command_targets":[],"sqs_target":[],"target_id":"SendToSNS"},"after":null,"after_unknown":{}}},{"address":"aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-notification-to-slack-log-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:logs:ap-northeast-1:574185952087:log-group:/aws/lambda/Sample-Lambda-Notification-to-Slack:*","id":"/aws/lambda/Sample-Lambda-Notification-to-Slack","kms_key_id":"","name":"/aws/lambda/Sample-Lambda-Notification-to-Slack","name_prefix":null,"retention_in_days":0,"tags":null},"after":null,"after_unknown":{}}},{"address":"aws_ecr_repository.sample-cdktf-repository","mode":"managed","type":"aws_ecr_repository","name":"sample-cdktf-repository","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ecr:ap-northeast-1:574185952087:repository/project/sample-cdktf","id":"project/sample-cdktf","image_scanning_configuration":[{"scan_on_push":false}],"image_tag_mutability":"MUTABLE","name":"project/sample-cdktf","registry_id":"574185952087","repository_url":"574185952087.dkr.ecr.ap-northeast-1.amazonaws.com/project/sample-cdktf","tags":null,"timeouts":null},"after":null,"after_unknown":{}}},{"address":"aws_ecs_cluster.sample-cdktf-cluster","mode":"managed","type":"aws_ecs_cluster","name":"sample-cdktf-cluster","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster","capacity_providers":null,"default_capacity_provider_strategy":[],"id":"arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster","name":"sample-cdktf-cluster","setting":[],"tags":null},"after":null,"after_unknown":{}}},{"address":"aws_ecs_task_definition.sample-cdktf-task","mode":"managed","type":"aws_ecs_task_definition","name":"sample-cdktf-task","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ecs:ap-northeast-1:574185952087:task-definition/task-for-cdktf:37","container_definitions":"[{\"cpu\":0,\"environment\":[],\"essential\":true,\"image\":\"574185952087.dkr.ecr.ap-northeast-1.amazonaws.com/project/sample-cdktf:latest\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"/aws/ecs/sample-cdktf-task\",\"awslogs-region\":\"ap-northeast-1\",\"awslogs-stream-prefix\":\"ecs\"}},\"mountPoints\":[],\"name\":\"sample-cdktf-container\",\"portMappings\":[{\"containerPort\":9000,\"hostPort\":9000,\"protocol\":\"tcp\"}],\"volumesFrom\":[]}]","cpu":"512","execution_role_arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskExecutionRole","family":"task-for-cdktf","id":"task-for-cdktf","inference_accelerator":[],"ipc_mode":"","memory":"1024","network_mode":"awsvpc","pid_mode":"","placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":["FARGATE"],"revision":37,"tags":null,"task_role_arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskRole","volume":[]},"after":null,"after_unknown":{}}},{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"allocation_id":null,"associate_with_private_ip":null,"association_id":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-0951e03c6ea14ea35","instance":"","network_interface":"","private_dns":null,"private_ip":"","public_dns":"ec2-3-113-174-101.ap-northeast-1.compute.amazonaws.com","public_ip":"3.113.174.101","public_ipv4_pool":"amazon","tags":null,"timeouts":null,"vpc":true},"after":null,"after_unknown":{}}},{"address":"aws_iam_policy.ecs-task-execution-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:iam::574185952087:policy/ecs-task-execution-policy","description":"Policy for updating ECS tasks","id":"arn:aws:iam::574185952087:policy/ecs-task-execution-policy","name":"ecs-task-execution-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"},"after":null,"after_unknown":{}}},{"address":"aws_iam_policy.ecs-task-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:iam::574185952087:policy/ecs-task-policy","description":"Policy for updating ECS tasks","id":"arn:aws:iam::574185952087:policy/ecs-task-policy","name":"ecs-task-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecs:DescribeServices\",\n              \"ecs:CreateTaskSet\",\n              \"ecs:UpdateServicePrimaryTaskSet\",\n              \"ecs:DeleteTaskSet\",\n              \"elasticloadbalancing:DescribeTargetGroups\",\n              \"elasticloadbalancing:DescribeListeners\",\n              \"elasticloadbalancing:ModifyListener\",\n        
[2022-11-16T09:31:58.004] [DEBUG] default -       \"elasticloadbalancing:DescribeRules\",\n              \"elasticloadbalancing:ModifyRule\",\n              \"lambda:InvokeFunction\",\n              \"cloudwatch:DescribeAlarms\",\n              \"sns:Publish\",\n              \"s3:GetObject\",\n              \"s3:GetObjectVersion\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"},"after":null,"after_unknown":{}}},{"address":"aws_iam_policy.lambda-logging","mode":"managed","type":"aws_iam_policy","name":"lambda-logging","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging","description":"IAM policy for logging from a lambda","id":"arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging","name":"sample-cdktf-lambda-logging","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"iam:PassRole\",\n              \"ecs:RegisterTaskDefinition\",\n              \"ecs:UpdateService\",\n              \"logs:CreateLogGroup\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\",\n              \"arn:aws:logs:*:*:*\",\n              \"arn:aws:ecs:*:*:*\",\n              \"arn:aws:iam::445682127642:role/sample-cdktf-ecsTaskExecutionRole\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"},"after":null,"after_unknown":{}}},{"address":"aws_iam_role.ecsTaskExecutionRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskExecutionRole","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-11-16T00:25:15Z","description":"","force_detach_policies":false,"id":"sample-cdktf-ecsTaskExecutionRole","max_session_duration":3600,"name":"sample-cdktf-ecsTaskExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null,"unique_id":"AROAYLMBGKNLSR7ZHXOQQ"},"after":null,"after_unknown":{}}},{"address":"aws_iam_role.ecsTaskRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskRole","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskRole","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-11-16T00:25:13Z","description":"","force_detach_policies":false,"id":"sample-cdktf-ecsTaskRole","max_session_duration":3600,"name":"sample-cdktf-ecsTaskRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null,"unique_id":"AROAYLMBGKNLVMZ26KINU"},"after":null,"after_unknown":{}}},{"address":"aws_iam_role.lambdaExecutionRole","mode":"managed","type":"aws_iam_role","name":"lambdaExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:iam::574185952087:role/sample-cdktf-lambdaExecutionRole","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"lambda.amazonaws.com\",\"ecs-tasks.amazonaws.com\"]},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-11-16T00:25:13Z","description":"","force_detach_policies":false,"id":"sample-cdktf-lambdaExecutionRole","max_session_duration":3600,"name":"sample-cdktf-lambdaExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null,"unique_id":"AROAYLMBGKNLYM2HJYGPH"},"after":null,"after_unknown":{}}},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-execution-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"id":"sample-cdktf-ecsTaskExecutionRole-20221116002516706900000003","policy_arn":"arn:aws:iam::574185952087:policy/ecs-task-execution-policy","role":"sample-cdktf-ecsTaskExecutionRole"},"after":null,"after_unknown":{}}},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"id":"sample-cdktf-ecsTaskRole-20221116002516519600000002","policy_arn":"arn:aws:iam::574185952087:policy/ecs-task-policy","role":"sample-cdktf-ecsTaskRole"},"after":null,"after_unknown":{}}},{"address":"aws_iam_role_policy_attachment.attach-lambda-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-lambda-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"id":"sample-cdktf-lambdaExecutionRole-20221116002516376300000001","policy_arn":"arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging","role":"sample-cdktf-lambdaExecutionRole"},"after":null,"after_unknown":{}}},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-0cc1f41a6e7a3ffd6","id":"igw-0cc1f41a6e7a3ffd6","owner_id":"574185952087","tags":{"Name":"igw-production sample-cdktf"},"vpc_id":"vpc-045b92b482ef76254"},"after":null,"after_unknown":{}}},{"address":"aws_lambda_function.Sample-Lambda-Notification-to-Slack","mode":"managed","type":"aws_lambda_function","name":"Sample-Lambda-Notification-to-Slack","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack","dead_letter_config":[],"description":"","environment":[{"variables":{"SLACK_API_TOKEN":"xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp","SLACK_CHANNEL":"C049CPNKHMJ"}}],"file_system_config":[],"filename":null,"function_name":"Sample-Lambda-Notification-to-Slack","handler":"index.handler","id":"Sample-Lambda-Notification-to-Slack","invoke_arn":"arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack/invocations","kms_key_arn":"","last_modified":"2022-11-16T00:25:30.700+0000","layers":null,"memory_size":128,"publish":false,"qualified_arn":"arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack:$LATEST","reserved_concurrent_executions":-1,"role":"arn:aws:iam::574185952087:role/sample-cdktf-lambdaExecutionRole","runtime":"nodejs12.x","s3_bucket":"sample-cdktf-s3","s3_key":"notification-to-Slack-dist.zip","s3_object_version":null,"source_code_hash":"tCCpjM8bYGUMlYE1itasARiG+ZOmfdgQJWCcxS1eRIg=","source_code_size":13887229,"tags":null,"timeout":30,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"after":null,"after_unknown":{}}},{"address":"aws_lambda_permission.permission-to-sns","mode":"managed","type":"aws_lambda_permission","name":"permission-to-sns","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"Sample-Lambda-Notification-to-Slack","id":"AllowExecutionFromSNS","principal":"sns.amazonaws.com","qualifier":"","source_account":null,"source_arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","statement_id":"AllowExecutionFromSNS","statement_id_prefix":null},"after":null,"after_unknown":{}}},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode
[2022-11-16T09:31:58.004] [DEBUG] default - ":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"allocation_id":"eipalloc-0951e03c6ea14ea35","id":"nat-05c42cb06acc4ed39","network_interface_id":"eni-04ed580c92d1ae968","private_ip":"10.0.15.207","public_ip":"3.113.174.101","subnet_id":"subnet-068eb072c8fcf74cb","tags":{"Name":"sample-cdktf nat-gateway-production"}},"after":null,"after_unknown":{}}},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"id":"rtb-0442ce144946a12ac","owner_id":"574185952087","propagating_vgws":[],"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"nat-05c42cb06acc4ed39","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Private rtb"},"vpc_id":"vpc-045b92b482ef76254"},"after":null,"after_unknown":{}}},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"id":"rtb-0f0e7d1030896858f","owner_id":"574185952087","propagating_vgws":[],"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"igw-0cc1f41a6e7a3ffd6","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Public rtb"},"vpc_id":"vpc-045b92b482ef76254"},"after":null,"after_unknown":{}}},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"gateway_id":null,"id":"rtbassoc-0921c4bbba318e1b5","route_table_id":"rtb-0442ce144946a12ac","subnet_id":"subnet-00795dcdd623dc51c"},"after":null,"after_unknown":{}}},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"gateway_id":null,"id":"rtbassoc-0454d26f9d77a06d5","route_table_id":"rtb-0442ce144946a12ac","subnet_id":"subnet-08a39339bdc1d9b62"},"after":null,"after_unknown":{}}},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"gateway_id":null,"id":"rtbassoc-083efa1b3a99fc6b7","route_table_id":"rtb-0f0e7d1030896858f","subnet_id":"subnet-068eb072c8fcf74cb"},"after":null,"after_unknown":{}}},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"gateway_id":null,"id":"rtbassoc-0bfccc5bb33f7bc84","route_table_id":"rtb-0f0e7d1030896858f","subnet_id":"subnet-0ddb3015e06d74ce8"},"after":null,"after_unknown":{}}},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"gateway_id":null,"id":"rtbassoc-083efa1b3a99fc6b7","route_table_id":"rtb-0f0e7d1030896858f","subnet_id":"subnet-068eb072c8fcf74cb"},"after":null,"after_unknown":{}}},{"address":"aws_s3_bucket.sample-cdktf-s3","mode":"managed","type":"aws_s3_bucket","name":"sample-cdktf-s3","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"acceleration_status":"","acl":"private","arn":"arn:aws:s3:::sample-cdktf-s3","bucket":"sample-cdktf-s3","bucket_domain_name":"sample-cdktf-s3.s3.amazonaws.com","bucket_prefix":null,"bucket_regional_domain_name":"sample-cdktf-s3.s3.ap-northeast-1.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[],"hosted_zone_id":"Z2M4EHUR26P7ZW","id":"sample-cdktf-s3","lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":null,"region":"ap-northeast-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[],"tags":null,"versioning":[{"enabled":false,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null},"after":null,"after_unknown":{}}},{"address":"aws_s3_bucket_object.notification-to-Slack-distzip","mode":"managed","type":"aws_s3_bucket_object","name":"notification-to-Slack-distzip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"acl":"private","bucket":"sample-cdktf-s3","cache_control":"","content":null,"content_base64":null,"content_disposition":"","content_encoding":"","content_language":"","content_type":"zip","etag":"4937147d8b730bb24484f81f57592f61","force_destroy":false,"id":"notification-to-Slack-dist.zip","key":"notification-to-Slack-dist.zip","kms_key_id":null,"metadata":null,"object_lock_legal_hold_status":"","object_lock_mode":"","object_lock_retain_until_date":"","server_side_encryption":"","source":"/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip","storage_class":"STANDARD","tags":null,"version_id":"","website_redirect":""},"after":null,"after_unknown":{}}},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:security-group/sg-039556800e9cab6e1","description":"Managed by Terraform","egress":[],"id":"sg-039556800e9cab6e1","ingress":[],"name":"sample-cdktf","name_prefix":null,"owner_id":"574185952087","revoke_rules_on_delete":false,"tags":{"Name":"sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"after":null,"after_unknown":{}}},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"id":"sgrule-850402267","ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_group_id":"sg-039556800e9cab6e1","self":false,"source_security_group_id":null,"to_port":0,"type":"egress"},"after":null,"after_unknown":{}}},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":80,"id":"sgrule-71704278","ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_group_id":"sg-039556800e9cab6e1","self":false,"source_security_group_id":null,"to_port":80,"type":"ingress"},"after":null,"after_unknown":{}}},{"address":"aws_sns_topic.sample-cdktf-sns","mode":"managed","type":"aws_sns_topic","name":"sample-cdktf-sns","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"application_failure_feedback_role_arn":"","application_success_feedback_role_arn":"","application_success_feedback_sample_rate":null,"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","delivery_policy":"","display_name":"","http_failure_feedback_role_arn":"","http_success_feedback_role_arn":"","http_success_feedback_sample_rate":null,"id":"arn:aws:sns:ap-northeast-1:5741
[2022-11-16T09:31:58.004] [DEBUG] default - 85952087:sample-cdktf-sns","kms_master_key_id":"","lambda_failure_feedback_role_arn":"","lambda_success_feedback_role_arn":"","lambda_success_feedback_sample_rate":null,"name":"sample-cdktf-sns","name_prefix":null,"policy":"{\"Version\":\"2008-10-17\",\"Id\":\"__default_policy_ID\",\"Statement\":[{\"Sid\":\"__default_statement_ID\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Action\":[\"SNS:GetTopicAttributes\",\"SNS:SetTopicAttributes\",\"SNS:AddPermission\",\"SNS:RemovePermission\",\"SNS:DeleteTopic\",\"SNS:Subscribe\",\"SNS:ListSubscriptionsByTopic\",\"SNS:Publish\"],\"Resource\":\"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns\",\"Condition\":{\"StringEquals\":{\"AWS:SourceOwner\":\"574185952087\"}}}]}","sqs_failure_feedback_role_arn":"","sqs_success_feedback_role_arn":"","sqs_success_feedback_sample_rate":null,"tags":null},"after":null,"after_unknown":{}}},{"address":"aws_sns_topic_policy.sample-cdktf-sns-policy","mode":"managed","type":"aws_sns_topic_policy","name":"sample-cdktf-sns-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","id":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"events.amazonaws.com\"},\"Action\":\"SNS:Publish\",\"Resource\":\"*\"}]}"},"after":null,"after_unknown":{}}},{"address":"aws_sns_topic_subscription.sample-cdktf-sns-subscription","mode":"managed","type":"aws_sns_topic_subscription","name":"sample-cdktf-sns-subscription","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:90455267-deda-459b-b1b1-7b3a9a9910c0","confirmation_timeout_in_minutes":1,"delivery_policy":"","endpoint":"arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack","endpoint_auto_confirms":false,"filter_policy":"","id":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:90455267-deda-459b-b1b1-7b3a9a9910c0","protocol":"lambda","raw_message_delivery":false,"topic_arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns"},"after":null,"after_unknown":{}}},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-00795dcdd623dc51c","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.128.0/20","id":"subnet-00795dcdd623dc51c","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Private1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"after":null,"after_unknown":{}}},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-08a39339bdc1d9b62","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.144.0/20","id":"subnet-08a39339bdc1d9b62","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Private2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"after":null,"after_unknown":{}}},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-068eb072c8fcf74cb","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.0.0/20","id":"subnet-068eb072c8fcf74cb","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"after":null,"after_unknown":{}}},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0ddb3015e06d74ce8","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.16.0/20","id":"subnet-0ddb3015e06d74ce8","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"after":null,"after_unknown":{}}},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-045b92b482ef76254","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-08b9670156912938d","default_route_table_id":"rtb-01926216c1dc207a6","default_security_group_id":"sg-01b60241c042b1663","dhcp_options_id":"dopt-03da244493f3f476d","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":true,"enable_dns_support":true,"id":"vpc-045b92b482ef76254","instance_tenancy":"default","ipv6_association_id":"","ipv6_cidr_block":"","main_route_table_id":"rtb-01926216c1dc207a6","owner_id":"574185952087","tags":{"Name":"sample-cdktf production"}},"after":null,"after_unknown":{}}}],"prior_state":{"format_version":"0.1","terraform_version":"0.14.8","values":{"root_module":{"resources":[{"address":"aws_alb_target_group.sample-cdktf-alb-target-group","mode":"managed","type":"aws_alb_target_group","name":"sample-cdktf-alb-target-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/807c538d9534886d","arn_suffix":"targetgroup/sample-cdktf-alb-target-group/807c538d9534886d","deregistration_delay":300,"health_check":[{"enabled":true,"healthy_threshold":3,"interval":30,"matcher":"200","path":"/","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"id":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/807c538d9534886d","lambda_multi_value_headers_enabled":false,"load_balancing_algorithm_type":"round_robin","name":"sample-cdktf-alb-target-group","name_prefix":null,"port":80,"protocol":"HTTP","proxy_protocol_v2":false,"slow_start":0,"stickiness":[{"cookie_duration":86400,"enabled":false,"type":"lb_cookie"}],"tags":null,"target_type":"ip","vpc_id":"vpc-045b92b482ef76254"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_cloudwatch_event_rule.sample-cdktf-event-rule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"sample-cdktf-event-rule","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:events:ap-northeast-1:574185952087:rule/capture-ecr-update","description":"Capture each AWS ECR Update","event_pattern":"{\"detail\":{\"action-type\":[\"PUSH\"],\"result\":[\"SUCCESS\"]},\"detail-type\":[\"ECR Image Action\"],\"source\":[\"aws.ecr\"]}","id":"capture-ecr-update","is_enabled":true,"name":"capture-ecr-update","name_prefix":null,"role_arn":"","schedule_expression":"","tags":null}},{"address":"aws_cloudwatch_event_target.sample-cdktf-event-target","mode":"managed","type":"aws_cloudwatch_event_target","name":"sample-cdktf-even
[2022-11-16T09:31:58.004] [DEBUG] default - t-target","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","batch_target":[],"ecs_target":[],"id":"capture-ecr-update-SendToSNS","input":"","input_path":"","input_transformer":[],"kinesis_target":[],"role_arn":"","rule":"capture-ecr-update","run_command_targets":[],"sqs_target":[],"target_id":"SendToSNS"},"depends_on":["aws_cloudwatch_event_rule.sample-cdktf-event-rule","aws_sns_topic.sample-cdktf-sns"]},{"address":"aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-notification-to-slack-log-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:logs:ap-northeast-1:574185952087:log-group:/aws/lambda/Sample-Lambda-Notification-to-Slack:*","id":"/aws/lambda/Sample-Lambda-Notification-to-Slack","kms_key_id":"","name":"/aws/lambda/Sample-Lambda-Notification-to-Slack","name_prefix":null,"retention_in_days":0,"tags":null},"depends_on":["aws_iam_role.lambdaExecutionRole","aws_lambda_function.Sample-Lambda-Notification-to-Slack","aws_s3_bucket.sample-cdktf-s3","aws_s3_bucket_object.notification-to-Slack-distzip"]},{"address":"aws_ecr_repository.sample-cdktf-repository","mode":"managed","type":"aws_ecr_repository","name":"sample-cdktf-repository","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ecr:ap-northeast-1:574185952087:repository/project/sample-cdktf","id":"project/sample-cdktf","image_scanning_configuration":[{"scan_on_push":false}],"image_tag_mutability":"MUTABLE","name":"project/sample-cdktf","registry_id":"574185952087","repository_url":"574185952087.dkr.ecr.ap-northeast-1.amazonaws.com/project/sample-cdktf","tags":null,"timeouts":null}},{"address":"aws_ecs_cluster.sample-cdktf-cluster","mode":"managed","type":"aws_ecs_cluster","name":"sample-cdktf-cluster","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster","capacity_providers":null,"default_capacity_provider_strategy":[],"id":"arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster","name":"sample-cdktf-cluster","setting":[],"tags":null}},{"address":"aws_ecs_task_definition.sample-cdktf-task","mode":"managed","type":"aws_ecs_task_definition","name":"sample-cdktf-task","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ecs:ap-northeast-1:574185952087:task-definition/task-for-cdktf:37","container_definitions":"[{\"cpu\":0,\"environment\":[],\"essential\":true,\"image\":\"574185952087.dkr.ecr.ap-northeast-1.amazonaws.com/project/sample-cdktf:latest\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"/aws/ecs/sample-cdktf-task\",\"awslogs-region\":\"ap-northeast-1\",\"awslogs-stream-prefix\":\"ecs\"}},\"mountPoints\":[],\"name\":\"sample-cdktf-container\",\"portMappings\":[{\"containerPort\":9000,\"hostPort\":9000,\"protocol\":\"tcp\"}],\"volumesFrom\":[]}]","cpu":"512","execution_role_arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskExecutionRole","family":"task-for-cdktf","id":"task-for-cdktf","inference_accelerator":[],"ipc_mode":"","memory":"1024","network_mode":"awsvpc","pid_mode":"","placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":["FARGATE"],"revision":37,"tags":null,"task_role_arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskRole","volume":[]},"depends_on":["aws_ecr_repository.sample-cdktf-repository","aws_iam_role.ecsTaskExecutionRole","aws_iam_role.ecsTaskRole"]},{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"allocation_id":null,"associate_with_private_ip":null,"association_id":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-0951e03c6ea14ea35","instance":"","network_interface":"","private_dns":null,"private_ip":"","public_dns":"ec2-3-113-174-101.ap-northeast-1.compute.amazonaws.com","public_ip":"3.113.174.101","public_ipv4_pool":"amazon","tags":null,"timeouts":null,"vpc":true}},{"address":"aws_iam_policy.ecs-task-execution-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::574185952087:policy/ecs-task-execution-policy","description":"Policy for updating ECS tasks","id":"arn:aws:iam::574185952087:policy/ecs-task-execution-policy","name":"ecs-task-execution-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},{"address":"aws_iam_policy.ecs-task-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::574185952087:policy/ecs-task-policy","description":"Policy for updating ECS tasks","id":"arn:aws:iam::574185952087:policy/ecs-task-policy","name":"ecs-task-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecs:DescribeServices\",\n              \"ecs:CreateTaskSet\",\n              \"ecs:UpdateServicePrimaryTaskSet\",\n              \"ecs:DeleteTaskSet\",\n              \"elasticloadbalancing:DescribeTargetGroups\",\n              \"elasticloadbalancing:DescribeListeners\",\n              \"elasticloadbalancing:ModifyListener\",\n              \"elasticloadbalancing:DescribeRules\",\n              \"elasticloadbalancing:ModifyRule\",\n              \"lambda:InvokeFunction\",\n              \"cloudwatch:DescribeAlarms\",\n              \"sns:Publish\",\n              \"s3:GetObject\",\n              \"s3:GetObjectVersion\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},{"address":"aws_iam_policy.lambda-logging","mode":"managed","type":"aws_iam_policy","name":"lambda-logging","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging","description":"IAM policy for logging from a lambda","id":"arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging","name":"sample-cdktf-lambda-logging","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"iam:PassRole\",\n              \"ecs:RegisterTaskDefinition\",\n              \"ecs:UpdateService\",\n              \"logs:CreateLogGroup\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\",\n              \"arn:aws:logs:*:*:*\",\n              \"arn:aws:ecs:*:*:*\",\n              \"arn:aws:iam::445682127642:role/sample-cdktf-ecsTaskExecutionRole\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},{"address":"aws_iam_role.ecsTaskExecutionRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskExecutionRole","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:Assume
[2022-11-16T09:31:58.004] [DEBUG] default - Role\"}]}","create_date":"2022-11-16T00:25:15Z","description":"","force_detach_policies":false,"id":"sample-cdktf-ecsTaskExecutionRole","max_session_duration":3600,"name":"sample-cdktf-ecsTaskExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null,"unique_id":"AROAYLMBGKNLSR7ZHXOQQ"}},{"address":"aws_iam_role.ecsTaskRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskRole","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskRole","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-11-16T00:25:13Z","description":"","force_detach_policies":false,"id":"sample-cdktf-ecsTaskRole","max_session_duration":3600,"name":"sample-cdktf-ecsTaskRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null,"unique_id":"AROAYLMBGKNLVMZ26KINU"}},{"address":"aws_iam_role.lambdaExecutionRole","mode":"managed","type":"aws_iam_role","name":"lambdaExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::574185952087:role/sample-cdktf-lambdaExecutionRole","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"lambda.amazonaws.com\",\"ecs-tasks.amazonaws.com\"]},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-11-16T00:25:13Z","description":"","force_detach_policies":false,"id":"sample-cdktf-lambdaExecutionRole","max_session_duration":3600,"name":"sample-cdktf-lambdaExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null,"unique_id":"AROAYLMBGKNLYM2HJYGPH"}},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-execution-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"sample-cdktf-ecsTaskExecutionRole-20221116002516706900000003","policy_arn":"arn:aws:iam::574185952087:policy/ecs-task-execution-policy","role":"sample-cdktf-ecsTaskExecutionRole"},"depends_on":["aws_iam_policy.ecs-task-execution-policy","aws_iam_role.ecsTaskExecutionRole"]},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"sample-cdktf-ecsTaskRole-20221116002516519600000002","policy_arn":"arn:aws:iam::574185952087:policy/ecs-task-policy","role":"sample-cdktf-ecsTaskRole"},"depends_on":["aws_iam_policy.ecs-task-policy","aws_iam_role.ecsTaskRole"]},{"address":"aws_iam_role_policy_attachment.attach-lambda-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-lambda-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"sample-cdktf-lambdaExecutionRole-20221116002516376300000001","policy_arn":"arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging","role":"sample-cdktf-lambdaExecutionRole"},"depends_on":["aws_iam_policy.lambda-logging","aws_iam_role.lambdaExecutionRole"]},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-0cc1f41a6e7a3ffd6","id":"igw-0cc1f41a6e7a3ffd6","owner_id":"574185952087","tags":{"Name":"igw-production sample-cdktf"},"vpc_id":"vpc-045b92b482ef76254"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_lambda_function.Sample-Lambda-Notification-to-Slack","mode":"managed","type":"aws_lambda_function","name":"Sample-Lambda-Notification-to-Slack","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack","dead_letter_config":[],"description":"","environment":[{"variables":{"SLACK_API_TOKEN":"xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp","SLACK_CHANNEL":"C049CPNKHMJ"}}],"file_system_config":[],"filename":null,"function_name":"Sample-Lambda-Notification-to-Slack","handler":"index.handler","id":"Sample-Lambda-Notification-to-Slack","invoke_arn":"arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack/invocations","kms_key_arn":"","last_modified":"2022-11-16T00:25:30.700+0000","layers":null,"memory_size":128,"publish":false,"qualified_arn":"arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack:$LATEST","reserved_concurrent_executions":-1,"role":"arn:aws:iam::574185952087:role/sample-cdktf-lambdaExecutionRole","runtime":"nodejs12.x","s3_bucket":"sample-cdktf-s3","s3_key":"notification-to-Slack-dist.zip","s3_object_version":null,"source_code_hash":"tCCpjM8bYGUMlYE1itasARiG+ZOmfdgQJWCcxS1eRIg=","source_code_size":13887229,"tags":null,"timeout":30,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"depends_on":["aws_iam_role.lambdaExecutionRole","aws_s3_bucket.sample-cdktf-s3","aws_s3_bucket_object.notification-to-Slack-distzip"]},{"address":"aws_lambda_permission.permission-to-sns","mode":"managed","type":"aws_lambda_permission","name":"permission-to-sns","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"Sample-Lambda-Notification-to-Slack","id":"AllowExecutionFromSNS","principal":"sns.amazonaws.com","qualifier":"","source_account":null,"source_arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","statement_id":"AllowExecutionFromSNS","statement_id_prefix":null},"depends_on":["aws_iam_role.lambdaExecutionRole","aws_lambda_function.Sample-Lambda-Notification-to-Slack","aws_s3_bucket.sample-cdktf-s3","aws_s3_bucket_object.notification-to-Slack-distzip","aws_sns_topic.sample-cdktf-sns"]},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"allocation_id":"eipalloc-0951e03c6ea14ea35","id":"nat-05c42cb06acc4ed39","network_interface_id":"eni-04ed580c92d1ae968","private_ip":"10.0.15.207","public_ip":"3.113.174.101","subnet_id":"subnet-068eb072c8fcf74cb","tags":{"Name":"sample-cdktf nat-gateway-production"}},"depends_on":["aws_eip.sample-cdktf-eip","aws_subnet.sample-cdktf-public-subnet1","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"rtb-0442ce144946a12ac","owner_id":"574185952087","propagating_vgws":[],"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"nat-05c42cb06acc4ed39","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Private rtb"},"vpc_id":"vpc-045b92b482ef76254"},"depends_on":["aws_eip.sample-cdktf-eip","aws_nat_gateway.sample-cdktf-nat-gateway","aws_subnet.sample-cdktf-public-subnet1","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"rtb-0f0e7d1030896858f","owner_id":"574185952087","propagating_vgws":[],"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"igw-0cc1f41a6e7a3ffd6","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name"
[2022-11-16T09:31:58.005] [DEBUG] default - :"sample-cdktf Public rtb"},"vpc_id":"vpc-045b92b482ef76254"},"depends_on":["aws_internet_gateway.sample-cdktf-igw-production","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-0921c4bbba318e1b5","route_table_id":"rtb-0442ce144946a12ac","subnet_id":"subnet-00795dcdd623dc51c"},"depends_on":["aws_eip.sample-cdktf-eip","aws_nat_gateway.sample-cdktf-nat-gateway","aws_route_table.sample-cdktf-private-rtb","aws_subnet.sample-cdktf-private-subnet1","aws_subnet.sample-cdktf-public-subnet1","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-0454d26f9d77a06d5","route_table_id":"rtb-0442ce144946a12ac","subnet_id":"subnet-08a39339bdc1d9b62"},"depends_on":["aws_eip.sample-cdktf-eip","aws_nat_gateway.sample-cdktf-nat-gateway","aws_route_table.sample-cdktf-private-rtb","aws_subnet.sample-cdktf-private-subnet2","aws_subnet.sample-cdktf-public-subnet1","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-083efa1b3a99fc6b7","route_table_id":"rtb-0f0e7d1030896858f","subnet_id":"subnet-068eb072c8fcf74cb"},"depends_on":["aws_internet_gateway.sample-cdktf-igw-production","aws_route_table.sample-cdktf-public-rtb","aws_subnet.sample-cdktf-public-subnet1","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-0bfccc5bb33f7bc84","route_table_id":"rtb-0f0e7d1030896858f","subnet_id":"subnet-0ddb3015e06d74ce8"},"depends_on":["aws_internet_gateway.sample-cdktf-igw-production","aws_route_table.sample-cdktf-public-rtb","aws_subnet.sample-cdktf-public-subnet2","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-083efa1b3a99fc6b7","route_table_id":"rtb-0f0e7d1030896858f","subnet_id":"subnet-068eb072c8fcf74cb"},"depends_on":["aws_internet_gateway.sample-cdktf-igw-production","aws_route_table.sample-cdktf-public-rtb","aws_subnet.sample-cdktf-public-subnet1","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_s3_bucket.sample-cdktf-s3","mode":"managed","type":"aws_s3_bucket","name":"sample-cdktf-s3","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acceleration_status":"","acl":"private","arn":"arn:aws:s3:::sample-cdktf-s3","bucket":"sample-cdktf-s3","bucket_domain_name":"sample-cdktf-s3.s3.amazonaws.com","bucket_prefix":null,"bucket_regional_domain_name":"sample-cdktf-s3.s3.ap-northeast-1.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[],"hosted_zone_id":"Z2M4EHUR26P7ZW","id":"sample-cdktf-s3","lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":null,"region":"ap-northeast-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[],"tags":null,"versioning":[{"enabled":false,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null}},{"address":"aws_s3_bucket_object.notification-to-Slack-distzip","mode":"managed","type":"aws_s3_bucket_object","name":"notification-to-Slack-distzip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","bucket":"sample-cdktf-s3","cache_control":"","content":null,"content_base64":null,"content_disposition":"","content_encoding":"","content_language":"","content_type":"zip","etag":"4937147d8b730bb24484f81f57592f61","force_destroy":false,"id":"notification-to-Slack-dist.zip","key":"notification-to-Slack-dist.zip","kms_key_id":null,"metadata":null,"object_lock_legal_hold_status":"","object_lock_mode":"","object_lock_retain_until_date":"","server_side_encryption":"","source":"/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip","storage_class":"STANDARD","tags":null,"version_id":"","website_redirect":""},"depends_on":["aws_s3_bucket.sample-cdktf-s3"]},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:security-group/sg-039556800e9cab6e1","description":"Managed by Terraform","egress":[],"id":"sg-039556800e9cab6e1","ingress":[],"name":"sample-cdktf","name_prefix":null,"owner_id":"574185952087","revoke_rules_on_delete":false,"tags":{"Name":"sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"id":"sgrule-850402267","ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_group_id":"sg-039556800e9cab6e1","self":false,"source_security_group_id":null,"to_port":0,"type":"egress"},"depends_on":["aws_security_group.sample-cdktf-security-group"]},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":80,"id":"sgrule-71704278","ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_group_id":"sg-039556800e9cab6e1","self":false,"source_security_group_id":null,"to_port":80,"type":"ingress"},"depends_on":["aws_security_group.sample-cdktf-security-group"]},{"address":"aws_sns_topic.sample-cdktf-sns","mode":"managed","type":"aws_sns_topic","name":"sample-cdktf-sns","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"application_failure_feedback_role_arn":"","application_success_feedback_role_arn":"","application_success_feedback_sample_rate":null,"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","delivery_policy":"","display_name":"","http_failure_feedback_role_arn":"","http_success_feedback_role_arn":"","http_success_feedback_sample_rate":null,"id":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","kms_master_key_id":"","lambda_failure_feedback_role_arn":"","lambda_success_feedback_role_arn":"","lambda_success_feedback_sample_rate":null,"name":"sample-cdktf-sns","name_prefix":null,"policy":"{\"Version\":\"2008-10-17\",\"Id\":\"__default_policy_ID\",\"Statement\":[{\"Sid\":\"__default_statement_ID\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Action\":[\"SNS:GetTopicAttributes\",\"SNS:SetTopicAttributes\",\"SNS:AddPermission\",\"SNS:RemovePermission\",\"SNS:DeleteTopic\",\"SNS:Subscribe\",\"SNS:ListSubscriptionsByTopic\",\"SNS:Publish\"],\"Resource\":\"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns\",\"Condition\":{\"StringEquals\":{\"AWS:SourceOwner\":\"574185952087\"}}}]}","sqs_failure_feedback_role_arn":"","sqs_success_feedback_role_arn":"","sqs_success_feedback_sample_rate":null,"tags":null}},
[2022-11-16T09:31:58.005] [DEBUG] default - {"address":"aws_sns_topic_policy.sample-cdktf-sns-policy","mode":"managed","type":"aws_sns_topic_policy","name":"sample-cdktf-sns-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","id":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"events.amazonaws.com\"},\"Action\":\"SNS:Publish\",\"Resource\":\"*\"}]}"},"depends_on":["aws_sns_topic.sample-cdktf-sns"]},{"address":"aws_sns_topic_subscription.sample-cdktf-sns-subscription","mode":"managed","type":"aws_sns_topic_subscription","name":"sample-cdktf-sns-subscription","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:90455267-deda-459b-b1b1-7b3a9a9910c0","confirmation_timeout_in_minutes":1,"delivery_policy":"","endpoint":"arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack","endpoint_auto_confirms":false,"filter_policy":"","id":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:90455267-deda-459b-b1b1-7b3a9a9910c0","protocol":"lambda","raw_message_delivery":false,"topic_arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns"},"depends_on":["aws_iam_role.lambdaExecutionRole","aws_lambda_function.Sample-Lambda-Notification-to-Slack","aws_s3_bucket.sample-cdktf-s3","aws_s3_bucket_object.notification-to-Slack-distzip","aws_sns_topic.sample-cdktf-sns"]},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-00795dcdd623dc51c","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.128.0/20","id":"subnet-00795dcdd623dc51c","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Private1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-08a39339bdc1d9b62","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.144.0/20","id":"subnet-08a39339bdc1d9b62","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Private2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-068eb072c8fcf74cb","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.0.0/20","id":"subnet-068eb072c8fcf74cb","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0ddb3015e06d74ce8","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.16.0/20","id":"subnet-0ddb3015e06d74ce8","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-045b92b482ef76254","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-08b9670156912938d","default_route_table_id":"rtb-01926216c1dc207a6","default_security_group_id":"sg-01b60241c042b1663","dhcp_options_id":"dopt-03da244493f3f476d","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":true,"enable_dns_support":true,"id":"vpc-045b92b482ef76254","instance_tenancy":"default","ipv6_association_id":"","ipv6_cidr_block":"","main_route_table_id":"rtb-01926216c1dc207a6","owner_id":"574185952087","tags":{"Name":"sample-cdktf production"}}}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","version_constraint":"~\u003e 2.0","expressions":{"region":{"constant_value":"ap-northeast-1"}}}},"root_module":{"resources":[{"address":"aws_alb.sample-cdktf-alb","mode":"managed","type":"aws_alb","name":"sample-cdktf-alb","provider_config_key":"aws","expressions":{"enable_http2":{"constant_value":true},"internal":{"constant_value":false},"ip_address_type":{"constant_value":"ipv4"},"load_balancer_type":{"constant_value":"application"},"name":{"constant_value":"sample-cdktf-alb"},"security_groups":{"constant_value":["${aws_security_group.sample-cdktf-security-group.id}","${aws_vpc.sample-cdktf-vpc.default_security_group_id}"],"references":["aws_security_group.sample-cdktf-security-group","aws_vpc.sample-cdktf-vpc"]},"subnets":{"constant_value":["${aws_subnet.sample-cdktf-public-subnet1.id}","${aws_subnet.sample-cdktf-public-subnet2.id}"],"references":["aws_subnet.sample-cdktf-public-subnet1","aws_subnet.sample-cdktf-public-subnet2"]}},"schema_version":0},{"address":"aws_alb_listener.sample-cdktf-alb-listener","mode":"managed","type":"aws_alb_listener","name":"sample-cdktf-alb-listener","provider_config_key":"aws","expressions":{"default_action":[{"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]},"type":{"constant_value":"forward"}}],"load_balancer_arn":{"constant_value":"${aws_alb.sample-cdktf-alb.arn}","references":["aws_alb.sample-cdktf-alb"]},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"}},"schema_version":0},{"address":"aws_alb_listener_rule.sample-cdktf-alb-listener-rule","mode":"managed","type":"aws_alb_listener_rule","name":"sample-cdktf-alb-listener-rule","provider_config_key":"aws","expressions":{"action":[{"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]},"type":{"constant_value":"forward"}}],"condition":[{"field":{"constant_value":"path-pattern"},"values":{"constant_value":["*"]}}],"listener_arn":{"constant_value":"${aws_alb_listener.sample-cdktf-alb-listener.arn}","references":["aws_alb_listener.sample-cdktf-alb-listener"]},"priority":{"constant_value":100}},"schema_version":0},{"address":"aws_alb_target_group.sample-cdktf-alb-target-group","mode":"managed","type":"aws_alb_target_group","name":"sample-cdktf-alb-target-group","provider_config_key":"aws","expressions":{"health_check":[{"interval":{"constant_value":30},"path":{"constant_value":"/"},"port":{"constant_value":"traffic-port"},"protocol":{"constant_value":"HTTP"},"timeout":{"constant_value":5},"unhealthy_threshold":{"constant_value":2}}],"name":{"constant_value":"sample-cdktf-alb-target-gr
[2022-11-16T09:31:58.005] [DEBUG] default - oup"},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"},"target_type":{"constant_value":"ip"},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_cloudwatch_event_rule.sample-cdktf-event-rule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"sample-cdktf-event-rule","provider_config_key":"aws","expressions":{"description":{"constant_value":"Capture each AWS ECR Update"},"event_pattern":{"constant_value":"{\n        \"source\": [\"aws.ecr\"],\n        \"detail-type\": [\"ECR Image Action\"],\n        \"detail\": {\n          \"action-type\": [\"PUSH\"],\n          \"result\": [\"SUCCESS\"]\n        }\n      }"},"name":{"constant_value":"capture-ecr-update"}},"schema_version":0},{"address":"aws_cloudwatch_event_target.sample-cdktf-event-target","mode":"managed","type":"aws_cloudwatch_event_target","name":"sample-cdktf-event-target","provider_config_key":"aws","expressions":{"arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"rule":{"constant_value":"${aws_cloudwatch_event_rule.sample-cdktf-event-rule.name}","references":["aws_cloudwatch_event_rule.sample-cdktf-event-rule"]},"target_id":{"constant_value":"SendToSNS"}},"schema_version":0},{"address":"aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-notification-to-slack-log-group","provider_config_key":"aws","expressions":{"name":{"constant_value":"/aws/lambda/${aws_lambda_function.Sample-Lambda-Notification-to-Slack.function_name}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]}},"schema_version":0},{"address":"aws_ecr_repository.sample-cdktf-repository","mode":"managed","type":"aws_ecr_repository","name":"sample-cdktf-repository","provider_config_key":"aws","expressions":{"name":{"constant_value":"project/sample-cdktf"}},"schema_version":0},{"address":"aws_ecs_cluster.sample-cdktf-cluster","mode":"managed","type":"aws_ecs_cluster","name":"sample-cdktf-cluster","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf-cluster"}},"schema_version":0},{"address":"aws_ecs_service.sample-cdktf-ecs-service","mode":"managed","type":"aws_ecs_service","name":"sample-cdktf-ecs-service","provider_config_key":"aws","expressions":{"cluster":{"constant_value":"${aws_ecs_cluster.sample-cdktf-cluster.id}","references":["aws_ecs_cluster.sample-cdktf-cluster"]},"deployment_maximum_percent":{"constant_value":200},"deployment_minimum_healthy_percent":{"constant_value":100},"desired_count":{"constant_value":1},"launch_type":{"constant_value":"FARGATE"},"load_balancer":[{"container_name":{"constant_value":"sample-cdktf-container"},"container_port":{"constant_value":9000},"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]}}],"name":{"constant_value":"sample-cdktf-ecs-service"},"network_configuration":[{"security_groups":{"constant_value":["${aws_vpc.sample-cdktf-vpc.default_security_group_id}"],"references":["aws_vpc.sample-cdktf-vpc"]},"subnets":{"constant_value":["${aws_subnet.sample-cdktf-private-subnet1.id}"],"references":["aws_subnet.sample-cdktf-private-subnet1"]}}],"platform_version":{"constant_value":"LATEST"},"task_definition":{"constant_value":"${aws_ecs_task_definition.sample-cdktf-task.id}","references":["aws_ecs_task_definition.sample-cdktf-task"]}},"schema_version":0},{"address":"aws_ecs_task_definition.sample-cdktf-task","mode":"managed","type":"aws_ecs_task_definition","name":"sample-cdktf-task","provider_config_key":"aws","expressions":{"container_definitions":{"constant_value":"[\n      {\n        \"essential\":    true,\n        \"name\":         \"sample-cdktf-container\",\n        \"image\":        \"${aws_ecr_repository.sample-cdktf-repository.repository_url}:latest\",\n        \"portMappings\": [\n          {\n            \"hostPort\":      9000,\n            \"protocol\":      \"tcp\",\n            \"containerPort\": 9000\n          }\n        ],\n        \"logConfiguration\": {\n          \"logDriver\": \"awslogs\",\n          \"options\": {\n            \"awslogs-group\":         \"/aws/ecs/sample-cdktf-task\",\n            \"awslogs-stream-prefix\": \"ecs\",\n            \"awslogs-region\":        \"ap-northeast-1\"\n          }\n        }\n      }\n    ]","references":["aws_ecr_repository.sample-cdktf-repository"]},"cpu":{"constant_value":"512"},"execution_role_arn":{"constant_value":"${aws_iam_role.ecsTaskExecutionRole.arn}","references":["aws_iam_role.ecsTaskExecutionRole"]},"family":{"constant_value":"task-for-cdktf"},"memory":{"constant_value":"1024"},"network_mode":{"constant_value":"awsvpc"},"requires_compatibilities":{"constant_value":["FARGATE"]},"task_role_arn":{"constant_value":"${aws_iam_role.ecsTaskRole.arn}","references":["aws_iam_role.ecsTaskRole"]}},"schema_version":1},{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_config_key":"aws","expressions":{"vpc":{"constant_value":true}},"schema_version":0},{"address":"aws_iam_policy.ecs-task-execution-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-execution-policy","provider_config_key":"aws","expressions":{"description":{"constant_value":"Policy for updating ECS tasks"},"name":{"constant_value":"ecs-task-execution-policy"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_policy.ecs-task-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-policy","provider_config_key":"aws","expressions":{"description":{"constant_value":"Policy for updating ECS tasks"},"name":{"constant_value":"ecs-task-policy"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecs:DescribeServices\",\n              \"ecs:CreateTaskSet\",\n              \"ecs:UpdateServicePrimaryTaskSet\",\n              \"ecs:DeleteTaskSet\",\n              \"elasticloadbalancing:DescribeTargetGroups\",\n              \"elasticloadbalancing:DescribeListeners\",\n              \"elasticloadbalancing:ModifyListener\",\n              \"elasticloadbalancing:DescribeRules\",\n              \"elasticloadbalancing:ModifyRule\",\n              \"lambda:InvokeFunction\",\n              \"cloudwatch:DescribeAlarms\",\n              \"sns:Publish\",\n              \"s3:GetObject\",\n              \"s3:GetObjectVersion\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_policy.lambda-logging","mode":"managed","type":"aws_iam_policy","name":"lambda-logging","provider_config_key":"aws","expressions":{"description":{"constant_value":"IAM policy for logging from a lambda"},"name":{"constant_value":"sample-cdktf-lambda-logging"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"iam:PassRole\",\n              \"ecs:RegisterTaskDefinition\",\n              \"ecs:UpdateService\",\n              \"logs:CreateLogGroup\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\",\n              \"arn:aws:logs:*:*:*\",\n              \"arn:aws:ecs:*:*:*\",\n              \"arn:aws:iam::445682127642:role/sample-cdktf-ecsTaskEx
[2022-11-16T09:31:58.005] [DEBUG] default - ecutionRole\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_role.ecsTaskExecutionRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskExecutionRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\":    \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-ecsTaskExecutionRole"}},"schema_version":0},{"address":"aws_iam_role.ecsTaskRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\": \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n          },\n          \"Effect\": \"Allow\",\n          \"Sid\": \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-ecsTaskRole"}},"schema_version":0},{"address":"aws_iam_role.lambdaExecutionRole","mode":"managed","type":"aws_iam_role","name":"lambdaExecutionRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": [\n                \"lambda.amazonaws.com\",\n                \"ecs-tasks.amazonaws.com\"\n              ]\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-lambdaExecutionRole"}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-execution-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-execution-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.ecs-task-execution-policy.arn}","references":["aws_iam_policy.ecs-task-execution-policy"]},"role":{"constant_value":"${aws_iam_role.ecsTaskExecutionRole.name}","references":["aws_iam_role.ecsTaskExecutionRole"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.ecs-task-policy.arn}","references":["aws_iam_policy.ecs-task-policy"]},"role":{"constant_value":"${aws_iam_role.ecsTaskRole.name}","references":["aws_iam_role.ecsTaskRole"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-lambda-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-lambda-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.lambda-logging.arn}","references":["aws_iam_policy.lambda-logging"]},"role":{"constant_value":"${aws_iam_role.lambdaExecutionRole.name}","references":["aws_iam_role.lambdaExecutionRole"]}},"schema_version":0},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_config_key":"aws","expressions":{"tags":{"constant_value":{"Name":"igw-production sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_lambda_function.Sample-Lambda-Notification-to-Slack","mode":"managed","type":"aws_lambda_function","name":"Sample-Lambda-Notification-to-Slack","provider_config_key":"aws","expressions":{"environment":[{"variables":{"constant_value":{"SLACK_API_TOKEN":"xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp","SLACK_CHANNEL":"C049CPNKHMJ"}}}],"function_name":{"constant_value":"Sample-Lambda-Notification-to-Slack"},"handler":{"constant_value":"index.handler"},"role":{"constant_value":"${aws_iam_role.lambdaExecutionRole.arn}","references":["aws_iam_role.lambdaExecutionRole"]},"runtime":{"constant_value":"nodejs12.x"},"s3_bucket":{"constant_value":"${aws_s3_bucket.sample-cdktf-s3.bucket}","references":["aws_s3_bucket.sample-cdktf-s3"]},"s3_key":{"constant_value":"${aws_s3_bucket_object.notification-to-Slack-distzip.key}","references":["aws_s3_bucket_object.notification-to-Slack-distzip"]},"timeout":{"constant_value":30}},"schema_version":0},{"address":"aws_lambda_permission.permission-to-sns","mode":"managed","type":"aws_lambda_permission","name":"permission-to-sns","provider_config_key":"aws","expressions":{"action":{"constant_value":"lambda:InvokeFunction"},"function_name":{"constant_value":"${aws_lambda_function.Sample-Lambda-Notification-to-Slack.function_name}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]},"principal":{"constant_value":"sns.amazonaws.com"},"source_arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"statement_id":{"constant_value":"AllowExecutionFromSNS"}},"schema_version":0},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_config_key":"aws","expressions":{"allocation_id":{"constant_value":"${aws_eip.sample-cdktf-eip.id}","references":["aws_eip.sample-cdktf-eip"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]},"tags":{"constant_value":{"Name":"sample-cdktf nat-gateway-production"}}},"schema_version":0},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_config_key":"aws","expressions":{"route":{"constant_value":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"${aws_nat_gateway.sample-cdktf-nat-gateway.id}","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"references":["aws_nat_gateway.sample-cdktf-nat-gateway"]},"tags":{"constant_value":{"Name":"sample-cdktf Private rtb"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_config_key":"aws","expressions":{"route":{"constant_value":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"${aws_internet_gateway.sample-cdktf-igw-production.id}","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"references":["aws_internet_gateway.sample-cdktf-igw-production"]},"tags":{"constant_value":{"Name":"sample-cdktf Public rtb"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-private-rtb.id}","references":["aws_route_table.sample-cdktf-private-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-private-subnet1.id}","references":["aws_subnet.sample-cdktf-private-subnet1"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-private-rtb.id}","references":["aws_route_table.sample-c
[2022-11-16T09:31:58.005] [DEBUG] default - dktf-private-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-private-subnet2.id}","references":["aws_subnet.sample-cdktf-private-subnet2"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet2.id}","references":["aws_subnet.sample-cdktf-public-subnet2"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]}},"schema_version":0},{"address":"aws_s3_bucket.sample-cdktf-s3","mode":"managed","type":"aws_s3_bucket","name":"sample-cdktf-s3","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"sample-cdktf-s3"},"region":{"constant_value":"ap-northeast-1"}},"schema_version":0},{"address":"aws_s3_bucket_object.notification-to-Slack-distzip","mode":"managed","type":"aws_s3_bucket_object","name":"notification-to-Slack-distzip","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"${aws_s3_bucket.sample-cdktf-s3.bucket}","references":["aws_s3_bucket.sample-cdktf-s3"]},"content_type":{"constant_value":"zip"},"key":{"constant_value":"notification-to-Slack-dist.zip"},"source":{"constant_value":"/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip"}},"schema_version":0},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf"},"tags":{"constant_value":{"Name":"sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":0},"protocol":{"constant_value":"all"},"security_group_id":{"constant_value":"${aws_security_group.sample-cdktf-security-group.id}","references":["aws_security_group.sample-cdktf-security-group"]},"to_port":{"constant_value":0},"type":{"constant_value":"egress"}},"schema_version":2},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":80},"protocol":{"constant_value":"tcp"},"security_group_id":{"constant_value":"${aws_security_group.sample-cdktf-security-group.id}","references":["aws_security_group.sample-cdktf-security-group"]},"to_port":{"constant_value":80},"type":{"constant_value":"ingress"}},"schema_version":2},{"address":"aws_sns_topic.sample-cdktf-sns","mode":"managed","type":"aws_sns_topic","name":"sample-cdktf-sns","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf-sns"}},"schema_version":0},{"address":"aws_sns_topic_policy.sample-cdktf-sns-policy","mode":"managed","type":"aws_sns_topic_policy","name":"sample-cdktf-sns-policy","provider_config_key":"aws","expressions":{"arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": {\n          \"Effect\": \"Allow\",\n          \"Sid\":    \"\",\n          \"Principal\": {\n            \"Service\": \"events.amazonaws.com\"\n          },\n          \"Action\": [\n            \"SNS:Publish\"\n          ],\n          \"Resource\": [\n            \"*\"\n          ]\n        }\n      }"}},"schema_version":0},{"address":"aws_sns_topic_subscription.sample-cdktf-sns-subscription","mode":"managed","type":"aws_sns_topic_subscription","name":"sample-cdktf-sns-subscription","provider_config_key":"aws","expressions":{"endpoint":{"constant_value":"${aws_lambda_function.Sample-Lambda-Notification-to-Slack.arn}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]},"protocol":{"constant_value":"lambda"},"topic_arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]}},"schema_version":0},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1a"},"cidr_block":{"constant_value":"10.0.128.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Private1 AZ1a sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1c"},"cidr_block":{"constant_value":"10.0.144.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Private2 AZ1c sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1a"},"cidr_block":{"constant_value":"10.0.0.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Public1 AZ1a sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1c"},"cidr_block":{"constant_value":"10.0.16.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Public2 AZ1c sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_config_key":"aws","expressions":{"cidr_block":{"constant_value":"10.0.0.0/16"},"enable_dns_hostnames":{"constant_value":true},"tags":{"constant_value":{"Name":"sample-cdktf production"}}},"schema_version":1}]}}}

[2022-11-16T09:32:06.627] [DEBUG] default - [0m[1maws_lambda_permission.permission-to-sns: Destroying... [id=AllowExecutionFromSNS][0m[0m

[2022-11-16T09:32:06.656] [DEBUG] default - [0m[1maws_iam_role_policy_attachment.attach-ecs-task-execution-policy: Destroying... [id=sample-cdktf-ecsTaskExecutionRole-20221116002516706900000003][0m[0m
[0m[1maws_security_group_rule.sample-cdktf-security-ingress: Destroying... [id=sgrule-71704278][0m[0m
[0m[1maws_route_table_association.sample-cdktf-private-rtb-association1: Destroying... [id=rtbassoc-0921c4bbba318e1b5][0m[0m
[0m[1maws_route_table_association.sample-cdktf-public-rtb-association1: Destroying... [id=rtbassoc-083efa1b3a99fc6b7][0m[0m
[0m[1maws_sns_topic_policy.sample-cdktf-sns-policy: Destroying... [id=arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns][0m[0m
[0m[1maws_iam_role_policy_attachment.attach-lambda-policy: Destroying... [id=sample-cdktf-lambdaExecutionRole-20221116002516376300000001][0m[0m
[0m[1maws_ecs_cluster.sample-cdktf-cluster: Destroying... [id=arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster][0m[0m
[0m[1maws_ecs_task_definition.sample-cdktf-task: Destroying... [id=task-for-cdktf][0m[0m
[0m[1maws_cloudwatch_event_target.sample-cdktf-event-target: Destroying... [id=capture-ecr-update-SendToSNS][0m[0m

[2022-11-16T09:32:06.795] [DEBUG] default - [0m[1maws_sns_topic_policy.sample-cdktf-sns-policy: Destruction complete after 0s[0m[0m

[2022-11-16T09:32:06.825] [DEBUG] default - [0m[1maws_sns_topic_subscription.sample-cdktf-sns-subscription: Destroying... [id=arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:90455267-deda-459b-b1b1-7b3a9a9910c0][0m[0m

[2022-11-16T09:32:06.920] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-public-rtb-association1: Destruction complete after 0s[0m[0m

[2022-11-16T09:32:06.971] [DEBUG] default - [0m[1maws_cloudwatch_event_target.sample-cdktf-event-target: Destruction complete after 0s[0m[0m
[0m[1maws_route_table_association.sample-cdktf-private-rtb-association1: Destruction complete after 0s[0m[0m
[0m[1maws_route_table_association.sample-cdktf-public-rtb-association2: Destroying... [id=rtbassoc-0bfccc5bb33f7bc84][0m[0m

[2022-11-16T09:32:06.994] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-private-rtb-association2: Destroying... [id=rtbassoc-0454d26f9d77a06d5][0m[0m
[0m[1maws_alb_target_group.sample-cdktf-alb-target-group: Destroying... [id=arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/807c538d9534886d][0m[0m

[2022-11-16T09:32:07.018] [DEBUG] default - [0m[1maws_ecs_task_definition.sample-cdktf-task: Destruction complete after 0s[0m[0m

[2022-11-16T09:32:07.065] [DEBUG] default - [0m[1maws_iam_role_policy_attachment.attach-ecs-task-policy: Destroying... [id=sample-cdktf-ecsTaskRole-20221116002516519600000002][0m[0m

[2022-11-16T09:32:07.089] [DEBUG] default - [0m[1maws_lambda_permission.permission-to-sns: Destruction complete after 0s[0m[0m

[2022-11-16T09:32:07.111] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-public-rtb1: Destroying... [id=rtbassoc-083efa1b3a99fc6b7][0m[0m

[2022-11-16T09:32:07.157] [DEBUG] default - [0m[1maws_sns_topic_subscription.sample-cdktf-sns-subscription: Destruction complete after 0s[0m[0m
[0m[1maws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group: Destroying... [id=/aws/lambda/Sample-Lambda-Notification-to-Slack][0m[0m

[2022-11-16T09:32:07.180] [DEBUG] default - [0m[1maws_alb_target_group.sample-cdktf-alb-target-group: Destruction complete after 0s[0m[0m

[2022-11-16T09:32:07.202] [DEBUG] default - [0m[1maws_security_group_rule.sample-cdktf-security-egress: Destroying... [id=sgrule-850402267][0m[0m

[2022-11-16T09:32:07.270] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-private-rtb-association2: Destruction complete after 0s[0m[0m

[2022-11-16T09:32:07.293] [DEBUG] default - [0m[1maws_cloudwatch_event_rule.sample-cdktf-event-rule: Destroying... [id=capture-ecr-update][0m[0m

[2022-11-16T09:32:07.341] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-public-rtb1: Destruction complete after 0s[0m[0m
[0m[1maws_route_table_association.sample-cdktf-public-rtb-association2: Destruction complete after 0s[0m[0m
[0m[1maws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group: Destruction complete after 0s[0m[0m

[2022-11-16T09:32:07.363] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-private-subnet1: Destroying... [id=subnet-00795dcdd623dc51c][0m[0m

[2022-11-16T09:32:07.384] [DEBUG] default - [0m[1maws_ecs_cluster.sample-cdktf-cluster: Destruction complete after 0s[0m[0m
[0m[1maws_ecr_repository.sample-cdktf-repository: Destroying... [id=project/sample-cdktf][0m[0m
[0m[1maws_security_group_rule.sample-cdktf-security-ingress: Destruction complete after 0s[0m[0m
[0m[1maws_sns_topic.sample-cdktf-sns: Destroying... [id=arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns][0m[0m

[2022-11-16T09:32:07.430] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-private-subnet2: Destroying... [id=subnet-08a39339bdc1d9b62][0m[0m
[0m[1maws_route_table.sample-cdktf-private-rtb: Destroying... [id=rtb-0442ce144946a12ac][0m[0m

[2022-11-16T09:32:07.452] [DEBUG] default - [0m[1maws_iam_role_policy_attachment.attach-lambda-policy: Destruction complete after 0s[0m[0m

[2022-11-16T09:32:07.474] [DEBUG] default - [0m[1maws_iam_role_policy_attachment.attach-ecs-task-execution-policy: Destruction complete after 0s[0m[0m

[2022-11-16T09:32:07.518] [DEBUG] default - [0m[1maws_route_table.sample-cdktf-public-rtb: Destroying... [id=rtb-0f0e7d1030896858f][0m[0m
[0m[1maws_subnet.sample-cdktf-public-subnet2: Destroying... [id=subnet-0ddb3015e06d74ce8][0m[0m

[2022-11-16T09:32:07.568] [DEBUG] default - [0m[1maws_cloudwatch_event_rule.sample-cdktf-event-rule: Destruction complete after 1s[0m[0m

[2022-11-16T09:32:07.613] [DEBUG] default - [0m[1maws_lambda_function.Sample-Lambda-Notification-to-Slack: Destroying... [id=Sample-Lambda-Notification-to-Slack][0m[0m
[0m[1maws_sns_topic.sample-cdktf-sns: Destruction complete after 1s[0m[0m

[2022-11-16T09:32:07.636] [DEBUG] default - [0m[1maws_iam_policy.lambda-logging: Destroying... [id=arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging][0m[0m

[2022-11-16T09:32:07.728] [DEBUG] default - [0m[1maws_ecr_repository.sample-cdktf-repository: Destruction complete after 1s[0m[0m

[2022-11-16T09:32:07.776] [DEBUG] default - [0m[1maws_iam_policy.ecs-task-execution-policy: Destroying... [id=arn:aws:iam::574185952087:policy/ecs-task-execution-policy][0m[0m

[2022-11-16T09:32:07.811] [DEBUG] default - [0m[1maws_iam_role_policy_attachment.attach-ecs-task-policy: Destruction complete after 1s[0m[0m

[2022-11-16T09:32:07.858] [DEBUG] default - [0m[1maws_iam_role.ecsTaskExecutionRole: Destroying... [id=sample-cdktf-ecsTaskExecutionRole][0m[0m

[2022-11-16T09:32:07.884] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-private-subnet1: Destruction complete after 1s[0m[0m

[2022-11-16T09:32:07.907] [DEBUG] default - [0m[1maws_lambda_function.Sample-Lambda-Notification-to-Slack: Destruction complete after 0s[0m[0m

[2022-11-16T09:32:07.958] [DEBUG] default - [0m[1maws_iam_policy.ecs-task-policy: Destroying... [id=arn:aws:iam::574185952087:policy/ecs-task-policy][0m[0m
[0m[1maws_iam_role.ecsTaskRole: Destroying... [id=sample-cdktf-ecsTaskRole][0m[0m
[0m[1maws_subnet.sample-cdktf-private-subnet2: Destruction complete after 1s[0m[0m

[2022-11-16T09:32:08.007] [DEBUG] default - [0m[1maws_s3_bucket_object.notification-to-Slack-distzip: Destroying... [id=notification-to-Slack-dist.zip][0m[0m

[2022-11-16T09:32:08.059] [DEBUG] default - [0m[1maws_route_table.sample-cdktf-private-rtb: Destruction complete after 1s[0m[0m
[0m[1maws_iam_role.lambdaExecutionRole: Destroying... [id=sample-cdktf-lambdaExecutionRole][0m[0m

[2022-11-16T09:32:08.132] [DEBUG] default - [0m[1maws_s3_bucket_object.notification-to-Slack-distzip: Destruction complete after 0s[0m[0m

[2022-11-16T09:32:08.181] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Destroying... [id=nat-05c42cb06acc4ed39][0m[0m
[0m[1maws_route_table.sample-cdktf-public-rtb: Destruction complete after 1s[0m[0m
[0m[1maws_s3_bucket.sample-cdktf-s3: Destroying... [id=sample-cdktf-s3][0m[0m

[2022-11-16T09:32:08.322] [DEBUG] default - [0m[1maws_security_group_rule.sample-cdktf-security-egress: Destruction complete after 1s[0m[0m
[0m[1maws_internet_gateway.sample-cdktf-igw-production: Destroying... [id=igw-0cc1f41a6e7a3ffd6][0m[0m

[2022-11-16T09:32:08.655] [DEBUG] default - [0m[1maws_s3_bucket.sample-cdktf-s3: Destruction complete after 1s[0m[0m

[2022-11-16T09:32:08.725] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Destroying... [id=sg-039556800e9cab6e1][0m[0m

[2022-11-16T09:32:09.291] [DEBUG] default - [0m[1maws_iam_policy.lambda-logging: Destruction complete after 1s[0m[0m

[2022-11-16T09:32:09.400] [DEBUG] default - [0m[1maws_iam_policy.ecs-task-execution-policy: Destruction complete after 1s[0m[0m

[2022-11-16T09:32:09.464] [DEBUG] default - [0m[1maws_iam_role.ecsTaskExecutionRole: Destruction complete after 1s[0m[0m

[2022-11-16T09:32:09.532] [DEBUG] default - [0m[1maws_iam_role.ecsTaskRole: Destruction complete after 2s[0m[0m

[2022-11-16T09:32:09.560] [DEBUG] default - [0m[1maws_iam_policy.ecs-task-policy: Destruction complete after 2s[0m[0m

[2022-11-16T09:32:09.605] [DEBUG] default - [0m[1maws_iam_role.lambdaExecutionRole: Destruction complete after 2s[0m[0m

[2022-11-16T09:32:17.508] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 10s elapsed][0m[0m

[2022-11-16T09:32:18.154] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still destroying... [id=nat-05c42cb06acc4ed39, 10s elapsed][0m[0m

[2022-11-16T09:32:18.322] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 10s elapsed][0m[0m

[2022-11-16T09:32:18.668] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 10s elapsed][0m[0m

[2022-11-16T09:32:27.506] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 20s elapsed][0m[0m

[2022-11-16T09:32:28.149] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still destroying... [id=nat-05c42cb06acc4ed39, 20s elapsed][0m[0m

[2022-11-16T09:32:28.322] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 20s elapsed][0m[0m

[2022-11-16T09:32:28.668] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 20s elapsed][0m[0m

[2022-11-16T09:32:37.518] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 30s elapsed][0m[0m

[2022-11-16T09:32:38.163] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still destroying... [id=nat-05c42cb06acc4ed39, 30s elapsed][0m[0m

[2022-11-16T09:32:38.323] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 30s elapsed][0m[0m

[2022-11-16T09:32:38.670] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 30s elapsed][0m[0m

[2022-11-16T09:32:47.495] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 40s elapsed][0m[0m

[2022-11-16T09:32:48.148] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still destroying... [id=nat-05c42cb06acc4ed39, 40s elapsed][0m[0m

[2022-11-16T09:32:48.325] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 40s elapsed][0m[0m

[2022-11-16T09:32:48.671] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 40s elapsed][0m[0m

[2022-11-16T09:32:57.496] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 50s elapsed][0m[0m

[2022-11-16T09:32:58.149] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still destroying... [id=nat-05c42cb06acc4ed39, 50s elapsed][0m[0m

[2022-11-16T09:32:58.326] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 50s elapsed][0m[0m

[2022-11-16T09:32:58.698] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 50s elapsed][0m[0m

[2022-11-16T09:32:59.342] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Destruction complete after 51s[0m[0m
[0m[1maws_eip.sample-cdktf-eip: Destroying... [id=eipalloc-0951e03c6ea14ea35][0m[0m
[0m[1maws_subnet.sample-cdktf-public-subnet1: Destroying... [id=subnet-068eb072c8fcf74cb][0m[0m

[2022-11-16T09:33:00.069] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Destruction complete after 1s[0m[0m

[2022-11-16T09:33:00.332] [DEBUG] default - [0m[1maws_eip.sample-cdktf-eip: Destruction complete after 1s[0m[0m

[2022-11-16T09:33:07.497] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 1m0s elapsed][0m[0m

[2022-11-16T09:33:08.326] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 1m0s elapsed][0m[0m

[2022-11-16T09:33:08.699] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 1m0s elapsed][0m[0m

[2022-11-16T09:33:17.498] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 1m10s elapsed][0m[0m

[2022-11-16T09:33:18.327] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 1m10s elapsed][0m[0m

[2022-11-16T09:33:18.699] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 1m10s elapsed][0m[0m

[2022-11-16T09:33:27.498] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 1m20s elapsed][0m[0m

[2022-11-16T09:33:28.329] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 1m20s elapsed][0m[0m

[2022-11-16T09:33:28.675] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 1m20s elapsed][0m[0m

[2022-11-16T09:33:37.518] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 1m30s elapsed][0m[0m

[2022-11-16T09:33:38.329] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 1m30s elapsed][0m[0m

[2022-11-16T09:33:38.675] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 1m30s elapsed][0m[0m

[2022-11-16T09:33:47.520] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 1m40s elapsed][0m[0m

[2022-11-16T09:33:48.329] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 1m40s elapsed][0m[0m

[2022-11-16T09:33:48.675] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 1m40s elapsed][0m[0m

[2022-11-16T09:33:57.527] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 1m51s elapsed][0m[0m

[2022-11-16T09:33:58.337] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 1m50s elapsed][0m[0m

[2022-11-16T09:33:58.676] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 1m50s elapsed][0m[0m

[2022-11-16T09:34:07.501] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 2m1s elapsed][0m[0m

[2022-11-16T09:34:08.358] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 2m0s elapsed][0m[0m

[2022-11-16T09:34:08.676] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 2m0s elapsed][0m[0m

[2022-11-16T09:34:17.529] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 2m11s elapsed][0m[0m

[2022-11-16T09:34:18.334] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 2m10s elapsed][0m[0m

[2022-11-16T09:34:18.676] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 2m10s elapsed][0m[0m

[2022-11-16T09:34:27.503] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 2m21s elapsed][0m[0m

[2022-11-16T09:34:28.361] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 2m20s elapsed][0m[0m

[2022-11-16T09:34:28.683] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 2m20s elapsed][0m[0m

[2022-11-16T09:34:37.521] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 2m31s elapsed][0m[0m

[2022-11-16T09:34:38.336] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 2m30s elapsed][0m[0m

[2022-11-16T09:34:38.679] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 2m30s elapsed][0m[0m

[2022-11-16T09:34:47.506] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 2m41s elapsed][0m[0m

[2022-11-16T09:34:48.361] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 2m40s elapsed][0m[0m

[2022-11-16T09:34:48.680] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 2m40s elapsed][0m[0m

[2022-11-16T09:34:57.506] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 2m51s elapsed][0m[0m

[2022-11-16T09:34:58.365] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 2m50s elapsed][0m[0m

[2022-11-16T09:34:58.689] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 2m50s elapsed][0m[0m

[2022-11-16T09:35:07.507] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 3m1s elapsed][0m[0m

[2022-11-16T09:35:08.339] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 3m0s elapsed][0m[0m

[2022-11-16T09:35:08.680] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 3m0s elapsed][0m[0m

[2022-11-16T09:35:17.527] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 3m11s elapsed][0m[0m

[2022-11-16T09:35:18.340] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 3m10s elapsed][0m[0m

[2022-11-16T09:35:18.681] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 3m10s elapsed][0m[0m

[2022-11-16T09:35:27.509] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 3m21s elapsed][0m[0m

[2022-11-16T09:35:28.365] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 3m20s elapsed][0m[0m

[2022-11-16T09:35:28.690] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 3m20s elapsed][0m[0m

[2022-11-16T09:35:37.509] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 3m31s elapsed][0m[0m

[2022-11-16T09:35:38.341] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 3m30s elapsed][0m[0m

[2022-11-16T09:35:38.682] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 3m30s elapsed][0m[0m

[2022-11-16T09:35:47.510] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 3m41s elapsed][0m[0m

[2022-11-16T09:35:48.343] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 3m40s elapsed][0m[0m

[2022-11-16T09:35:48.684] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 3m40s elapsed][0m[0m

[2022-11-16T09:35:57.510] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 3m51s elapsed][0m[0m

[2022-11-16T09:35:58.366] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 3m50s elapsed][0m[0m

[2022-11-16T09:35:58.689] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 3m50s elapsed][0m[0m

[2022-11-16T09:36:07.511] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 4m1s elapsed][0m[0m

[2022-11-16T09:36:08.345] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 4m0s elapsed][0m[0m

[2022-11-16T09:36:08.687] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 4m0s elapsed][0m[0m

[2022-11-16T09:36:17.537] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 4m11s elapsed][0m[0m

[2022-11-16T09:36:18.345] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 4m10s elapsed][0m[0m

[2022-11-16T09:36:18.688] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 4m10s elapsed][0m[0m

[2022-11-16T09:36:27.511] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 4m21s elapsed][0m[0m

[2022-11-16T09:36:28.370] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 4m20s elapsed][0m[0m

[2022-11-16T09:36:28.692] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 4m20s elapsed][0m[0m

[2022-11-16T09:36:37.512] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 4m31s elapsed][0m[0m

[2022-11-16T09:36:38.347] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 4m30s elapsed][0m[0m

[2022-11-16T09:36:38.691] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 4m30s elapsed][0m[0m

[2022-11-16T09:36:47.513] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 4m41s elapsed][0m[0m

[2022-11-16T09:36:48.371] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 4m40s elapsed][0m[0m

[2022-11-16T09:36:48.692] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 4m40s elapsed][0m[0m

[2022-11-16T09:36:57.513] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 4m51s elapsed][0m[0m

[2022-11-16T09:36:58.349] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 4m50s elapsed][0m[0m

[2022-11-16T09:36:58.692] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 4m50s elapsed][0m[0m

[2022-11-16T09:37:07.534] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 5m1s elapsed][0m[0m

[2022-11-16T09:37:08.350] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 5m0s elapsed][0m[0m

[2022-11-16T09:37:08.693] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 5m0s elapsed][0m[0m

[2022-11-16T09:37:17.516] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 5m11s elapsed][0m[0m

[2022-11-16T09:37:18.371] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 5m10s elapsed][0m[0m

[2022-11-16T09:37:18.693] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 5m10s elapsed][0m[0m

[2022-11-16T09:37:27.517] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 5m21s elapsed][0m[0m

[2022-11-16T09:37:28.353] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 5m20s elapsed][0m[0m

[2022-11-16T09:37:28.709] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 5m20s elapsed][0m[0m

[2022-11-16T09:37:37.519] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 5m31s elapsed][0m[0m

[2022-11-16T09:37:38.377] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 5m30s elapsed][0m[0m

[2022-11-16T09:37:38.701] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 5m30s elapsed][0m[0m

[2022-11-16T09:37:47.520] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 5m41s elapsed][0m[0m

[2022-11-16T09:37:48.355] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 5m40s elapsed][0m[0m

[2022-11-16T09:37:48.696] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 5m40s elapsed][0m[0m

[2022-11-16T09:37:57.547] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 5m51s elapsed][0m[0m

[2022-11-16T09:37:58.355] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 5m50s elapsed][0m[0m

[2022-11-16T09:37:58.697] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 5m50s elapsed][0m[0m

[2022-11-16T09:38:07.522] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 6m1s elapsed][0m[0m

[2022-11-16T09:38:08.375] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 6m0s elapsed][0m[0m

[2022-11-16T09:38:08.698] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 6m0s elapsed][0m[0m

[2022-11-16T09:38:17.523] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 6m11s elapsed][0m[0m

[2022-11-16T09:38:18.357] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 6m10s elapsed][0m[0m

[2022-11-16T09:38:18.698] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 6m10s elapsed][0m[0m

[2022-11-16T09:38:27.548] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 6m21s elapsed][0m[0m

[2022-11-16T09:38:28.357] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 6m20s elapsed][0m[0m

[2022-11-16T09:38:28.700] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 6m20s elapsed][0m[0m

[2022-11-16T09:38:37.543] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 6m31s elapsed][0m[0m

[2022-11-16T09:38:38.357] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 6m30s elapsed][0m[0m

[2022-11-16T09:38:38.701] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 6m30s elapsed][0m[0m

[2022-11-16T09:38:47.533] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 6m41s elapsed][0m[0m

[2022-11-16T09:38:48.359] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 6m40s elapsed][0m[0m

[2022-11-16T09:38:48.702] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 6m40s elapsed][0m[0m

[2022-11-16T09:38:50.774] [DEBUG] default - Interrupt received.
Please wait for Terraform to exit or data loss may occur.
Gracefully shutting down...
Stopping operation...

[2022-11-16T09:48:32.189] [DEBUG] default - Terraform v0.14.8


[2022-11-16T09:48:32.221] [DEBUG] default - Your version of Terraform is out of date! The latest version
is 1.3.4. You can update by downloading from https://www.terraform.io/downloads.html

[2022-11-16T09:49:22.004] [DEBUG] default - 

[2022-11-16T09:49:22.008] [DEBUG] default - [0m[1mInitializing the backend...[0m

[2022-11-16T09:49:22.450] [DEBUG] default - 

[2022-11-16T09:49:22.452] [DEBUG] default - [0m[1mInitializing provider plugins...[0m
- Reusing previous version of hashicorp/aws from the dependency lock file

[2022-11-16T09:49:23.546] [DEBUG] default - - Using previously-installed hashicorp/aws v2.70.1

[2022-11-16T09:49:23.548] [DEBUG] default - 

[2022-11-16T09:49:23.559] [DEBUG] default - [0m[1m[32mTerraform has been successfully initialized![0m[32m[0m
[0m[32m
You may now begin working with Terraform. Try running "terraform plan" to see
any changes that are required for your infrastructure. All Terraform commands
should now work.

If you ever set or change modules or backend configuration for Terraform,
rerun this command to reinitialize your working directory. If you forget, other
commands will detect it and remind you to do so if necessary.[0m

[2022-11-16T09:49:24.933] [DEBUG] default - 

[2022-11-16T09:49:24.958] [DEBUG] default - An execution plan has been generated and is shown below.
Resource actions are indicated with the following symbols:
  [31m-[0m destroy
[0m
Terraform will perform the following actions:

[1m  # aws_alb_target_group.sample-cdktf-alb-target-group[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_alb_target_group" "sample-cdktf-alb-target-group" {
      [31m-[0m [0m[1m[0marn[0m[0m                                = "arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/96ce3da4d08f7f6b" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0marn_suffix[0m[0m                         = "targetgroup/sample-cdktf-alb-target-group/96ce3da4d08f7f6b" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mderegistration_delay[0m[0m               = 300 [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                                 = "arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/96ce3da4d08f7f6b" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mlambda_multi_value_headers_enabled[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mload_balancing_algorithm_type[0m[0m      = "round_robin" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mname[0m[0m                               = "sample-cdktf-alb-target-group" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mport[0m[0m                               = 80 [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mprotocol[0m[0m                           = "HTTP" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mproxy_protocol_v2[0m[0m                  = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mslow_start[0m[0m                         = 0 [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtarget_type[0m[0m                        = "ip" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mvpc_id[0m[0m                             = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m

      [31m-[0m [0mhealth_check {
          [31m-[0m [0m[1m[0menabled[0m[0m             = true [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0mhealthy_threshold[0m[0m   = 3 [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0minterval[0m[0m            = 30 [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0mmatcher[0m[0m             = "200" [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0mpath[0m[0m                = "/" [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0mport[0m[0m                = "traffic-port" [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0mprotocol[0m[0m            = "HTTP" [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0mtimeout[0m[0m             = 5 [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0munhealthy_threshold[0m[0m = 2 [90m->[0m [0m[90mnull[0m[0m
        }

      [31m-[0m [0mstickiness {
          [31m-[0m [0m[1m[0mcookie_duration[0m[0m = 86400 [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0menabled[0m[0m         = false [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0mtype[0m[0m            = "lb_cookie" [90m->[0m [0m[90mnull[0m[0m
        }
    }

[1m  # aws_cloudwatch_event_rule.sample-cdktf-event-rule[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_cloudwatch_event_rule" "sample-cdktf-event-rule" {
      [31m-[0m [0m[1m[0marn[0m[0m           = "arn:aws:events:ap-northeast-1:574185952087:rule/capture-ecr-update" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdescription[0m[0m   = "Capture each AWS ECR Update" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mevent_pattern[0m[0m = jsonencode(
            {
              [31m-[0m [0mdetail      = {
                  [31m-[0m [0maction-type = [
                      [31m-[0m [0m"PUSH",
                    ]
                  [31m-[0m [0mresult      = [
                      [31m-[0m [0m"SUCCESS",
                    ]
                }
              [31m-[0m [0mdetail-type = [
                  [31m-[0m [0m"ECR Image Action",
                ]
              [31m-[0m [0msource      = [
                  [31m-[0m [0m"aws.ecr",
                ]
            }
        ) [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m            = "capture-ecr-update" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mis_enabled[0m[0m    = true [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mname[0m[0m          = "capture-ecr-update" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_cloudwatch_event_target.sample-cdktf-event-target[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_cloudwatch_event_target" "sample-cdktf-event-target" {
      [31m-[0m [0m[1m[0marn[0m[0m       = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m        = "capture-ecr-update-SendToSNS" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mrule[0m[0m      = "capture-ecr-update" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtarget_id[0m[0m = "SendToSNS" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_cloudwatch_log_group" "sample-cdktf-notification-to-slack-log-group" {
      [31m-[0m [0m[1m[0marn[0m[0m               = "arn:aws:logs:ap-northeast-1:574185952087:log-group:/aws/lambda/Sample-Lambda-Notification-to-Slack:*" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                = "/aws/lambda/Sample-Lambda-Notification-to-Slack" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mname[0m[0m              = "/aws/lambda/Sample-Lambda-Notification-to-Slack" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mretention_in_days[0m[0m = 0 [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_ecr_repository.sample-cdktf-repository[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_ecr_repository" "sample-cdktf-repository" {
      [31m-[0m [0m[1m[0marn[0m[0m                  = "arn:aws:ecr:ap-northeast-1:574185952087:repository/project/sample-cdktf" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                   = "project/sample-cdktf" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mimage_tag_mutability[0m[0m = "MUTABLE" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mname[0m[0m                 = "project/sample-cdktf" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mregistry_id[0m[0m          = "574185952087" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mrepository_url[0m[0m       = "574185952087.dkr.ecr.ap-northeast-1.amazonaws.com/project/sample-cdktf" [90m->[0m [0m[90mnull[0m[0m

      [31m-[0m [0mimage_scanning_configuration {
          [31m-[0m [0m[1m[0mscan_on_push[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
        }
    }

[1m  # aws_ecs_cluster.sample-cdktf-cluster[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_ecs_cluster" "sample-cdktf-cluster" {
      [31m-[0m [0m[1m[0marn[0m[0m  = "arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m   = "arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mname[0m[0m = "sample-cdktf-cluster" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_ecs_task_definition.sample-cdktf-task[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:49:24.959] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_ecs_task_definition" "sample-cdktf-task" {
      [31m-[0m [0m[1m[0marn[0m[0m                      = "arn:aws:ecs:ap-northeast-1:574185952087:task-definition/task-for-cdktf:38" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mcontainer_definitions[0m[0m    = jsonencode(
            [
              [31m-[0m [0m{
                  [31m-[0m [0mcpu              = 0
                  [31m-[0m [0menvironment      = []

[2022-11-16T09:49:24.959] [DEBUG] default -                   [31m-[0m [0messential        = true

[2022-11-16T09:49:24.959] [DEBUG] default -                   [31m-[0m [0mimage            = "574185952087.dkr.ecr.ap-northeast-1.amazonaws.com/project/sample-cdktf:latest"

[2022-11-16T09:49:24.959] [DEBUG] default -                   [31m-[0m [0mlogConfiguration = {
                      [31m-[0m [0mlogDriver = "awslogs"

[2022-11-16T09:49:24.959] [DEBUG] default -                       [31m-[0m [0moptions   = {

[2022-11-16T09:49:24.960] [DEBUG] default -                           [31m-[0m [0mawslogs-group         = "/aws/ecs/sample-cdktf-task"
                          [31m-[0m [0mawslogs-region        = "ap-northeast-1"
                          [31m-[0m [0mawslogs-stream-prefix = "ecs"
                        }
                    }
                  [31m-[0m [0mmountPoints      = []

[2022-11-16T09:49:24.960] [DEBUG] default -                   [31m-[0m [0mname             = "sample-cdktf-container"
                  [31m-[0m [0mportMappings     = [
                      [31m-[0m [0m{

[2022-11-16T09:49:24.960] [DEBUG] default -                           [31m-[0m [0mcontainerPort = 9000
                          [31m-[0m [0mhostPort      = 9000
                          [31m-[0m [0mprotocol      = "tcp"
                        },
                    ]
                  [31m-[0m [0mvolumesFrom      = []
                },
            ]
        ) [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mcpu[0m[0m                      = "512" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mexecution_role_arn[0m[0m       = "arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskExecutionRole" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mfamily[0m[0m                   = "task-for-cdktf" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                       = "task-for-cdktf" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mmemory[0m[0m                   = "1024" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mnetwork_mode[0m[0m             = "awsvpc" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mrequires_compatibilities[0m[0m = [

[2022-11-16T09:49:24.961] [DEBUG] default -           [31m-[0m [0m"FARGATE",
        ] [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.961] [DEBUG] default -       [31m-[0m [0m[1m[0mrevision[0m[0m                 = 38 [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.961] [DEBUG] default -       [31m-[0m [0m[1m[0mtask_role_arn[0m[0m            = "arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskRole" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_eip.sample-cdktf-eip[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_eip" "sample-cdktf-eip" {
      [31m-[0m [0m[1m[0mdomain[0m[0m           = "vpc" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.961] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m               = "eipalloc-0059b36f2e66b30d0" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.961] [DEBUG] default -       [31m-[0m [0m[1m[0mpublic_dns[0m[0m       = "ec2-35-79-243-233.ap-northeast-1.compute.amazonaws.com" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.961] [DEBUG] default -       [31m-[0m [0m[1m[0mpublic_ip[0m[0m        = "35.79.243.233" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.962] [DEBUG] default -       [31m-[0m [0m[1m[0mpublic_ipv4_pool[0m[0m = "amazon" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.962] [DEBUG] default -       [31m-[0m [0m[1m[0mvpc[0m[0m              = true [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_iam_policy.ecs-task-execution-policy[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_iam_policy" "ecs-task-execution-policy" {

[2022-11-16T09:49:24.962] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m         = "arn:aws:iam::574185952087:policy/ecs-task-execution-policy" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.962] [DEBUG] default -       [31m-[0m [0m[1m[0mdescription[0m[0m = "Policy for updating ECS tasks" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.962] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m          = "arn:aws:iam::574185952087:policy/ecs-task-execution-policy" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.962] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m        = "ecs-task-execution-policy" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.962] [DEBUG] default -       [31m-[0m [0m[1m[0mpath[0m[0m        = "/" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.963] [DEBUG] default -       [31m-[0m [0m[1m[0mpolicy[0m[0m      = jsonencode(
            {
              [31m-[0m [0mStatement = [

[2022-11-16T09:49:24.963] [DEBUG] default -                   [31m-[0m [0m{

[2022-11-16T09:49:24.963] [DEBUG] default -                       [31m-[0m [0mAction   = [
                          [31m-[0m [0m"ecr:GetAuthorizationToken",

[2022-11-16T09:49:24.963] [DEBUG] default -                           [31m-[0m [0m"ecr:BatchCheckLayerAvailability",

[2022-11-16T09:49:24.963] [DEBUG] default -                           [31m-[0m [0m"ecr:GetDownloadUrlForLayer",

[2022-11-16T09:49:24.963] [DEBUG] default -                           [31m-[0m [0m"ecr:BatchGetImage",
                          [31m-[0m [0m"logs:CreateLogStream",
                          [31m-[0m [0m"logs:PutLogEvents",
                        ]
                      [31m-[0m [0mEffect   = "Allow"
                      [31m-[0m [0mResource = [
                          [31m-[0m [0m"*",

[2022-11-16T09:49:24.963] [DEBUG] default -                         ]
                    },

[2022-11-16T09:49:24.964] [DEBUG] default -                 ]
              [31m-[0m [0mVersion   = "2012-10-17"
            }

[2022-11-16T09:49:24.964] [DEBUG] default -         ) [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:49:24.964] [DEBUG] default - [1m  # aws_iam_policy.ecs-task-policy[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:49:24.964] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_iam_policy" "ecs-task-policy" {

[2022-11-16T09:49:24.964] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m         = "arn:aws:iam::574185952087:policy/ecs-task-policy" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.964] [DEBUG] default -       [31m-[0m [0m[1m[0mdescription[0m[0m = "Policy for updating ECS tasks" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.964] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m          = "arn:aws:iam::574185952087:policy/ecs-task-policy" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.964] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m        = "ecs-task-policy" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.964] [DEBUG] default -       [31m-[0m [0m[1m[0mpath[0m[0m        = "/" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.964] [DEBUG] default -       [31m-[0m [0m[1m[0mpolicy[0m[0m      = jsonencode(
            {

[2022-11-16T09:49:24.964] [DEBUG] default -               [31m-[0m [0mStatement = [

[2022-11-16T09:49:24.964] [DEBUG] default -                   [31m-[0m [0m{
                      [31m-[0m [0mAction   = [

[2022-11-16T09:49:24.965] [DEBUG] default -                           [31m-[0m [0m"ecs:DescribeServices",

[2022-11-16T09:49:24.965] [DEBUG] default -                           [31m-[0m [0m"ecs:CreateTaskSet",

[2022-11-16T09:49:24.965] [DEBUG] default -                           [31m-[0m [0m"ecs:UpdateServicePrimaryTaskSet",

[2022-11-16T09:49:24.965] [DEBUG] default -                           [31m-[0m [0m"ecs:DeleteTaskSet",

[2022-11-16T09:49:24.965] [DEBUG] default -                           [31m-[0m [0m"elasticloadbalancing:DescribeTargetGroups",

[2022-11-16T09:49:24.965] [DEBUG] default -                           [31m-[0m [0m"elasticloadbalancing:DescribeListeners",

[2022-11-16T09:49:24.965] [DEBUG] default -                           [31m-[0m [0m"elasticloadbalancing:ModifyListener",
                          [31m-[0m [0m"elasticloadbalancing:DescribeRules",

[2022-11-16T09:49:24.965] [DEBUG] default -                           [31m-[0m [0m"elasticloadbalancing:ModifyRule",

[2022-11-16T09:49:24.965] [DEBUG] default -                           [31m-[0m [0m"lambda:InvokeFunction",

[2022-11-16T09:49:24.965] [DEBUG] default -                           [31m-[0m [0m"cloudwatch:DescribeAlarms",

[2022-11-16T09:49:24.965] [DEBUG] default -                           [31m-[0m [0m"sns:Publish",

[2022-11-16T09:49:24.965] [DEBUG] default -                           [31m-[0m [0m"s3:GetObject",

[2022-11-16T09:49:24.965] [DEBUG] default -                           [31m-[0m [0m"s3:GetObjectVersion",

[2022-11-16T09:49:24.965] [DEBUG] default -                         ]
                      [31m-[0m [0mEffect   = "Allow"

[2022-11-16T09:49:24.965] [DEBUG] default -                       [31m-[0m [0mResource = [

[2022-11-16T09:49:24.966] [DEBUG] default -                           [31m-[0m [0m"*",
                        ]

[2022-11-16T09:49:24.966] [DEBUG] default -                     },
                ]

[2022-11-16T09:49:24.966] [DEBUG] default -               [31m-[0m [0mVersion   = "2012-10-17"
            }
        ) [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.966] [DEBUG] default -     }


[2022-11-16T09:49:24.966] [DEBUG] default - [1m  # aws_iam_policy.lambda-logging[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_iam_policy" "lambda-logging" {

[2022-11-16T09:49:24.966] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m         = "arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.966] [DEBUG] default -       [31m-[0m [0m[1m[0mdescription[0m[0m = "IAM policy for logging from a lambda" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.966] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m          = "arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.966] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m        = "sample-cdktf-lambda-logging" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.966] [DEBUG] default -       [31m-[0m [0m[1m[0mpath[0m[0m        = "/" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.966] [DEBUG] default -       [31m-[0m [0m[1m[0mpolicy[0m[0m      = jsonencode(
            {

[2022-11-16T09:49:24.966] [DEBUG] default -               [31m-[0m [0mStatement = [
                  [31m-[0m [0m{

[2022-11-16T09:49:24.967] [DEBUG] default -                       [31m-[0m [0mAction   = [

[2022-11-16T09:49:24.967] [DEBUG] default -                           [31m-[0m [0m"iam:PassRole",

[2022-11-16T09:49:24.967] [DEBUG] default -                           [31m-[0m [0m"ecs:RegisterTaskDefinition",
                          [31m-[0m [0m"ecs:UpdateService",

[2022-11-16T09:49:24.967] [DEBUG] default -                           [31m-[0m [0m"logs:CreateLogGroup",

[2022-11-16T09:49:24.967] [DEBUG] default -                           [31m-[0m [0m"logs:CreateLogStream",

[2022-11-16T09:49:24.967] [DEBUG] default -                           [31m-[0m [0m"logs:PutLogEvents",

[2022-11-16T09:49:24.967] [DEBUG] default -                         ]

[2022-11-16T09:49:24.967] [DEBUG] default -                       [31m-[0m [0mEffect   = "Allow"

[2022-11-16T09:49:24.967] [DEBUG] default -                       [31m-[0m [0mResource = [

[2022-11-16T09:49:24.967] [DEBUG] default -                           [31m-[0m [0m"*",
                          [31m-[0m [0m"arn:aws:logs:*:*:*",

[2022-11-16T09:49:24.967] [DEBUG] default -                           [31m-[0m [0m"arn:aws:ecs:*:*:*",

[2022-11-16T09:49:24.967] [DEBUG] default -                           [31m-[0m [0m"arn:aws:iam::445682127642:role/sample-cdktf-ecsTaskExecutionRole",

[2022-11-16T09:49:24.967] [DEBUG] default -                         ]
                    },
                ]

[2022-11-16T09:49:24.967] [DEBUG] default -               [31m-[0m [0mVersion   = "2012-10-17"
            }

[2022-11-16T09:49:24.967] [DEBUG] default -         ) [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_iam_role.ecsTaskExecutionRole[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:49:24.968] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_iam_role" "ecsTaskExecutionRole" {

[2022-11-16T09:49:24.968] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                   = "arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskExecutionRole" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.968] [DEBUG] default -       [31m-[0m [0m[1m[0massume_role_policy[0m[0m    = jsonencode(
            {

[2022-11-16T09:49:24.968] [DEBUG] default -               [31m-[0m [0mStatement = [
                  [31m-[0m [0m{

[2022-11-16T09:49:24.968] [DEBUG] default -                       [31m-[0m [0mAction    = "sts:AssumeRole"

[2022-11-16T09:49:24.968] [DEBUG] default -                       [31m-[0m [0mEffect    = "Allow"
                      [31m-[0m [0mPrincipal = {

[2022-11-16T09:49:24.968] [DEBUG] default -                           [31m-[0m [0mService = "ecs-tasks.amazonaws.com"

[2022-11-16T09:49:24.968] [DEBUG] default -                         }

[2022-11-16T09:49:24.968] [DEBUG] default -                       [31m-[0m [0mSid       = ""
                    },
                ]

[2022-11-16T09:49:24.968] [DEBUG] default -               [31m-[0m [0mVersion   = "2012-10-17"

[2022-11-16T09:49:24.968] [DEBUG] default -             }
        ) [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.968] [DEBUG] default -       [31m-[0m [0m[1m[0mcreate_date[0m[0m           = "2022-11-16T00:46:27Z" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.968] [DEBUG] default -       [31m-[0m [0m[1m[0mforce_detach_policies[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.969] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                    = "sample-cdktf-ecsTaskExecutionRole" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.969] [DEBUG] default -       [31m-[0m [0m[1m[0mmax_session_duration[0m[0m  = 3600 [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.969] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m                  = "sample-cdktf-ecsTaskExecutionRole" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.969] [DEBUG] default -       [31m-[0m [0m[1m[0mpath[0m[0m                  = "/" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.969] [DEBUG] default -       [31m-[0m [0m[1m[0munique_id[0m[0m             = "AROAYLMBGKNLSVDT6JCPW" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.969] [DEBUG] default -     }


[2022-11-16T09:49:24.969] [DEBUG] default - [1m  # aws_iam_role.ecsTaskRole[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:49:24.969] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_iam_role" "ecsTaskRole" {

[2022-11-16T09:49:24.969] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                   = "arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskRole" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.969] [DEBUG] default -       [31m-[0m [0m[1m[0massume_role_policy[0m[0m    = jsonencode(
            {

[2022-11-16T09:49:24.969] [DEBUG] default -               [31m-[0m [0mStatement = [

[2022-11-16T09:49:24.969] [DEBUG] default -                   [31m-[0m [0m{

[2022-11-16T09:49:24.969] [DEBUG] default -                       [31m-[0m [0mAction    = "sts:AssumeRole"

[2022-11-16T09:49:24.970] [DEBUG] default -                       [31m-[0m [0mEffect    = "Allow"
                      [31m-[0m [0mPrincipal = {

[2022-11-16T09:49:24.970] [DEBUG] default -                           [31m-[0m [0mService = "ecs-tasks.amazonaws.com"

[2022-11-16T09:49:24.970] [DEBUG] default -                         }

[2022-11-16T09:49:24.970] [DEBUG] default -                       [31m-[0m [0mSid       = ""
                    },
                ]

[2022-11-16T09:49:24.970] [DEBUG] default -               [31m-[0m [0mVersion   = "2012-10-17"

[2022-11-16T09:49:24.970] [DEBUG] default -             }
        ) [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.970] [DEBUG] default -       [31m-[0m [0m[1m[0mcreate_date[0m[0m           = "2022-11-16T00:46:27Z" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.970] [DEBUG] default -       [31m-[0m [0m[1m[0mforce_detach_policies[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.970] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                    = "sample-cdktf-ecsTaskRole" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.970] [DEBUG] default -       [31m-[0m [0m[1m[0mmax_session_duration[0m[0m  = 3600 [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.970] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m                  = "sample-cdktf-ecsTaskRole" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.970] [DEBUG] default -       [31m-[0m [0m[1m[0mpath[0m[0m                  = "/" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.971] [DEBUG] default -       [31m-[0m [0m[1m[0munique_id[0m[0m             = "AROAYLMBGKNL7NJASLYRI" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:49:24.971] [DEBUG] default - [1m  # aws_iam_role.lambdaExecutionRole[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:49:24.971] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_iam_role" "lambdaExecutionRole" {

[2022-11-16T09:49:24.971] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                   = "arn:aws:iam::574185952087:role/sample-cdktf-lambdaExecutionRole" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.971] [DEBUG] default -       [31m-[0m [0m[1m[0massume_role_policy[0m[0m    = jsonencode(

[2022-11-16T09:49:24.971] [DEBUG] default -             {
              [31m-[0m [0mStatement = [
                  [31m-[0m [0m{

[2022-11-16T09:49:24.972] [DEBUG] default -                       [31m-[0m [0mAction    = "sts:AssumeRole"
                      [31m-[0m [0mEffect    = "Allow"
                      [31m-[0m [0mPrincipal = {
                          [31m-[0m [0mService = [
                              [31m-[0m [0m"lambda.amazonaws.com",
                              [31m-[0m [0m"ecs-tasks.amazonaws.com",
                            ]
                        }
                      [31m-[0m [0mSid       = ""

[2022-11-16T09:49:24.972] [DEBUG] default -                     },

[2022-11-16T09:49:24.972] [DEBUG] default -                 ]

[2022-11-16T09:49:24.972] [DEBUG] default -               [31m-[0m [0mVersion   = "2012-10-17"

[2022-11-16T09:49:24.972] [DEBUG] default -             }

[2022-11-16T09:49:24.972] [DEBUG] default -         ) [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.972] [DEBUG] default -       [31m-[0m [0m[1m[0mcreate_date[0m[0m           = "2022-11-16T00:46:27Z" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.972] [DEBUG] default -       [31m-[0m [0m[1m[0mforce_detach_policies[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.973] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                    = "sample-cdktf-lambdaExecutionRole" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.973] [DEBUG] default -       [31m-[0m [0m[1m[0mmax_session_duration[0m[0m  = 3600 [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.973] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m                  = "sample-cdktf-lambdaExecutionRole" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.973] [DEBUG] default -       [31m-[0m [0m[1m[0mpath[0m[0m                  = "/" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.973] [DEBUG] default -       [31m-[0m [0m[1m[0munique_id[0m[0m             = "AROAYLMBGKNLVDGDVRBWS" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.973] [DEBUG] default -     }


[2022-11-16T09:49:24.973] [DEBUG] default - [1m  # aws_iam_role_policy_attachment.attach-ecs-task-execution-policy[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:49:24.973] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_iam_role_policy_attachment" "attach-ecs-task-execution-policy" {

[2022-11-16T09:49:24.973] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m         = "sample-cdktf-ecsTaskExecutionRole-20221116004630079200000002" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.973] [DEBUG] default -       [31m-[0m [0m[1m[0mpolicy_arn[0m[0m = "arn:aws:iam::574185952087:policy/ecs-task-execution-policy" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.973] [DEBUG] default -       [31m-[0m [0m[1m[0mrole[0m[0m       = "sample-cdktf-ecsTaskExecutionRole" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:49:24.974] [DEBUG] default - [1m  # aws_iam_role_policy_attachment.attach-ecs-task-policy[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:49:24.974] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_iam_role_policy_attachment" "attach-ecs-task-policy" {

[2022-11-16T09:49:24.974] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m         = "sample-cdktf-ecsTaskRole-20221116004629667400000001" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.974] [DEBUG] default -       [31m-[0m [0m[1m[0mpolicy_arn[0m[0m = "arn:aws:iam::574185952087:policy/ecs-task-policy" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:24.974] [DEBUG] default -       [31m-[0m [0m[1m[0mrole[0m[0m       = "sample-cdktf-ecsTaskRole" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:49:24.974] [DEBUG] default - [1m  # aws_iam_role_policy_attachment.attach-lambda-policy[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:49:25.009] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_iam_role_policy_attachment" "attach-lambda-policy" {
      [31m-[0m [0m[1m[0mid[0m[0m         = "sample-cdktf-lambdaExecutionRole-20221116004630297700000003" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mpolicy_arn[0m[0m = "arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mrole[0m[0m       = "sample-cdktf-lambdaExecutionRole" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_internet_gateway.sample-cdktf-igw-production[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_internet_gateway" "sample-cdktf-igw-production" {
      [31m-[0m [0m[1m[0marn[0m[0m      = "arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-0cc1f41a6e7a3ffd6" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m       = "igw-0cc1f41a6e7a3ffd6" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mowner_id[0m[0m = "574185952087" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtags[0m[0m     = {
          [31m-[0m [0m"Name" = "igw-production sample-cdktf"
        } [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mvpc_id[0m[0m   = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_lambda_function.Sample-Lambda-Notification-to-Slack[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_lambda_function" "Sample-Lambda-Notification-to-Slack" {
      [31m-[0m [0m[1m[0marn[0m[0m                            = "arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mfunction_name[0m[0m                  = "Sample-Lambda-Notification-to-Slack" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mhandler[0m[0m                        = "index.handler" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                             = "Sample-Lambda-Notification-to-Slack" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0minvoke_arn[0m[0m                     = "arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack/invocations" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mlast_modified[0m[0m                  = "2022-11-16T00:46:39.901+0000" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mmemory_size[0m[0m                    = 128 [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mpublish[0m[0m                        = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mqualified_arn[0m[0m                  = "arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack:$LATEST" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mreserved_concurrent_executions[0m[0m = -1 [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mrole[0m[0m                           = "arn:aws:iam::574185952087:role/sample-cdktf-lambdaExecutionRole" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mruntime[0m[0m                        = "nodejs12.x" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0ms3_bucket[0m[0m                      = "sample-cdktf-s3" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0ms3_key[0m[0m                         = "notification-to-Slack-dist.zip" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0msource_code_hash[0m[0m               = "tCCpjM8bYGUMlYE1itasARiG+ZOmfdgQJWCcxS1eRIg=" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0msource_code_size[0m[0m               = 13887229 [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtimeout[0m[0m                        = 30 [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mversion[0m[0m                        = "$LATEST" [90m->[0m [0m[90mnull[0m[0m

      [31m-[0m [0menvironment {
          [31m-[0m [0m[1m[0mvariables[0m[0m = {
              [31m-[0m [0m"SLACK_API_TOKEN" = "xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp"
              [31m-[0m [0m"SLACK_CHANNEL"   = "C049CPNKHMJ"
            } [90m->[0m [0m[90mnull[0m[0m
        }

      [31m-[0m [0mtracing_config {
          [31m-[0m [0m[1m[0mmode[0m[0m = "PassThrough" [90m->[0m [0m[90mnull[0m[0m
        }
    }

[1m  # aws_lambda_permission.permission-to-sns[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_lambda_permission" "permission-to-sns" {
      [31m-[0m [0m[1m[0maction[0m[0m        = "lambda:InvokeFunction" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mfunction_name[0m[0m = "Sample-Lambda-Notification-to-Slack" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m            = "AllowExecutionFromSNS" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mprincipal[0m[0m     = "sns.amazonaws.com" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0msource_arn[0m[0m    = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mstatement_id[0m[0m  = "AllowExecutionFromSNS" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_route_table.sample-cdktf-public-rtb[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_route_table" "sample-cdktf-public-rtb" {
      [31m-[0m [0m[1m[0mid[0m[0m               = "rtb-00c8ff7db39b6ae47" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mowner_id[0m[0m         = "574185952087" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mpropagating_vgws[0m[0m = [] [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mroute[0m[0m            = [
          [31m-[0m [0m{
              [31m-[0m [0mcidr_block                = "0.0.0.0/0"
              [31m-[0m [0megress_only_gateway_id    = ""
              [31m-[0m [0mgateway_id                = "igw-0cc1f41a6e7a3ffd6"
              [31m-[0m [0minstance_id               = ""
              [31m-[0m [0mipv6_cidr_block           = ""
              [31m-[0m [0mnat_gateway_id            = ""
              [31m-[0m [0mnetwork_interface_id      = ""
              [31m-[0m [0mtransit_gateway_id        = ""
              [31m-[0m [0mvpc_peering_connection_id = ""
            },
        ] [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtags[0m[0m             = {
          [31m-[0m [0m"Name" = "sample-cdktf Public rtb"
        } [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mvpc_id[0m[0m           = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_route_table_association.sample-cdktf-public-rtb-association1[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_route_table_association" "sample-cdktf-public-rtb-association1" {
      [31m-[0m [0m[1m[0mid[0m[0m             = "rtbassoc-02eb9235372a5324c" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mroute_table_id[0m[0m = "rtb-00c8ff7db39b6ae47" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0msubnet_id[0m[0m      = "subnet-09a6d830e31fa4be1" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_route_table_association.sample-cdktf-public-rtb-association2[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_route_table_association" "sample-cdktf-public-rtb-association2" {
      [31m-[0m [0m[1m[0mid[0m[0m             = "rtbassoc-0e35e529d0a14abc3" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mroute_table_id[0m[0m = "rtb-00c8ff7db39b6ae47" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0msubnet_id[0m[0m      = "subnet-0ddb3015e06d74ce8" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_route_table_association.sample-cdktf-public-rtb1[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:49:25.010] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_route_table_association" "sample-cdktf-public-rtb1" {
      [31m-[0m [0m[1m[0mid[0m[0m             = "rtbassoc-02eb9235372a5324c" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mroute_table_id[0m[0m = "rtb-00c8ff7db39b6ae47" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0msubnet_id[0m[0m      = "subnet-09a6d830e31fa4be1" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_s3_bucket.sample-cdktf-s3[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_s3_bucket" "sample-cdktf-s3" {
      [31m-[0m [0m[1m[0macl[0m[0m                         = "private" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0marn[0m[0m                         = "arn:aws:s3:::sample-cdktf-s3" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mbucket[0m[0m                      = "sample-cdktf-s3" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.011] [DEBUG] default -       [31m-[0m [0m[1m[0mbucket_domain_name[0m[0m          = "sample-cdktf-s3.s3.amazonaws.com" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mbucket_regional_domain_name[0m[0m = "sample-cdktf-s3.s3.ap-northeast-1.amazonaws.com" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mforce_destroy[0m[0m               = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.011] [DEBUG] default -       [31m-[0m [0m[1m[0mhosted_zone_id[0m[0m              = "Z2M4EHUR26P7ZW" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.011] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                          = "sample-cdktf-s3" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.011] [DEBUG] default -       [31m-[0m [0m[1m[0mregion[0m[0m                      = "ap-northeast-1" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.012] [DEBUG] default -       [31m-[0m [0m[1m[0mrequest_payer[0m[0m               = "BucketOwner" [90m->[0m [0m[90mnull[0m[0m


[2022-11-16T09:49:25.012] [DEBUG] default -       [31m-[0m [0mversioning {

[2022-11-16T09:49:25.012] [DEBUG] default -           [31m-[0m [0m[1m[0menabled[0m[0m    = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.012] [DEBUG] default -           [31m-[0m [0m[1m[0mmfa_delete[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.012] [DEBUG] default -         }
    }


[2022-11-16T09:49:25.012] [DEBUG] default - [1m  # aws_s3_bucket_object.notification-to-Slack-distzip[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_s3_bucket_object" "notification-to-Slack-distzip" {
      [31m-[0m [0m[1m[0macl[0m[0m           = "private" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.012] [DEBUG] default -       [31m-[0m [0m[1m[0mbucket[0m[0m        = "sample-cdktf-s3" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.013] [DEBUG] default -       [31m-[0m [0m[1m[0mcontent_type[0m[0m  = "zip" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.013] [DEBUG] default -       [31m-[0m [0m[1m[0metag[0m[0m          = "4937147d8b730bb24484f81f57592f61" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.013] [DEBUG] default -       [31m-[0m [0m[1m[0mforce_destroy[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.013] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m            = "notification-to-Slack-dist.zip" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.013] [DEBUG] default -       [31m-[0m [0m[1m[0mkey[0m[0m           = "notification-to-Slack-dist.zip" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.013] [DEBUG] default -       [31m-[0m [0m[1m[0msource[0m[0m        = "/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.014] [DEBUG] default -       [31m-[0m [0m[1m[0mstorage_class[0m[0m = "STANDARD" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.014] [DEBUG] default -     }


[2022-11-16T09:49:25.014] [DEBUG] default - [1m  # aws_security_group.sample-cdktf-security-group[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:49:25.014] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_security_group" "sample-cdktf-security-group" {

[2022-11-16T09:49:25.014] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                    = "arn:aws:ec2:ap-northeast-1:574185952087:security-group/sg-039556800e9cab6e1" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.014] [DEBUG] default -       [31m-[0m [0m[1m[0mdescription[0m[0m            = "Managed by Terraform" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.014] [DEBUG] default -       [31m-[0m [0m[1m[0megress[0m[0m                 = [] [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.014] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                     = "sg-039556800e9cab6e1" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.015] [DEBUG] default -       [31m-[0m [0m[1m[0mingress[0m[0m                = [] [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.015] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m                   = "sample-cdktf" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.015] [DEBUG] default -       [31m-[0m [0m[1m[0mowner_id[0m[0m               = "574185952087" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.015] [DEBUG] default -       [31m-[0m [0m[1m[0mrevoke_rules_on_delete[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.015] [DEBUG] default -       [31m-[0m [0m[1m[0mtags[0m[0m                   = {

[2022-11-16T09:49:25.015] [DEBUG] default -           [31m-[0m [0m"Name" = "sample-cdktf"

[2022-11-16T09:49:25.015] [DEBUG] default -         } [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.015] [DEBUG] default -       [31m-[0m [0m[1m[0mvpc_id[0m[0m                 = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:49:25.015] [DEBUG] default - [1m  # aws_security_group_rule.sample-cdktf-security-egress[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:49:25.015] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_security_group_rule" "sample-cdktf-security-egress" {

[2022-11-16T09:49:25.015] [DEBUG] default -       [31m-[0m [0m[1m[0mcidr_blocks[0m[0m       = [

[2022-11-16T09:49:25.015] [DEBUG] default -           [31m-[0m [0m"0.0.0.0/0",
        ] [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.016] [DEBUG] default -       [31m-[0m [0m[1m[0mfrom_port[0m[0m         = 0 [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.016] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                = "sgrule-850402267" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.016] [DEBUG] default -       [31m-[0m [0m[1m[0mprotocol[0m[0m          = "-1" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.016] [DEBUG] default -       [31m-[0m [0m[1m[0msecurity_group_id[0m[0m = "sg-039556800e9cab6e1" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.016] [DEBUG] default -       [31m-[0m [0m[1m[0mself[0m[0m              = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.016] [DEBUG] default -       [31m-[0m [0m[1m[0mto_port[0m[0m           = 0 [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.016] [DEBUG] default -       [31m-[0m [0m[1m[0mtype[0m[0m              = "egress" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:49:25.016] [DEBUG] default - [1m  # aws_security_group_rule.sample-cdktf-security-ingress[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:49:25.016] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_security_group_rule" "sample-cdktf-security-ingress" {

[2022-11-16T09:49:25.017] [DEBUG] default -       [31m-[0m [0m[1m[0mcidr_blocks[0m[0m       = [

[2022-11-16T09:49:25.017] [DEBUG] default -           [31m-[0m [0m"0.0.0.0/0",
        ] [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.017] [DEBUG] default -       [31m-[0m [0m[1m[0mfrom_port[0m[0m         = 80 [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.017] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                = "sgrule-71704278" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.017] [DEBUG] default -       [31m-[0m [0m[1m[0mprotocol[0m[0m          = "tcp" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.017] [DEBUG] default -       [31m-[0m [0m[1m[0msecurity_group_id[0m[0m = "sg-039556800e9cab6e1" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.017] [DEBUG] default -       [31m-[0m [0m[1m[0mself[0m[0m              = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.017] [DEBUG] default -       [31m-[0m [0m[1m[0mto_port[0m[0m           = 80 [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.017] [DEBUG] default -       [31m-[0m [0m[1m[0mtype[0m[0m              = "ingress" [90m->[0m [0m[90mnull[0m[0m
    }

[2022-11-16T09:49:25.017] [DEBUG] default - 

[2022-11-16T09:49:25.017] [DEBUG] default - [1m  # aws_sns_topic.sample-cdktf-sns[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:49:25.018] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_sns_topic" "sample-cdktf-sns" {

[2022-11-16T09:49:25.018] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m    = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.018] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m     = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.018] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m   = "sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.018] [DEBUG] default -       [31m-[0m [0m[1m[0mpolicy[0m[0m = jsonencode(

[2022-11-16T09:49:25.018] [DEBUG] default -             {

[2022-11-16T09:49:25.018] [DEBUG] default -               [31m-[0m [0mId        = "__default_policy_ID"
              [31m-[0m [0mStatement = [

[2022-11-16T09:49:25.018] [DEBUG] default -                   [31m-[0m [0m{

[2022-11-16T09:49:25.018] [DEBUG] default -                       [31m-[0m [0mAction    = [

[2022-11-16T09:49:25.018] [DEBUG] default -                           [31m-[0m [0m"SNS:GetTopicAttributes",

[2022-11-16T09:49:25.018] [DEBUG] default -                           [31m-[0m [0m"SNS:SetTopicAttributes",

[2022-11-16T09:49:25.018] [DEBUG] default -                           [31m-[0m [0m"SNS:AddPermission",

[2022-11-16T09:49:25.019] [DEBUG] default -                           [31m-[0m [0m"SNS:RemovePermission",

[2022-11-16T09:49:25.019] [DEBUG] default -                           [31m-[0m [0m"SNS:DeleteTopic",

[2022-11-16T09:49:25.019] [DEBUG] default -                           [31m-[0m [0m"SNS:Subscribe",

[2022-11-16T09:49:25.019] [DEBUG] default -                           [31m-[0m [0m"SNS:ListSubscriptionsByTopic",

[2022-11-16T09:49:25.019] [DEBUG] default -                           [31m-[0m [0m"SNS:Publish",

[2022-11-16T09:49:25.019] [DEBUG] default -                         ]
                      [31m-[0m [0mCondition = {

[2022-11-16T09:49:25.019] [DEBUG] default -                           [31m-[0m [0mStringEquals = {

[2022-11-16T09:49:25.019] [DEBUG] default -                               [31m-[0m [0mAWS:SourceOwner = "574185952087"

[2022-11-16T09:49:25.019] [DEBUG] default -                             }
                        }
                      [31m-[0m [0mEffect    = "Allow"

[2022-11-16T09:49:25.019] [DEBUG] default -                       [31m-[0m [0mPrincipal = {

[2022-11-16T09:49:25.019] [DEBUG] default -                           [31m-[0m [0mAWS = "*"
                        }

[2022-11-16T09:49:25.019] [DEBUG] default -                       [31m-[0m [0mResource  = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns"

[2022-11-16T09:49:25.019] [DEBUG] default -                       [31m-[0m [0mSid       = "__default_statement_ID"

[2022-11-16T09:49:25.019] [DEBUG] default -                     },
                ]

[2022-11-16T09:49:25.020] [DEBUG] default -               [31m-[0m [0mVersion   = "2008-10-17"
            }

[2022-11-16T09:49:25.020] [DEBUG] default -         ) [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:49:25.020] [DEBUG] default - [1m  # aws_sns_topic_policy.sample-cdktf-sns-policy[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:49:25.020] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_sns_topic_policy" "sample-cdktf-sns-policy" {

[2022-11-16T09:49:25.020] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m    = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.020] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m     = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.020] [DEBUG] default -       [31m-[0m [0m[1m[0mpolicy[0m[0m = jsonencode(
            {
              [31m-[0m [0mStatement = [

[2022-11-16T09:49:25.020] [DEBUG] default -                   [31m-[0m [0m{

[2022-11-16T09:49:25.020] [DEBUG] default -                       [31m-[0m [0mAction    = "SNS:Publish"

[2022-11-16T09:49:25.020] [DEBUG] default -                       [31m-[0m [0mEffect    = "Allow"

[2022-11-16T09:49:25.020] [DEBUG] default -                       [31m-[0m [0mPrincipal = {

[2022-11-16T09:49:25.020] [DEBUG] default -                           [31m-[0m [0mService = "events.amazonaws.com"
                        }

[2022-11-16T09:49:25.020] [DEBUG] default -                       [31m-[0m [0mResource  = "*"
                      [31m-[0m [0mSid       = ""

[2022-11-16T09:49:25.021] [DEBUG] default -                     },
                ]

[2022-11-16T09:49:25.021] [DEBUG] default -               [31m-[0m [0mVersion   = "2012-10-17"
            }

[2022-11-16T09:49:25.021] [DEBUG] default -         ) [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.021] [DEBUG] default -     }


[2022-11-16T09:49:25.021] [DEBUG] default - [1m  # aws_sns_topic_subscription.sample-cdktf-sns-subscription[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:49:25.021] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_sns_topic_subscription" "sample-cdktf-sns-subscription" {

[2022-11-16T09:49:25.021] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                             = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:571c83a9-38bf-4df1-997b-9ad21f8b125a" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.021] [DEBUG] default -       [31m-[0m [0m[1m[0mconfirmation_timeout_in_minutes[0m[0m = 1 [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.021] [DEBUG] default -       [31m-[0m [0m[1m[0mendpoint[0m[0m                        = "arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.021] [DEBUG] default -       [31m-[0m [0m[1m[0mendpoint_auto_confirms[0m[0m          = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.022] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                              = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:571c83a9-38bf-4df1-997b-9ad21f8b125a" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.022] [DEBUG] default -       [31m-[0m [0m[1m[0mprotocol[0m[0m                        = "lambda" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.022] [DEBUG] default -       [31m-[0m [0m[1m[0mraw_message_delivery[0m[0m            = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.022] [DEBUG] default -       [31m-[0m [0m[1m[0mtopic_arn[0m[0m                       = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:49:25.022] [DEBUG] default - [1m  # aws_subnet.sample-cdktf-private-subnet1[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:49:25.022] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_subnet" "sample-cdktf-private-subnet1" {

[2022-11-16T09:49:25.022] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                             = "arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0ae0250125c72e78a" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.022] [DEBUG] default -       [31m-[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.022] [DEBUG] default -       [31m-[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1a" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.023] [DEBUG] default -       [31m-[0m [0m[1m[0mavailability_zone_id[0m[0m            = "apne1-az4" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.023] [DEBUG] default -       [31m-[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.128.0/20" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.023] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                              = "subnet-0ae0250125c72e78a" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.023] [DEBUG] default -       [31m-[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.023] [DEBUG] default -       [31m-[0m [0m[1m[0mowner_id[0m[0m                        = "574185952087" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.023] [DEBUG] default -       [31m-[0m [0m[1m[0mtags[0m[0m                            = {

[2022-11-16T09:49:25.023] [DEBUG] default -           [31m-[0m [0m"Name" = "Private1 AZ1a sample-cdktf"

[2022-11-16T09:49:25.023] [DEBUG] default -         } [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.023] [DEBUG] default -       [31m-[0m [0m[1m[0mvpc_id[0m[0m                          = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.023] [DEBUG] default -     }


[2022-11-16T09:49:25.023] [DEBUG] default - [1m  # aws_subnet.sample-cdktf-private-subnet2[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:49:25.023] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_subnet" "sample-cdktf-private-subnet2" {

[2022-11-16T09:49:25.024] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                             = "arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-05b3dd43e9d56fd52" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.024] [DEBUG] default -       [31m-[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.024] [DEBUG] default -       [31m-[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1c" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.024] [DEBUG] default -       [31m-[0m [0m[1m[0mavailability_zone_id[0m[0m            = "apne1-az1" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.024] [DEBUG] default -       [31m-[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.144.0/20" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.024] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                              = "subnet-05b3dd43e9d56fd52" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.024] [DEBUG] default -       [31m-[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.024] [DEBUG] default -       [31m-[0m [0m[1m[0mowner_id[0m[0m                        = "574185952087" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.024] [DEBUG] default -       [31m-[0m [0m[1m[0mtags[0m[0m                            = {

[2022-11-16T09:49:25.025] [DEBUG] default -           [31m-[0m [0m"Name" = "Private2 AZ1c sample-cdktf"

[2022-11-16T09:49:25.025] [DEBUG] default -         } [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.025] [DEBUG] default -       [31m-[0m [0m[1m[0mvpc_id[0m[0m                          = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:49:25.025] [DEBUG] default - [1m  # aws_subnet.sample-cdktf-public-subnet1[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:49:25.025] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_subnet" "sample-cdktf-public-subnet1" {

[2022-11-16T09:49:25.025] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                             = "arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-09a6d830e31fa4be1" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.025] [DEBUG] default -       [31m-[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.025] [DEBUG] default -       [31m-[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1a" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.025] [DEBUG] default -       [31m-[0m [0m[1m[0mavailability_zone_id[0m[0m            = "apne1-az4" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.025] [DEBUG] default -       [31m-[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.0.0/20" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.026] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                              = "subnet-09a6d830e31fa4be1" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.026] [DEBUG] default -       [31m-[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.026] [DEBUG] default -       [31m-[0m [0m[1m[0mowner_id[0m[0m                        = "574185952087" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.026] [DEBUG] default -       [31m-[0m [0m[1m[0mtags[0m[0m                            = {

[2022-11-16T09:49:25.026] [DEBUG] default -           [31m-[0m [0m"Name" = "Public1 AZ1a sample-cdktf"

[2022-11-16T09:49:25.026] [DEBUG] default -         } [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.026] [DEBUG] default -       [31m-[0m [0m[1m[0mvpc_id[0m[0m                          = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.026] [DEBUG] default -     }


[2022-11-16T09:49:25.026] [DEBUG] default - [1m  # aws_subnet.sample-cdktf-public-subnet2[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:49:25.026] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_subnet" "sample-cdktf-public-subnet2" {

[2022-11-16T09:49:25.026] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                             = "arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0ddb3015e06d74ce8" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.026] [DEBUG] default -       [31m-[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.027] [DEBUG] default -       [31m-[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1c" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.027] [DEBUG] default -       [31m-[0m [0m[1m[0mavailability_zone_id[0m[0m            = "apne1-az1" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.027] [DEBUG] default -       [31m-[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.16.0/20" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.027] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                              = "subnet-0ddb3015e06d74ce8" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.027] [DEBUG] default -       [31m-[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.027] [DEBUG] default -       [31m-[0m [0m[1m[0mowner_id[0m[0m                        = "574185952087" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.027] [DEBUG] default -       [31m-[0m [0m[1m[0mtags[0m[0m                            = {

[2022-11-16T09:49:25.027] [DEBUG] default -           [31m-[0m [0m"Name" = "Public2 AZ1c sample-cdktf"

[2022-11-16T09:49:25.027] [DEBUG] default -         } [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.027] [DEBUG] default -       [31m-[0m [0m[1m[0mvpc_id[0m[0m                          = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:49:25.027] [DEBUG] default - [1m  # aws_vpc.sample-cdktf-vpc[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T09:49:25.027] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_vpc" "sample-cdktf-vpc" {

[2022-11-16T09:49:25.028] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                              = "arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.028] [DEBUG] default -       [31m-[0m [0m[1m[0massign_generated_ipv6_cidr_block[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.028] [DEBUG] default -       [31m-[0m [0m[1m[0mcidr_block[0m[0m                       = "10.0.0.0/16" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.028] [DEBUG] default -       [31m-[0m [0m[1m[0mdefault_network_acl_id[0m[0m           = "acl-08b9670156912938d" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.028] [DEBUG] default -       [31m-[0m [0m[1m[0mdefault_route_table_id[0m[0m           = "rtb-01926216c1dc207a6" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.028] [DEBUG] default -       [31m-[0m [0m[1m[0mdefault_security_group_id[0m[0m        = "sg-01b60241c042b1663" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.028] [DEBUG] default -       [31m-[0m [0m[1m[0mdhcp_options_id[0m[0m                  = "dopt-03da244493f3f476d" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.028] [DEBUG] default -       [31m-[0m [0m[1m[0menable_classiclink[0m[0m               = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.028] [DEBUG] default -       [31m-[0m [0m[1m[0menable_classiclink_dns_support[0m[0m   = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.028] [DEBUG] default -       [31m-[0m [0m[1m[0menable_dns_hostnames[0m[0m             = true [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.029] [DEBUG] default -       [31m-[0m [0m[1m[0menable_dns_support[0m[0m               = true [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.029] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                               = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.029] [DEBUG] default -       [31m-[0m [0m[1m[0minstance_tenancy[0m[0m                 = "default" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.029] [DEBUG] default -       [31m-[0m [0m[1m[0mmain_route_table_id[0m[0m              = "rtb-01926216c1dc207a6" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.029] [DEBUG] default -       [31m-[0m [0m[1m[0mowner_id[0m[0m                         = "574185952087" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T09:49:25.029] [DEBUG] default -       [31m-[0m [0m[1m[0mtags[0m[0m                             = {

[2022-11-16T09:49:25.029] [DEBUG] default -           [31m-[0m [0m"Name" = "sample-cdktf production"
        } [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-16T09:49:25.029] [DEBUG] default - [0m[1mPlan:[0m 0 to add, 0 to change, 37 to destroy.[0m
[33m

[2022-11-16T09:49:25.029] [DEBUG] default - [1m[33mWarning: [0m[0m[1m"condition.0.field": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m


[2022-11-16T09:49:25.029] [DEBUG] default - [0m  on cdk.tf.json line 672, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:

[2022-11-16T09:49:25.030] [DEBUG] default -  672:       [4m}[0m
[0m
[0m[0m
[33m

[2022-11-16T09:49:25.030] [DEBUG] default - [1m[33mWarning: [0m[0m[1m"condition.0.values": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m


[2022-11-16T09:49:25.030] [DEBUG] default - [0m  on cdk.tf.json line 672, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:

[2022-11-16T09:49:25.030] [DEBUG] default -  672:       [4m}[0m
[0m
[0m[0m


[2022-11-16T09:49:25.030] [DEBUG] default - ------------------------------------------------------------------------


[2022-11-16T09:49:25.030] [DEBUG] default - This plan was saved to: /Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/cdktf.out/plan


[2022-11-16T09:49:25.030] [DEBUG] default - To perform exactly these actions, run the following command to apply:

[2022-11-16T09:49:25.030] [DEBUG] default -     terraform apply "/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/cdktf.out/plan"

[2022-11-16T09:49:25.030] [DEBUG] default - 

[2022-11-16T09:49:25.960] [DEBUG] default - {"format_version":"0.1","terraform_version":"0.14.8","planned_values":{"root_module":{}},"resource_changes":[{"address":"aws_alb_target_group.sample-cdktf-alb-target-group","mode":"managed","type":"aws_alb_target_group","name":"sample-cdktf-alb-target-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/96ce3da4d08f7f6b","arn_suffix":"targetgroup/sample-cdktf-alb-target-group/96ce3da4d08f7f6b","deregistration_delay":300,"health_check":[{"enabled":true,"healthy_threshold":3,"interval":30,"matcher":"200","path":"/","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"id":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/96ce3da4d08f7f6b","lambda_multi_value_headers_enabled":false,"load_balancing_algorithm_type":"round_robin","name":"sample-cdktf-alb-target-group","name_prefix":null,"port":80,"protocol":"HTTP","proxy_protocol_v2":false,"slow_start":0,"stickiness":[{"cookie_duration":86400,"enabled":false,"type":"lb_cookie"}],"tags":null,"target_type":"ip","vpc_id":"vpc-045b92b482ef76254"},"after":null,"after_unknown":{}}},{"address":"aws_cloudwatch_event_rule.sample-cdktf-event-rule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"sample-cdktf-event-rule","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:events:ap-northeast-1:574185952087:rule/capture-ecr-update","description":"Capture each AWS ECR Update","event_pattern":"{\"detail\":{\"action-type\":[\"PUSH\"],\"result\":[\"SUCCESS\"]},\"detail-type\":[\"ECR Image Action\"],\"source\":[\"aws.ecr\"]}","id":"capture-ecr-update","is_enabled":true,"name":"capture-ecr-update","name_prefix":null,"role_arn":"","schedule_expression":"","tags":null},"after":null,"after_unknown":{}}},{"address":"aws_cloudwatch_event_target.sample-cdktf-event-target","mode":"managed","type":"aws_cloudwatch_event_target","name":"sample-cdktf-event-target","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","batch_target":[],"ecs_target":[],"id":"capture-ecr-update-SendToSNS","input":"","input_path":"","input_transformer":[],"kinesis_target":[],"role_arn":"","rule":"capture-ecr-update","run_command_targets":[],"sqs_target":[],"target_id":"SendToSNS"},"after":null,"after_unknown":{}}},{"address":"aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-notification-to-slack-log-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:logs:ap-northeast-1:574185952087:log-group:/aws/lambda/Sample-Lambda-Notification-to-Slack:*","id":"/aws/lambda/Sample-Lambda-Notification-to-Slack","kms_key_id":"","name":"/aws/lambda/Sample-Lambda-Notification-to-Slack","name_prefix":null,"retention_in_days":0,"tags":null},"after":null,"after_unknown":{}}},{"address":"aws_ecr_repository.sample-cdktf-repository","mode":"managed","type":"aws_ecr_repository","name":"sample-cdktf-repository","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ecr:ap-northeast-1:574185952087:repository/project/sample-cdktf","id":"project/sample-cdktf","image_scanning_configuration":[{"scan_on_push":false}],"image_tag_mutability":"MUTABLE","name":"project/sample-cdktf","registry_id":"574185952087","repository_url":"574185952087.dkr.ecr.ap-northeast-1.amazonaws.com/project/sample-cdktf","tags":null,"timeouts":null},"after":null,"after_unknown":{}}},{"address":"aws_ecs_cluster.sample-cdktf-cluster","mode":"managed","type":"aws_ecs_cluster","name":"sample-cdktf-cluster","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster","capacity_providers":null,"default_capacity_provider_strategy":[],"id":"arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster","name":"sample-cdktf-cluster","setting":[],"tags":null},"after":null,"after_unknown":{}}},{"address":"aws_ecs_task_definition.sample-cdktf-task","mode":"managed","type":"aws_ecs_task_definition","name":"sample-cdktf-task","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ecs:ap-northeast-1:574185952087:task-definition/task-for-cdktf:38","container_definitions":"[{\"cpu\":0,\"environment\":[],\"essential\":true,\"image\":\"574185952087.dkr.ecr.ap-northeast-1.amazonaws.com/project/sample-cdktf:latest\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"/aws/ecs/sample-cdktf-task\",\"awslogs-region\":\"ap-northeast-1\",\"awslogs-stream-prefix\":\"ecs\"}},\"mountPoints\":[],\"name\":\"sample-cdktf-container\",\"portMappings\":[{\"containerPort\":9000,\"hostPort\":9000,\"protocol\":\"tcp\"}],\"volumesFrom\":[]}]","cpu":"512","execution_role_arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskExecutionRole","family":"task-for-cdktf","id":"task-for-cdktf","inference_accelerator":[],"ipc_mode":"","memory":"1024","network_mode":"awsvpc","pid_mode":"","placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":["FARGATE"],"revision":38,"tags":null,"task_role_arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskRole","volume":[]},"after":null,"after_unknown":{}}},{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"allocation_id":null,"associate_with_private_ip":null,"association_id":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-0059b36f2e66b30d0","instance":"","network_interface":"","private_dns":null,"private_ip":"","public_dns":"ec2-35-79-243-233.ap-northeast-1.compute.amazonaws.com","public_ip":"35.79.243.233","public_ipv4_pool":"amazon","tags":null,"timeouts":null,"vpc":true},"after":null,"after_unknown":{}}},{"address":"aws_iam_policy.ecs-task-execution-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:iam::574185952087:policy/ecs-task-execution-policy","description":"Policy for updating ECS tasks","id":"arn:aws:iam::574185952087:policy/ecs-task-execution-policy","name":"ecs-task-execution-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"},"after":null,"after_unknown":{}}},{"address":"aws_iam_policy.ecs-task-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:iam::574185952087:policy/ecs-task-policy","description":"Policy for updating ECS tasks","id":"arn:aws:iam::574185952087:policy/ecs-task-policy","name":"ecs-task-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecs:DescribeServices\",\n              \"ecs:CreateTaskSet\",\n              \"ecs:UpdateServicePrimaryTaskSet\",\n              \"ecs:DeleteTaskSet\",\n              \"elasticloadbalancing:DescribeTargetGroups\",\n              \"elasticloadbalancing:DescribeListeners\",\n              \"elasticloadbalancing:ModifyListener\",\n        
[2022-11-16T09:49:25.961] [DEBUG] default -       \"elasticloadbalancing:DescribeRules\",\n              \"elasticloadbalancing:ModifyRule\",\n              \"lambda:InvokeFunction\",\n              \"cloudwatch:DescribeAlarms\",\n              \"sns:Publish\",\n              \"s3:GetObject\",\n              \"s3:GetObjectVersion\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"},"after":null,"after_unknown":{}}},{"address":"aws_iam_policy.lambda-logging","mode":"managed","type":"aws_iam_policy","name":"lambda-logging","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging","description":"IAM policy for logging from a lambda","id":"arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging","name":"sample-cdktf-lambda-logging","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"iam:PassRole\",\n              \"ecs:RegisterTaskDefinition\",\n              \"ecs:UpdateService\",\n              \"logs:CreateLogGroup\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\",\n              \"arn:aws:logs:*:*:*\",\n              \"arn:aws:ecs:*:*:*\",\n              \"arn:aws:iam::445682127642:role/sample-cdktf-ecsTaskExecutionRole\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"},"after":null,"after_unknown":{}}},{"address":"aws_iam_role.ecsTaskExecutionRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskExecutionRole","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-11-16T00:46:27Z","description":"","force_detach_policies":false,"id":"sample-cdktf-ecsTaskExecutionRole","max_session_duration":3600,"name":"sample-cdktf-ecsTaskExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null,"unique_id":"AROAYLMBGKNLSVDT6JCPW"},"after":null,"after_unknown":{}}},{"address":"aws_iam_role.ecsTaskRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskRole","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskRole","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-11-16T00:46:27Z","description":"","force_detach_policies":false,"id":"sample-cdktf-ecsTaskRole","max_session_duration":3600,"name":"sample-cdktf-ecsTaskRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null,"unique_id":"AROAYLMBGKNL7NJASLYRI"},"after":null,"after_unknown":{}}},{"address":"aws_iam_role.lambdaExecutionRole","mode":"managed","type":"aws_iam_role","name":"lambdaExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:iam::574185952087:role/sample-cdktf-lambdaExecutionRole","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"lambda.amazonaws.com\",\"ecs-tasks.amazonaws.com\"]},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-11-16T00:46:27Z","description":"","force_detach_policies":false,"id":"sample-cdktf-lambdaExecutionRole","max_session_duration":3600,"name":"sample-cdktf-lambdaExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null,"unique_id":"AROAYLMBGKNLVDGDVRBWS"},"after":null,"after_unknown":{}}},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-execution-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"id":"sample-cdktf-ecsTaskExecutionRole-20221116004630079200000002","policy_arn":"arn:aws:iam::574185952087:policy/ecs-task-execution-policy","role":"sample-cdktf-ecsTaskExecutionRole"},"after":null,"after_unknown":{}}},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"id":"sample-cdktf-ecsTaskRole-20221116004629667400000001","policy_arn":"arn:aws:iam::574185952087:policy/ecs-task-policy","role":"sample-cdktf-ecsTaskRole"},"after":null,"after_unknown":{}}},{"address":"aws_iam_role_policy_attachment.attach-lambda-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-lambda-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"id":"sample-cdktf-lambdaExecutionRole-20221116004630297700000003","policy_arn":"arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging","role":"sample-cdktf-lambdaExecutionRole"},"after":null,"after_unknown":{}}},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-0cc1f41a6e7a3ffd6","id":"igw-0cc1f41a6e7a3ffd6","owner_id":"574185952087","tags":{"Name":"igw-production sample-cdktf"},"vpc_id":"vpc-045b92b482ef76254"},"after":null,"after_unknown":{}}},{"address":"aws_lambda_function.Sample-Lambda-Notification-to-Slack","mode":"managed","type":"aws_lambda_function","name":"Sample-Lambda-Notification-to-Slack","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack","dead_letter_config":[],"description":"","environment":[{"variables":{"SLACK_API_TOKEN":"xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp","SLACK_CHANNEL":"C049CPNKHMJ"}}],"file_system_config":[],"filename":null,"function_name":"Sample-Lambda-Notification-to-Slack","handler":"index.handler","id":"Sample-Lambda-Notification-to-Slack","invoke_arn":"arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack/invocations","kms_key_arn":"","last_modified":"2022-11-16T00:46:39.901+0000","layers":null,"memory_size":128,"publish":false,"qualified_arn":"arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack:$LATEST","reserved_concurrent_executions":-1,"role":"arn:aws:iam::574185952087:role/sample-cdktf-lambdaExecutionRole","runtime":"nodejs12.x","s3_bucket":"sample-cdktf-s3","s3_key":"notification-to-Slack-dist.zip","s3_object_version":null,"source_code_hash":"tCCpjM8bYGUMlYE1itasARiG+ZOmfdgQJWCcxS1eRIg=","source_code_size":13887229,"tags":null,"timeout":30,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"after":null,"after_unknown":{}}},{"address":"aws_lambda_permission.permission-to-sns","mode":"managed","type":"aws_lambda_permission","name":"permission-to-sns","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"Sample-Lambda-Notification-to-Slack","id":"AllowExecutionFromSNS","principal":"sns.amazonaws.com","qualifier":"","source_account":null,"source_arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","statement_id":"AllowExecutionFromSNS","statement_id_prefix":null},"after":null,"after_unknown":{}}},{"address":"aws_route_table.sample-cdktf-public-rtb","mode"
[2022-11-16T09:49:25.961] [DEBUG] default - :"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"id":"rtb-00c8ff7db39b6ae47","owner_id":"574185952087","propagating_vgws":[],"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"igw-0cc1f41a6e7a3ffd6","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Public rtb"},"vpc_id":"vpc-045b92b482ef76254"},"after":null,"after_unknown":{}}},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"gateway_id":null,"id":"rtbassoc-02eb9235372a5324c","route_table_id":"rtb-00c8ff7db39b6ae47","subnet_id":"subnet-09a6d830e31fa4be1"},"after":null,"after_unknown":{}}},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"gateway_id":null,"id":"rtbassoc-0e35e529d0a14abc3","route_table_id":"rtb-00c8ff7db39b6ae47","subnet_id":"subnet-0ddb3015e06d74ce8"},"after":null,"after_unknown":{}}},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"gateway_id":null,"id":"rtbassoc-02eb9235372a5324c","route_table_id":"rtb-00c8ff7db39b6ae47","subnet_id":"subnet-09a6d830e31fa4be1"},"after":null,"after_unknown":{}}},{"address":"aws_s3_bucket.sample-cdktf-s3","mode":"managed","type":"aws_s3_bucket","name":"sample-cdktf-s3","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"acceleration_status":"","acl":"private","arn":"arn:aws:s3:::sample-cdktf-s3","bucket":"sample-cdktf-s3","bucket_domain_name":"sample-cdktf-s3.s3.amazonaws.com","bucket_prefix":null,"bucket_regional_domain_name":"sample-cdktf-s3.s3.ap-northeast-1.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[],"hosted_zone_id":"Z2M4EHUR26P7ZW","id":"sample-cdktf-s3","lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":null,"region":"ap-northeast-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[],"tags":null,"versioning":[{"enabled":false,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null},"after":null,"after_unknown":{}}},{"address":"aws_s3_bucket_object.notification-to-Slack-distzip","mode":"managed","type":"aws_s3_bucket_object","name":"notification-to-Slack-distzip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"acl":"private","bucket":"sample-cdktf-s3","cache_control":"","content":null,"content_base64":null,"content_disposition":"","content_encoding":"","content_language":"","content_type":"zip","etag":"4937147d8b730bb24484f81f57592f61","force_destroy":false,"id":"notification-to-Slack-dist.zip","key":"notification-to-Slack-dist.zip","kms_key_id":null,"metadata":null,"object_lock_legal_hold_status":"","object_lock_mode":"","object_lock_retain_until_date":"","server_side_encryption":"","source":"/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip","storage_class":"STANDARD","tags":null,"version_id":"","website_redirect":""},"after":null,"after_unknown":{}}},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:security-group/sg-039556800e9cab6e1","description":"Managed by Terraform","egress":[],"id":"sg-039556800e9cab6e1","ingress":[],"name":"sample-cdktf","name_prefix":null,"owner_id":"574185952087","revoke_rules_on_delete":false,"tags":{"Name":"sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"after":null,"after_unknown":{}}},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"id":"sgrule-850402267","ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_group_id":"sg-039556800e9cab6e1","self":false,"source_security_group_id":null,"to_port":0,"type":"egress"},"after":null,"after_unknown":{}}},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":80,"id":"sgrule-71704278","ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_group_id":"sg-039556800e9cab6e1","self":false,"source_security_group_id":null,"to_port":80,"type":"ingress"},"after":null,"after_unknown":{}}},{"address":"aws_sns_topic.sample-cdktf-sns","mode":"managed","type":"aws_sns_topic","name":"sample-cdktf-sns","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"application_failure_feedback_role_arn":"","application_success_feedback_role_arn":"","application_success_feedback_sample_rate":null,"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","delivery_policy":"","display_name":"","http_failure_feedback_role_arn":"","http_success_feedback_role_arn":"","http_success_feedback_sample_rate":null,"id":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","kms_master_key_id":"","lambda_failure_feedback_role_arn":"","lambda_success_feedback_role_arn":"","lambda_success_feedback_sample_rate":null,"name":"sample-cdktf-sns","name_prefix":null,"policy":"{\"Version\":\"2008-10-17\",\"Id\":\"__default_policy_ID\",\"Statement\":[{\"Sid\":\"__default_statement_ID\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Action\":[\"SNS:GetTopicAttributes\",\"SNS:SetTopicAttributes\",\"SNS:AddPermission\",\"SNS:RemovePermission\",\"SNS:DeleteTopic\",\"SNS:Subscribe\",\"SNS:ListSubscriptionsByTopic\",\"SNS:Publish\"],\"Resource\":\"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns\",\"Condition\":{\"StringEquals\":{\"AWS:SourceOwner\":\"574185952087\"}}}]}","sqs_failure_feedback_role_arn":"","sqs_success_feedback_role_arn":"","sqs_success_feedback_sample_rate":null,"tags":null},"after":null,"after_unknown":{}}},{"address":"aws_sns_topic_policy.sample-cdktf-sns-policy","mode":"managed","type":"aws_sns_topic_policy","name":"sample-cdktf-sns-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","id":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"events.amazonaws.com\"},\"Action\":\"SNS:Publish\",\"Resource\":\"*\"}]}"},"after":null,"after_unknown":{}}},{"address":"aws_sns_topic_subscription.sample-cdktf-sns-subscription","mode":"managed","type":"aws_sns_topic_subscription","name":"sample-cdktf-sns-subscription","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:571c83a9-38bf-4df1-997b-9ad21f8b125a","confirmation_timeout_in_minutes":1,"delivery_policy":"","endpoint":"arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack","endpoint_auto_confirms":false,"filter_policy":"","id":"arn:aws:sns:a
[2022-11-16T09:49:25.961] [DEBUG] default - p-northeast-1:574185952087:sample-cdktf-sns:571c83a9-38bf-4df1-997b-9ad21f8b125a","protocol":"lambda","raw_message_delivery":false,"topic_arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns"},"after":null,"after_unknown":{}}},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0ae0250125c72e78a","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.128.0/20","id":"subnet-0ae0250125c72e78a","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Private1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"after":null,"after_unknown":{}}},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-05b3dd43e9d56fd52","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.144.0/20","id":"subnet-05b3dd43e9d56fd52","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Private2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"after":null,"after_unknown":{}}},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-09a6d830e31fa4be1","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.0.0/20","id":"subnet-09a6d830e31fa4be1","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"after":null,"after_unknown":{}}},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0ddb3015e06d74ce8","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.16.0/20","id":"subnet-0ddb3015e06d74ce8","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"after":null,"after_unknown":{}}},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-045b92b482ef76254","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-08b9670156912938d","default_route_table_id":"rtb-01926216c1dc207a6","default_security_group_id":"sg-01b60241c042b1663","dhcp_options_id":"dopt-03da244493f3f476d","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":true,"enable_dns_support":true,"id":"vpc-045b92b482ef76254","instance_tenancy":"default","ipv6_association_id":"","ipv6_cidr_block":"","main_route_table_id":"rtb-01926216c1dc207a6","owner_id":"574185952087","tags":{"Name":"sample-cdktf production"}},"after":null,"after_unknown":{}}}],"prior_state":{"format_version":"0.1","terraform_version":"0.14.8","values":{"root_module":{"resources":[{"address":"aws_alb_target_group.sample-cdktf-alb-target-group","mode":"managed","type":"aws_alb_target_group","name":"sample-cdktf-alb-target-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/96ce3da4d08f7f6b","arn_suffix":"targetgroup/sample-cdktf-alb-target-group/96ce3da4d08f7f6b","deregistration_delay":300,"health_check":[{"enabled":true,"healthy_threshold":3,"interval":30,"matcher":"200","path":"/","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"id":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/96ce3da4d08f7f6b","lambda_multi_value_headers_enabled":false,"load_balancing_algorithm_type":"round_robin","name":"sample-cdktf-alb-target-group","name_prefix":null,"port":80,"protocol":"HTTP","proxy_protocol_v2":false,"slow_start":0,"stickiness":[{"cookie_duration":86400,"enabled":false,"type":"lb_cookie"}],"tags":null,"target_type":"ip","vpc_id":"vpc-045b92b482ef76254"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_cloudwatch_event_rule.sample-cdktf-event-rule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"sample-cdktf-event-rule","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:events:ap-northeast-1:574185952087:rule/capture-ecr-update","description":"Capture each AWS ECR Update","event_pattern":"{\"detail\":{\"action-type\":[\"PUSH\"],\"result\":[\"SUCCESS\"]},\"detail-type\":[\"ECR Image Action\"],\"source\":[\"aws.ecr\"]}","id":"capture-ecr-update","is_enabled":true,"name":"capture-ecr-update","name_prefix":null,"role_arn":"","schedule_expression":"","tags":null}},{"address":"aws_cloudwatch_event_target.sample-cdktf-event-target","mode":"managed","type":"aws_cloudwatch_event_target","name":"sample-cdktf-event-target","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","batch_target":[],"ecs_target":[],"id":"capture-ecr-update-SendToSNS","input":"","input_path":"","input_transformer":[],"kinesis_target":[],"role_arn":"","rule":"capture-ecr-update","run_command_targets":[],"sqs_target":[],"target_id":"SendToSNS"},"depends_on":["aws_cloudwatch_event_rule.sample-cdktf-event-rule","aws_sns_topic.sample-cdktf-sns"]},{"address":"aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-notification-to-slack-log-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:logs:ap-northeast-1:574185952087:log-group:/aws/lambda/Sample-Lambda-Notification-to-Slack:*","id":"/aws/lambda/Sample-Lambda-Notification-to-Slack","kms_key_id":"","name":"/aws/lambda/Sample-Lambda-Notification-to-Slack","name_prefix":null,"retention_in_days":0,"tags":null},"depends_on":["aws_iam_role.lambdaExecutionRole","aws_lambda_function.Sample-Lambda-Notification-to-Slack","aws_s3_bucket.sample-cdktf-s3","aws_s3_bucket_object.notification-to-Slack-distzip"]},{"address":"aws_ecr_repository.sample-cdktf-repository","mode":"managed","type":"aws_ecr_repository","name":"sample-cdktf-repository","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ecr:ap-northeast-1:574185952087:repository/project/sample-cdktf","id":"project/sample-cdktf","image_scanning_configuration":[{"scan_on_push":false}],"image_tag_mutability":"MUTABLE","name":"project/sample-cdktf","registry_id":"574185952087","repository_url":"574185952087.dkr.ecr.ap-northeast-1.amazonaws.com/project/sample-cdktf","tags":null,"timeouts":null}},{"address":"aws_ecs_cluster.sample-cdktf-cluster","mode":"managed","type":"aws_ecs_cluster","name":"sample-cdktf-cluster","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":
[2022-11-16T09:49:25.962] [DEBUG] default - "arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster","capacity_providers":null,"default_capacity_provider_strategy":[],"id":"arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster","name":"sample-cdktf-cluster","setting":[],"tags":null}},{"address":"aws_ecs_task_definition.sample-cdktf-task","mode":"managed","type":"aws_ecs_task_definition","name":"sample-cdktf-task","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ecs:ap-northeast-1:574185952087:task-definition/task-for-cdktf:38","container_definitions":"[{\"cpu\":0,\"environment\":[],\"essential\":true,\"image\":\"574185952087.dkr.ecr.ap-northeast-1.amazonaws.com/project/sample-cdktf:latest\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"/aws/ecs/sample-cdktf-task\",\"awslogs-region\":\"ap-northeast-1\",\"awslogs-stream-prefix\":\"ecs\"}},\"mountPoints\":[],\"name\":\"sample-cdktf-container\",\"portMappings\":[{\"containerPort\":9000,\"hostPort\":9000,\"protocol\":\"tcp\"}],\"volumesFrom\":[]}]","cpu":"512","execution_role_arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskExecutionRole","family":"task-for-cdktf","id":"task-for-cdktf","inference_accelerator":[],"ipc_mode":"","memory":"1024","network_mode":"awsvpc","pid_mode":"","placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":["FARGATE"],"revision":38,"tags":null,"task_role_arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskRole","volume":[]},"depends_on":["aws_ecr_repository.sample-cdktf-repository","aws_iam_role.ecsTaskExecutionRole","aws_iam_role.ecsTaskRole"]},{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"allocation_id":null,"associate_with_private_ip":null,"association_id":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-0059b36f2e66b30d0","instance":"","network_interface":"","private_dns":null,"private_ip":"","public_dns":"ec2-35-79-243-233.ap-northeast-1.compute.amazonaws.com","public_ip":"35.79.243.233","public_ipv4_pool":"amazon","tags":null,"timeouts":null,"vpc":true}},{"address":"aws_iam_policy.ecs-task-execution-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::574185952087:policy/ecs-task-execution-policy","description":"Policy for updating ECS tasks","id":"arn:aws:iam::574185952087:policy/ecs-task-execution-policy","name":"ecs-task-execution-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},{"address":"aws_iam_policy.ecs-task-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::574185952087:policy/ecs-task-policy","description":"Policy for updating ECS tasks","id":"arn:aws:iam::574185952087:policy/ecs-task-policy","name":"ecs-task-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecs:DescribeServices\",\n              \"ecs:CreateTaskSet\",\n              \"ecs:UpdateServicePrimaryTaskSet\",\n              \"ecs:DeleteTaskSet\",\n              \"elasticloadbalancing:DescribeTargetGroups\",\n              \"elasticloadbalancing:DescribeListeners\",\n              \"elasticloadbalancing:ModifyListener\",\n              \"elasticloadbalancing:DescribeRules\",\n              \"elasticloadbalancing:ModifyRule\",\n              \"lambda:InvokeFunction\",\n              \"cloudwatch:DescribeAlarms\",\n              \"sns:Publish\",\n              \"s3:GetObject\",\n              \"s3:GetObjectVersion\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},{"address":"aws_iam_policy.lambda-logging","mode":"managed","type":"aws_iam_policy","name":"lambda-logging","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging","description":"IAM policy for logging from a lambda","id":"arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging","name":"sample-cdktf-lambda-logging","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"iam:PassRole\",\n              \"ecs:RegisterTaskDefinition\",\n              \"ecs:UpdateService\",\n              \"logs:CreateLogGroup\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\",\n              \"arn:aws:logs:*:*:*\",\n              \"arn:aws:ecs:*:*:*\",\n              \"arn:aws:iam::445682127642:role/sample-cdktf-ecsTaskExecutionRole\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},{"address":"aws_iam_role.ecsTaskExecutionRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskExecutionRole","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-11-16T00:46:27Z","description":"","force_detach_policies":false,"id":"sample-cdktf-ecsTaskExecutionRole","max_session_duration":3600,"name":"sample-cdktf-ecsTaskExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null,"unique_id":"AROAYLMBGKNLSVDT6JCPW"}},{"address":"aws_iam_role.ecsTaskRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskRole","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskRole","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-11-16T00:46:27Z","description":"","force_detach_policies":false,"id":"sample-cdktf-ecsTaskRole","max_session_duration":3600,"name":"sample-cdktf-ecsTaskRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null,"unique_id":"AROAYLMBGKNL7NJASLYRI"}},{"address":"aws_iam_role.lambdaExecutionRole","mode":"managed","type":"aws_iam_role","name":"lambdaExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::574185952087:role/sample-cdktf-lambdaExecutionRole","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"lambda.amazonaws.com\",\"ecs-tasks.amazonaws.com\"]},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-11-16T00:46:27Z","description":"","force_detach_policies":false,"id":"sample-cdktf-lambdaExecutionRole","max_session_duration":3600,"name":"sample-cdktf-lambdaExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null,"unique_id":"AROAYLMBGKNLVDGDVRBWS"}},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-execution-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_versi
[2022-11-16T09:49:25.962] [DEBUG] default - on":0,"values":{"id":"sample-cdktf-ecsTaskExecutionRole-20221116004630079200000002","policy_arn":"arn:aws:iam::574185952087:policy/ecs-task-execution-policy","role":"sample-cdktf-ecsTaskExecutionRole"},"depends_on":["aws_iam_policy.ecs-task-execution-policy","aws_iam_role.ecsTaskExecutionRole"]},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"sample-cdktf-ecsTaskRole-20221116004629667400000001","policy_arn":"arn:aws:iam::574185952087:policy/ecs-task-policy","role":"sample-cdktf-ecsTaskRole"},"depends_on":["aws_iam_policy.ecs-task-policy","aws_iam_role.ecsTaskRole"]},{"address":"aws_iam_role_policy_attachment.attach-lambda-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-lambda-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"sample-cdktf-lambdaExecutionRole-20221116004630297700000003","policy_arn":"arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging","role":"sample-cdktf-lambdaExecutionRole"},"depends_on":["aws_iam_policy.lambda-logging","aws_iam_role.lambdaExecutionRole"]},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-0cc1f41a6e7a3ffd6","id":"igw-0cc1f41a6e7a3ffd6","owner_id":"574185952087","tags":{"Name":"igw-production sample-cdktf"},"vpc_id":"vpc-045b92b482ef76254"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_lambda_function.Sample-Lambda-Notification-to-Slack","mode":"managed","type":"aws_lambda_function","name":"Sample-Lambda-Notification-to-Slack","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack","dead_letter_config":[],"description":"","environment":[{"variables":{"SLACK_API_TOKEN":"xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp","SLACK_CHANNEL":"C049CPNKHMJ"}}],"file_system_config":[],"filename":null,"function_name":"Sample-Lambda-Notification-to-Slack","handler":"index.handler","id":"Sample-Lambda-Notification-to-Slack","invoke_arn":"arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack/invocations","kms_key_arn":"","last_modified":"2022-11-16T00:46:39.901+0000","layers":null,"memory_size":128,"publish":false,"qualified_arn":"arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack:$LATEST","reserved_concurrent_executions":-1,"role":"arn:aws:iam::574185952087:role/sample-cdktf-lambdaExecutionRole","runtime":"nodejs12.x","s3_bucket":"sample-cdktf-s3","s3_key":"notification-to-Slack-dist.zip","s3_object_version":null,"source_code_hash":"tCCpjM8bYGUMlYE1itasARiG+ZOmfdgQJWCcxS1eRIg=","source_code_size":13887229,"tags":null,"timeout":30,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"depends_on":["aws_iam_role.lambdaExecutionRole","aws_s3_bucket.sample-cdktf-s3","aws_s3_bucket_object.notification-to-Slack-distzip"]},{"address":"aws_lambda_permission.permission-to-sns","mode":"managed","type":"aws_lambda_permission","name":"permission-to-sns","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"Sample-Lambda-Notification-to-Slack","id":"AllowExecutionFromSNS","principal":"sns.amazonaws.com","qualifier":"","source_account":null,"source_arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","statement_id":"AllowExecutionFromSNS","statement_id_prefix":null},"depends_on":["aws_iam_role.lambdaExecutionRole","aws_lambda_function.Sample-Lambda-Notification-to-Slack","aws_s3_bucket.sample-cdktf-s3","aws_s3_bucket_object.notification-to-Slack-distzip","aws_sns_topic.sample-cdktf-sns"]},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"rtb-00c8ff7db39b6ae47","owner_id":"574185952087","propagating_vgws":[],"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"igw-0cc1f41a6e7a3ffd6","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Public rtb"},"vpc_id":"vpc-045b92b482ef76254"},"depends_on":["aws_internet_gateway.sample-cdktf-igw-production","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-02eb9235372a5324c","route_table_id":"rtb-00c8ff7db39b6ae47","subnet_id":"subnet-09a6d830e31fa4be1"},"depends_on":["aws_internet_gateway.sample-cdktf-igw-production","aws_route_table.sample-cdktf-public-rtb","aws_subnet.sample-cdktf-public-subnet1","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-0e35e529d0a14abc3","route_table_id":"rtb-00c8ff7db39b6ae47","subnet_id":"subnet-0ddb3015e06d74ce8"},"depends_on":["aws_internet_gateway.sample-cdktf-igw-production","aws_route_table.sample-cdktf-public-rtb","aws_subnet.sample-cdktf-public-subnet2","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-02eb9235372a5324c","route_table_id":"rtb-00c8ff7db39b6ae47","subnet_id":"subnet-09a6d830e31fa4be1"},"depends_on":["aws_internet_gateway.sample-cdktf-igw-production","aws_route_table.sample-cdktf-public-rtb","aws_subnet.sample-cdktf-public-subnet1","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_s3_bucket.sample-cdktf-s3","mode":"managed","type":"aws_s3_bucket","name":"sample-cdktf-s3","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acceleration_status":"","acl":"private","arn":"arn:aws:s3:::sample-cdktf-s3","bucket":"sample-cdktf-s3","bucket_domain_name":"sample-cdktf-s3.s3.amazonaws.com","bucket_prefix":null,"bucket_regional_domain_name":"sample-cdktf-s3.s3.ap-northeast-1.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[],"hosted_zone_id":"Z2M4EHUR26P7ZW","id":"sample-cdktf-s3","lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":null,"region":"ap-northeast-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[],"tags":null,"versioning":[{"enabled":false,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null}},{"address":"aws_s3_bucket_object.notification-to-Slack-distzip","mode":"managed","type":"aws_s3_bucket_object","name":"notification-to-Slack-distzip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","bucket":"sample-cdktf-s3","cache_control":"","content":null,"content_base64":null,"content_disposition":"","content_encoding":"","content_language":"","content_type":"zip","etag":"4937147d8b730bb24484f81f57592f61","force_destroy":false,"id":"notification-to-Slack-dist.zip","key":"notification-to-Slack-dist.zip","kms_key_id":null,"metadata":null,"object_lock_legal_hold_status":"","object_lock_mode":"","object_lock_retain_until_date":""
[2022-11-16T09:49:25.962] [DEBUG] default - ,"server_side_encryption":"","source":"/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip","storage_class":"STANDARD","tags":null,"version_id":"","website_redirect":""},"depends_on":["aws_s3_bucket.sample-cdktf-s3"]},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:security-group/sg-039556800e9cab6e1","description":"Managed by Terraform","egress":[],"id":"sg-039556800e9cab6e1","ingress":[],"name":"sample-cdktf","name_prefix":null,"owner_id":"574185952087","revoke_rules_on_delete":false,"tags":{"Name":"sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"id":"sgrule-850402267","ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_group_id":"sg-039556800e9cab6e1","self":false,"source_security_group_id":null,"to_port":0,"type":"egress"},"depends_on":["aws_security_group.sample-cdktf-security-group"]},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":80,"id":"sgrule-71704278","ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_group_id":"sg-039556800e9cab6e1","self":false,"source_security_group_id":null,"to_port":80,"type":"ingress"},"depends_on":["aws_security_group.sample-cdktf-security-group"]},{"address":"aws_sns_topic.sample-cdktf-sns","mode":"managed","type":"aws_sns_topic","name":"sample-cdktf-sns","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"application_failure_feedback_role_arn":"","application_success_feedback_role_arn":"","application_success_feedback_sample_rate":null,"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","delivery_policy":"","display_name":"","http_failure_feedback_role_arn":"","http_success_feedback_role_arn":"","http_success_feedback_sample_rate":null,"id":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","kms_master_key_id":"","lambda_failure_feedback_role_arn":"","lambda_success_feedback_role_arn":"","lambda_success_feedback_sample_rate":null,"name":"sample-cdktf-sns","name_prefix":null,"policy":"{\"Version\":\"2008-10-17\",\"Id\":\"__default_policy_ID\",\"Statement\":[{\"Sid\":\"__default_statement_ID\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Action\":[\"SNS:GetTopicAttributes\",\"SNS:SetTopicAttributes\",\"SNS:AddPermission\",\"SNS:RemovePermission\",\"SNS:DeleteTopic\",\"SNS:Subscribe\",\"SNS:ListSubscriptionsByTopic\",\"SNS:Publish\"],\"Resource\":\"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns\",\"Condition\":{\"StringEquals\":{\"AWS:SourceOwner\":\"574185952087\"}}}]}","sqs_failure_feedback_role_arn":"","sqs_success_feedback_role_arn":"","sqs_success_feedback_sample_rate":null,"tags":null}},{"address":"aws_sns_topic_policy.sample-cdktf-sns-policy","mode":"managed","type":"aws_sns_topic_policy","name":"sample-cdktf-sns-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","id":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"events.amazonaws.com\"},\"Action\":\"SNS:Publish\",\"Resource\":\"*\"}]}"},"depends_on":["aws_sns_topic.sample-cdktf-sns"]},{"address":"aws_sns_topic_subscription.sample-cdktf-sns-subscription","mode":"managed","type":"aws_sns_topic_subscription","name":"sample-cdktf-sns-subscription","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:571c83a9-38bf-4df1-997b-9ad21f8b125a","confirmation_timeout_in_minutes":1,"delivery_policy":"","endpoint":"arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack","endpoint_auto_confirms":false,"filter_policy":"","id":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:571c83a9-38bf-4df1-997b-9ad21f8b125a","protocol":"lambda","raw_message_delivery":false,"topic_arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns"},"depends_on":["aws_iam_role.lambdaExecutionRole","aws_lambda_function.Sample-Lambda-Notification-to-Slack","aws_s3_bucket.sample-cdktf-s3","aws_s3_bucket_object.notification-to-Slack-distzip","aws_sns_topic.sample-cdktf-sns"]},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0ae0250125c72e78a","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.128.0/20","id":"subnet-0ae0250125c72e78a","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Private1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-05b3dd43e9d56fd52","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.144.0/20","id":"subnet-05b3dd43e9d56fd52","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Private2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-09a6d830e31fa4be1","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.0.0/20","id":"subnet-09a6d830e31fa4be1","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0ddb3015e06d74ce8","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.16.0/20","id":"subnet-0ddb3015e06d74ce8","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,
[2022-11-16T09:49:25.962] [DEBUG] default - "values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-045b92b482ef76254","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-08b9670156912938d","default_route_table_id":"rtb-01926216c1dc207a6","default_security_group_id":"sg-01b60241c042b1663","dhcp_options_id":"dopt-03da244493f3f476d","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":true,"enable_dns_support":true,"id":"vpc-045b92b482ef76254","instance_tenancy":"default","ipv6_association_id":"","ipv6_cidr_block":"","main_route_table_id":"rtb-01926216c1dc207a6","owner_id":"574185952087","tags":{"Name":"sample-cdktf production"}}}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","version_constraint":"~\u003e 2.0","expressions":{"region":{"constant_value":"ap-northeast-1"}}}},"root_module":{"resources":[{"address":"aws_alb.sample-cdktf-alb","mode":"managed","type":"aws_alb","name":"sample-cdktf-alb","provider_config_key":"aws","expressions":{"enable_deletion_protection":{"constant_value":false},"enable_http2":{"constant_value":true},"internal":{"constant_value":false},"ip_address_type":{"constant_value":"ipv4"},"load_balancer_type":{"constant_value":"application"},"name":{"constant_value":"sample-cdktf-alb"},"security_groups":{"constant_value":["${aws_security_group.sample-cdktf-security-group.id}","${aws_vpc.sample-cdktf-vpc.default_security_group_id}"],"references":["aws_security_group.sample-cdktf-security-group","aws_vpc.sample-cdktf-vpc"]},"subnets":{"constant_value":["${aws_subnet.sample-cdktf-public-subnet1.id}","${aws_subnet.sample-cdktf-public-subnet2.id}"],"references":["aws_subnet.sample-cdktf-public-subnet1","aws_subnet.sample-cdktf-public-subnet2"]}},"schema_version":0},{"address":"aws_alb_listener.sample-cdktf-alb-listener","mode":"managed","type":"aws_alb_listener","name":"sample-cdktf-alb-listener","provider_config_key":"aws","expressions":{"default_action":[{"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]},"type":{"constant_value":"forward"}}],"load_balancer_arn":{"constant_value":"${aws_alb.sample-cdktf-alb.arn}","references":["aws_alb.sample-cdktf-alb"]},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"}},"schema_version":0},{"address":"aws_alb_listener_rule.sample-cdktf-alb-listener-rule","mode":"managed","type":"aws_alb_listener_rule","name":"sample-cdktf-alb-listener-rule","provider_config_key":"aws","expressions":{"action":[{"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]},"type":{"constant_value":"forward"}}],"condition":[{"field":{"constant_value":"path-pattern"},"values":{"constant_value":["*"]}}],"listener_arn":{"constant_value":"${aws_alb_listener.sample-cdktf-alb-listener.arn}","references":["aws_alb_listener.sample-cdktf-alb-listener"]},"priority":{"constant_value":100}},"schema_version":0},{"address":"aws_alb_target_group.sample-cdktf-alb-target-group","mode":"managed","type":"aws_alb_target_group","name":"sample-cdktf-alb-target-group","provider_config_key":"aws","expressions":{"health_check":[{"interval":{"constant_value":30},"path":{"constant_value":"/"},"port":{"constant_value":"traffic-port"},"protocol":{"constant_value":"HTTP"},"timeout":{"constant_value":5},"unhealthy_threshold":{"constant_value":2}}],"name":{"constant_value":"sample-cdktf-alb-target-group"},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"},"target_type":{"constant_value":"ip"},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_cloudwatch_event_rule.sample-cdktf-event-rule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"sample-cdktf-event-rule","provider_config_key":"aws","expressions":{"description":{"constant_value":"Capture each AWS ECR Update"},"event_pattern":{"constant_value":"{\n        \"source\": [\"aws.ecr\"],\n        \"detail-type\": [\"ECR Image Action\"],\n        \"detail\": {\n          \"action-type\": [\"PUSH\"],\n          \"result\": [\"SUCCESS\"]\n        }\n      }"},"name":{"constant_value":"capture-ecr-update"}},"schema_version":0},{"address":"aws_cloudwatch_event_target.sample-cdktf-event-target","mode":"managed","type":"aws_cloudwatch_event_target","name":"sample-cdktf-event-target","provider_config_key":"aws","expressions":{"arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"rule":{"constant_value":"${aws_cloudwatch_event_rule.sample-cdktf-event-rule.name}","references":["aws_cloudwatch_event_rule.sample-cdktf-event-rule"]},"target_id":{"constant_value":"SendToSNS"}},"schema_version":0},{"address":"aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-notification-to-slack-log-group","provider_config_key":"aws","expressions":{"name":{"constant_value":"/aws/lambda/${aws_lambda_function.Sample-Lambda-Notification-to-Slack.function_name}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]}},"schema_version":0},{"address":"aws_ecr_repository.sample-cdktf-repository","mode":"managed","type":"aws_ecr_repository","name":"sample-cdktf-repository","provider_config_key":"aws","expressions":{"name":{"constant_value":"project/sample-cdktf"}},"schema_version":0},{"address":"aws_ecs_cluster.sample-cdktf-cluster","mode":"managed","type":"aws_ecs_cluster","name":"sample-cdktf-cluster","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf-cluster"}},"schema_version":0},{"address":"aws_ecs_service.sample-cdktf-ecs-service","mode":"managed","type":"aws_ecs_service","name":"sample-cdktf-ecs-service","provider_config_key":"aws","expressions":{"cluster":{"constant_value":"${aws_ecs_cluster.sample-cdktf-cluster.id}","references":["aws_ecs_cluster.sample-cdktf-cluster"]},"deployment_maximum_percent":{"constant_value":200},"deployment_minimum_healthy_percent":{"constant_value":100},"desired_count":{"constant_value":1},"launch_type":{"constant_value":"FARGATE"},"load_balancer":[{"container_name":{"constant_value":"sample-cdktf-container"},"container_port":{"constant_value":9000},"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]}}],"name":{"constant_value":"sample-cdktf-ecs-service"},"network_configuration":[{"security_groups":{"constant_value":["${aws_vpc.sample-cdktf-vpc.default_security_group_id}"],"references":["aws_vpc.sample-cdktf-vpc"]},"subnets":{"constant_value":["${aws_subnet.sample-cdktf-private-subnet1.id}"],"references":["aws_subnet.sample-cdktf-private-subnet1"]}}],"platform_version":{"constant_value":"LATEST"},"task_definition":{"constant_value":"${aws_ecs_task_definition.sample-cdktf-task.id}","references":["aws_ecs_task_definition.sample-cdktf-task"]}},"schema_version":0},{"address":"aws_ecs_task_definition.sample-cdktf-task","mode":"managed","type":"aws_ecs_task_definition","name":"sample-cdktf-task","provider_config_key":"aws","expressions":{"container_definitions":{"constant_value":"[\n      {\n        \"essential\":    true,\n        \"name\":         \"sample-cdktf-container\",\n        \"image\":        \"${aws_ecr_repository.sample-cdktf-repository.repository_url}:latest\",\n        \"portMappings\": [\n          {\n            \"hostPort\":      9000,\n            \"protocol\":      \"tcp\",\n            \"containerPort\": 9000\n          }\n        ],\n        \"logConfiguration\": {\n          \"logDriver\": \"awslogs\",\n          \"options\": {\n            \"awslogs-group\":         \"/aws/ecs/sample-cdktf-task\",\n            \"awslogs-stream-prefix\": \"ecs\",\n            \"awslogs-region\":        \"ap-northeast-1\"\n          }\n        }\n      }\n    ]","references":["aws_ecr_repository.sample-cdktf-repository"]},"cpu":{"constant_value":"512"},"execution_role_arn":{"consta
[2022-11-16T09:49:25.962] [DEBUG] default - nt_value":"${aws_iam_role.ecsTaskExecutionRole.arn}","references":["aws_iam_role.ecsTaskExecutionRole"]},"family":{"constant_value":"task-for-cdktf"},"memory":{"constant_value":"1024"},"network_mode":{"constant_value":"awsvpc"},"requires_compatibilities":{"constant_value":["FARGATE"]},"task_role_arn":{"constant_value":"${aws_iam_role.ecsTaskRole.arn}","references":["aws_iam_role.ecsTaskRole"]}},"schema_version":1},{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_config_key":"aws","expressions":{"vpc":{"constant_value":true}},"schema_version":0},{"address":"aws_iam_policy.ecs-task-execution-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-execution-policy","provider_config_key":"aws","expressions":{"description":{"constant_value":"Policy for updating ECS tasks"},"name":{"constant_value":"ecs-task-execution-policy"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_policy.ecs-task-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-policy","provider_config_key":"aws","expressions":{"description":{"constant_value":"Policy for updating ECS tasks"},"name":{"constant_value":"ecs-task-policy"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecs:DescribeServices\",\n              \"ecs:CreateTaskSet\",\n              \"ecs:UpdateServicePrimaryTaskSet\",\n              \"ecs:DeleteTaskSet\",\n              \"elasticloadbalancing:DescribeTargetGroups\",\n              \"elasticloadbalancing:DescribeListeners\",\n              \"elasticloadbalancing:ModifyListener\",\n              \"elasticloadbalancing:DescribeRules\",\n              \"elasticloadbalancing:ModifyRule\",\n              \"lambda:InvokeFunction\",\n              \"cloudwatch:DescribeAlarms\",\n              \"sns:Publish\",\n              \"s3:GetObject\",\n              \"s3:GetObjectVersion\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_policy.lambda-logging","mode":"managed","type":"aws_iam_policy","name":"lambda-logging","provider_config_key":"aws","expressions":{"description":{"constant_value":"IAM policy for logging from a lambda"},"name":{"constant_value":"sample-cdktf-lambda-logging"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"iam:PassRole\",\n              \"ecs:RegisterTaskDefinition\",\n              \"ecs:UpdateService\",\n              \"logs:CreateLogGroup\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\",\n              \"arn:aws:logs:*:*:*\",\n              \"arn:aws:ecs:*:*:*\",\n              \"arn:aws:iam::445682127642:role/sample-cdktf-ecsTaskExecutionRole\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_role.ecsTaskExecutionRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskExecutionRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\":    \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-ecsTaskExecutionRole"}},"schema_version":0},{"address":"aws_iam_role.ecsTaskRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\": \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n          },\n          \"Effect\": \"Allow\",\n          \"Sid\": \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-ecsTaskRole"}},"schema_version":0},{"address":"aws_iam_role.lambdaExecutionRole","mode":"managed","type":"aws_iam_role","name":"lambdaExecutionRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": [\n                \"lambda.amazonaws.com\",\n                \"ecs-tasks.amazonaws.com\"\n              ]\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-lambdaExecutionRole"}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-execution-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-execution-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.ecs-task-execution-policy.arn}","references":["aws_iam_policy.ecs-task-execution-policy"]},"role":{"constant_value":"${aws_iam_role.ecsTaskExecutionRole.name}","references":["aws_iam_role.ecsTaskExecutionRole"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.ecs-task-policy.arn}","references":["aws_iam_policy.ecs-task-policy"]},"role":{"constant_value":"${aws_iam_role.ecsTaskRole.name}","references":["aws_iam_role.ecsTaskRole"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-lambda-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-lambda-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.lambda-logging.arn}","references":["aws_iam_policy.lambda-logging"]},"role":{"constant_value":"${aws_iam_role.lambdaExecutionRole.name}","references":["aws_iam_role.lambdaExecutionRole"]}},"schema_version":0},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_config_key":"aws","expressions":{"tags":{"constant_value":{"Name":"igw-production sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_lambda_function.Sample-Lambda-Notification-to-Slack","mode":"managed","type":"aws_lambda_function","name":"Sample-Lambda-Notification-to-Slack","provider_config_key":"aws","expressions":{"environment":[{"variables":{"constant_value":{"SLACK_API_TOKEN":"xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp","SLACK_CHANNEL":"C049CPNKHMJ"}}}],"function_name":{"constant_value":"Sample-Lambda-Notification-to-Slack"},"handler":{"constant_value":"index.handler"},"role":{"constant_value":"${aws_iam_role.lambdaExecutionRole.arn}","references":["aws_iam_role.lambdaExecutionRole"]},"runtime":{"constant_value":"nodejs12.x"},"s3_bucket":{"constant_value":"${aws_s3_bucket.sample-cdktf-s3.bucket}","references":["aws_s3_bucket.sample-cdktf-s3"]},"s3_key":{"constant_value":"${aws_s3_bucket_object.notification-to-Slack-distzip.key}","references":["aws_s3_
[2022-11-16T09:49:25.962] [DEBUG] default - bucket_object.notification-to-Slack-distzip"]},"timeout":{"constant_value":30}},"schema_version":0},{"address":"aws_lambda_permission.permission-to-sns","mode":"managed","type":"aws_lambda_permission","name":"permission-to-sns","provider_config_key":"aws","expressions":{"action":{"constant_value":"lambda:InvokeFunction"},"function_name":{"constant_value":"${aws_lambda_function.Sample-Lambda-Notification-to-Slack.function_name}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]},"principal":{"constant_value":"sns.amazonaws.com"},"source_arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"statement_id":{"constant_value":"AllowExecutionFromSNS"}},"schema_version":0},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_config_key":"aws","expressions":{"allocation_id":{"constant_value":"${aws_eip.sample-cdktf-eip.id}","references":["aws_eip.sample-cdktf-eip"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]},"tags":{"constant_value":{"Name":"sample-cdktf nat-gateway-production"}}},"schema_version":0},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_config_key":"aws","expressions":{"route":{"constant_value":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"${aws_nat_gateway.sample-cdktf-nat-gateway.id}","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"references":["aws_nat_gateway.sample-cdktf-nat-gateway"]},"tags":{"constant_value":{"Name":"sample-cdktf Private rtb"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_config_key":"aws","expressions":{"route":{"constant_value":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"${aws_internet_gateway.sample-cdktf-igw-production.id}","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"references":["aws_internet_gateway.sample-cdktf-igw-production"]},"tags":{"constant_value":{"Name":"sample-cdktf Public rtb"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-private-rtb.id}","references":["aws_route_table.sample-cdktf-private-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-private-subnet1.id}","references":["aws_subnet.sample-cdktf-private-subnet1"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-private-rtb.id}","references":["aws_route_table.sample-cdktf-private-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-private-subnet2.id}","references":["aws_subnet.sample-cdktf-private-subnet2"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet2.id}","references":["aws_subnet.sample-cdktf-public-subnet2"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]}},"schema_version":0},{"address":"aws_s3_bucket.sample-cdktf-s3","mode":"managed","type":"aws_s3_bucket","name":"sample-cdktf-s3","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"sample-cdktf-s3"},"region":{"constant_value":"ap-northeast-1"}},"schema_version":0},{"address":"aws_s3_bucket_object.notification-to-Slack-distzip","mode":"managed","type":"aws_s3_bucket_object","name":"notification-to-Slack-distzip","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"${aws_s3_bucket.sample-cdktf-s3.bucket}","references":["aws_s3_bucket.sample-cdktf-s3"]},"content_type":{"constant_value":"zip"},"key":{"constant_value":"notification-to-Slack-dist.zip"},"source":{"constant_value":"/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip"}},"schema_version":0},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf"},"tags":{"constant_value":{"Name":"sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":0},"protocol":{"constant_value":"all"},"security_group_id":{"constant_value":"${aws_security_group.sample-cdktf-security-group.id}","references":["aws_security_group.sample-cdktf-security-group"]},"to_port":{"constant_value":0},"type":{"constant_value":"egress"}},"schema_version":2},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":80},"protocol":{"constant_value":"tcp"},"security_group_id":{"constant_value":"${aws_security_group.sample-cdktf-security-group.id}","references":["aws_security_group.sample-cdktf-security-group"]},"to_port":{"constant_value":80},"type":{"constant_value":"ingress"}},"schema_version":2},{"address":"aws_sns_topic.sample-cdktf-sns","mode":"managed","type":"aws_sns_topic","name":"sample-cdktf-sns","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf-sns"}},"schema_version":0},{"address":"aws_sns_topic_policy.sample-cdktf-sns-policy","mode":"managed","type":"aws_sns_topic_policy","name":"sample-cdktf-sns-policy","provider_config_key":"aws","expressions":{"arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"policy":{"constant_value":"{\n        \"Versio
[2022-11-16T09:49:25.962] [DEBUG] default - n\":   \"2012-10-17\",\n        \"Statement\": {\n          \"Effect\": \"Allow\",\n          \"Sid\":    \"\",\n          \"Principal\": {\n            \"Service\": \"events.amazonaws.com\"\n          },\n          \"Action\": [\n            \"SNS:Publish\"\n          ],\n          \"Resource\": [\n            \"*\"\n          ]\n        }\n      }"}},"schema_version":0},{"address":"aws_sns_topic_subscription.sample-cdktf-sns-subscription","mode":"managed","type":"aws_sns_topic_subscription","name":"sample-cdktf-sns-subscription","provider_config_key":"aws","expressions":{"endpoint":{"constant_value":"${aws_lambda_function.Sample-Lambda-Notification-to-Slack.arn}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]},"protocol":{"constant_value":"lambda"},"topic_arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]}},"schema_version":0},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1a"},"cidr_block":{"constant_value":"10.0.128.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Private1 AZ1a sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1c"},"cidr_block":{"constant_value":"10.0.144.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Private2 AZ1c sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1a"},"cidr_block":{"constant_value":"10.0.0.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Public1 AZ1a sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1c"},"cidr_block":{"constant_value":"10.0.16.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Public2 AZ1c sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_config_key":"aws","expressions":{"cidr_block":{"constant_value":"10.0.0.0/16"},"enable_dns_hostnames":{"constant_value":true},"tags":{"constant_value":{"Name":"sample-cdktf production"}}},"schema_version":1}]}}}

[2022-11-16T09:49:51.269] [DEBUG] default - [0m[1maws_sns_topic_policy.sample-cdktf-sns-policy: Destroying... [id=arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns][0m[0m
[0m[1maws_route_table_association.sample-cdktf-public-rtb1: Destroying... [id=rtbassoc-02eb9235372a5324c][0m[0m
[0m[1maws_route_table_association.sample-cdktf-public-rtb-association1: Destroying... [id=rtbassoc-02eb9235372a5324c][0m[0m
[0m[1maws_route_table_association.sample-cdktf-public-rtb-association2: Destroying... [id=rtbassoc-0e35e529d0a14abc3][0m[0m
[0m[1maws_ecs_cluster.sample-cdktf-cluster: Destroying... [id=arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster][0m[0m
[0m[1maws_subnet.sample-cdktf-private-subnet1: Destroying... [id=subnet-0ae0250125c72e78a][0m[0m
[0m[1maws_eip.sample-cdktf-eip: Destroying... [id=eipalloc-0059b36f2e66b30d0][0m[0m
[0m[1maws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group: Destroying... [id=/aws/lambda/Sample-Lambda-Notification-to-Slack][0m[0m
[0m[1maws_subnet.sample-cdktf-private-subnet2: Destroying... [id=subnet-05b3dd43e9d56fd52][0m[0m
[0m[1maws_ecs_task_definition.sample-cdktf-task: Destroying... [id=task-for-cdktf][0m[0m

[2022-11-16T09:49:51.400] [DEBUG] default - [0m[1maws_sns_topic_policy.sample-cdktf-sns-policy: Destruction complete after 0s[0m[0m

[2022-11-16T09:49:51.471] [DEBUG] default - [0m[1maws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group: Destruction complete after 0s[0m[0m
[0m[1maws_ecs_task_definition.sample-cdktf-task: Destruction complete after 0s[0m[0m
[0m[1maws_iam_role_policy_attachment.attach-lambda-policy: Destroying... [id=sample-cdktf-lambdaExecutionRole-20221116004630297700000003][0m[0m
[0m[1maws_sns_topic_subscription.sample-cdktf-sns-subscription: Destroying... [id=arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:571c83a9-38bf-4df1-997b-9ad21f8b125a][0m[0m

[2022-11-16T09:49:51.567] [DEBUG] default - [0m[1maws_cloudwatch_event_target.sample-cdktf-event-target: Destroying... [id=capture-ecr-update-SendToSNS][0m[0m
[0m[1maws_route_table_association.sample-cdktf-public-rtb-association2: Destruction complete after 1s[0m[0m
[0m[1maws_route_table_association.sample-cdktf-public-rtb-association1: Destruction complete after 1s[0m[0m
[0m[1maws_route_table_association.sample-cdktf-public-rtb1: Destruction complete after 1s[0m[0m
[0m[1maws_iam_role_policy_attachment.attach-ecs-task-execution-policy: Destroying... [id=sample-cdktf-ecsTaskExecutionRole-20221116004630079200000002][0m[0m

[2022-11-16T09:49:51.649] [DEBUG] default - [0m[1maws_security_group_rule.sample-cdktf-security-ingress: Destroying... [id=sgrule-71704278][0m[0m
[0m[1maws_alb_target_group.sample-cdktf-alb-target-group: Destroying... [id=arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/96ce3da4d08f7f6b][0m[0m
[0m[1maws_ecs_cluster.sample-cdktf-cluster: Destruction complete after 1s[0m[0m
[0m[1maws_iam_role_policy_attachment.attach-ecs-task-policy: Destroying... [id=sample-cdktf-ecsTaskRole-20221116004629667400000001][0m[0m

[2022-11-16T09:49:51.808] [DEBUG] default - [0m[1maws_sns_topic_subscription.sample-cdktf-sns-subscription: Destruction complete after 1s[0m[0m
[0m[1maws_security_group_rule.sample-cdktf-security-egress: Destroying... [id=sgrule-850402267][0m[0m

[2022-11-16T09:49:51.931] [DEBUG] default - [0m[1maws_alb_target_group.sample-cdktf-alb-target-group: Destruction complete after 0s[0m[0m
[0m[1maws_cloudwatch_event_target.sample-cdktf-event-target: Destruction complete after 1s[0m[0m
[0m[1maws_lambda_permission.permission-to-sns: Destroying... [id=AllowExecutionFromSNS][0m[0m
[0m[1maws_ecr_repository.sample-cdktf-repository: Destroying... [id=project/sample-cdktf][0m[0m
[0m[1maws_subnet.sample-cdktf-private-subnet2: Destruction complete after 1s[0m[0m
[0m[1maws_subnet.sample-cdktf-public-subnet2: Destroying... [id=subnet-0ddb3015e06d74ce8][0m[0m

[2022-11-16T09:49:52.007] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-private-subnet1: Destruction complete after 1s[0m[0m
[0m[1maws_subnet.sample-cdktf-public-subnet1: Destroying... [id=subnet-09a6d830e31fa4be1][0m[0m

[2022-11-16T09:49:52.206] [DEBUG] default - [0m[1maws_lambda_permission.permission-to-sns: Destruction complete after 0s[0m[0m

[2022-11-16T09:49:52.250] [DEBUG] default - [0m[1maws_ecr_repository.sample-cdktf-repository: Destruction complete after 0s[0m[0m

[2022-11-16T09:49:52.278] [DEBUG] default - [0m[1maws_iam_role_policy_attachment.attach-lambda-policy: Destruction complete after 1s[0m[0m
[0m[1maws_cloudwatch_event_rule.sample-cdktf-event-rule: Destroying... [id=capture-ecr-update][0m[0m
[0m[1maws_route_table.sample-cdktf-public-rtb: Destroying... [id=rtb-00c8ff7db39b6ae47][0m[0m
[0m[1maws_lambda_function.Sample-Lambda-Notification-to-Slack: Destroying... [id=Sample-Lambda-Notification-to-Slack][0m[0m

[2022-11-16T09:49:52.333] [DEBUG] default - [0m[1maws_iam_role_policy_attachment.attach-ecs-task-execution-policy: Destruction complete after 0s[0m[0m

[2022-11-16T09:49:52.355] [DEBUG] default - [0m[1maws_sns_topic.sample-cdktf-sns: Destroying... [id=arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns][0m[0m

[2022-11-16T09:49:52.410] [DEBUG] default - [0m[1maws_iam_role_policy_attachment.attach-ecs-task-policy: Destruction complete after 0s[0m[0m
[0m[1maws_iam_policy.lambda-logging: Destroying... [id=arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging][0m[0m

[2022-11-16T09:49:52.447] [DEBUG] default - [0m[1maws_cloudwatch_event_rule.sample-cdktf-event-rule: Destruction complete after 0s[0m[0m

[2022-11-16T09:49:52.493] [DEBUG] default - [0m[1maws_iam_policy.ecs-task-execution-policy: Destroying... [id=arn:aws:iam::574185952087:policy/ecs-task-execution-policy][0m[0m
[0m[1maws_security_group_rule.sample-cdktf-security-ingress: Destruction complete after 0s[0m[0m

[2022-11-16T09:49:52.513] [DEBUG] default - [0m[1maws_iam_role.ecsTaskExecutionRole: Destroying... [id=sample-cdktf-ecsTaskExecutionRole][0m[0m

[2022-11-16T09:49:52.576] [DEBUG] default - [0m[1maws_lambda_function.Sample-Lambda-Notification-to-Slack: Destruction complete after 1s[0m[0m

[2022-11-16T09:49:52.596] [DEBUG] default - [0m[1maws_sns_topic.sample-cdktf-sns: Destruction complete after 1s[0m[0m

[2022-11-16T09:49:52.678] [DEBUG] default - [0m[1maws_iam_policy.ecs-task-policy: Destroying... [id=arn:aws:iam::574185952087:policy/ecs-task-policy][0m[0m
[0m[1maws_iam_role.ecsTaskRole: Destroying... [id=sample-cdktf-ecsTaskRole][0m[0m
[0m[1maws_s3_bucket_object.notification-to-Slack-distzip: Destroying... [id=notification-to-Slack-dist.zip][0m[0m

[2022-11-16T09:49:52.757] [DEBUG] default - [0m[1maws_s3_bucket_object.notification-to-Slack-distzip: Destruction complete after 0s[0m[0m

[2022-11-16T09:49:52.779] [DEBUG] default - [0m[1maws_iam_role.lambdaExecutionRole: Destroying... [id=sample-cdktf-lambdaExecutionRole][0m[0m

[2022-11-16T09:49:52.869] [DEBUG] default - [0m[1maws_route_table.sample-cdktf-public-rtb: Destruction complete after 1s[0m[0m

[2022-11-16T09:49:53.014] [DEBUG] default - [0m[1maws_s3_bucket.sample-cdktf-s3: Destroying... [id=sample-cdktf-s3][0m[0m

[2022-11-16T09:49:53.466] [DEBUG] default - [0m[1maws_security_group_rule.sample-cdktf-security-egress: Destruction complete after 1s[0m[0m

[2022-11-16T09:49:53.528] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Destroying... [id=igw-0cc1f41a6e7a3ffd6][0m[0m

[2022-11-16T09:49:53.961] [DEBUG] default - [0m[1maws_s3_bucket.sample-cdktf-s3: Destruction complete after 1s[0m[0m

[2022-11-16T09:49:54.029] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Destroying... [id=sg-039556800e9cab6e1][0m[0m
[0m[1maws_iam_policy.lambda-logging: Destruction complete after 2s[0m[0m

[2022-11-16T09:49:54.095] [DEBUG] default - [0m[1maws_iam_role.ecsTaskExecutionRole: Destruction complete after 1s[0m[0m
[0m[1maws_iam_policy.ecs-task-execution-policy: Destruction complete after 2s[0m[0m

[2022-11-16T09:49:54.177] [DEBUG] default - [0m[1maws_iam_role.ecsTaskRole: Destruction complete after 1s[0m[0m

[2022-11-16T09:49:54.258] [DEBUG] default - [0m[1maws_iam_policy.ecs-task-policy: Destruction complete after 1s[0m[0m

[2022-11-16T09:49:54.337] [DEBUG] default - [0m[1maws_iam_role.lambdaExecutionRole: Destruction complete after 1s[0m[0m

[2022-11-16T09:50:01.951] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 10s elapsed][0m[0m

[2022-11-16T09:50:01.980] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 10s elapsed][0m[0m

[2022-11-16T09:50:03.467] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 10s elapsed][0m[0m

[2022-11-16T09:50:03.998] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 10s elapsed][0m[0m

[2022-11-16T09:50:11.930] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 20s elapsed][0m[0m

[2022-11-16T09:50:11.994] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 20s elapsed][0m[0m

[2022-11-16T09:50:13.467] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 20s elapsed][0m[0m

[2022-11-16T09:50:13.984] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 20s elapsed][0m[0m

[2022-11-16T09:50:21.931] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 30s elapsed][0m[0m

[2022-11-16T09:50:21.981] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 30s elapsed][0m[0m

[2022-11-16T09:50:23.468] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 30s elapsed][0m[0m

[2022-11-16T09:50:23.998] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 30s elapsed][0m[0m

[2022-11-16T09:50:31.931] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 40s elapsed][0m[0m

[2022-11-16T09:50:31.982] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 40s elapsed][0m[0m

[2022-11-16T09:50:33.486] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 40s elapsed][0m[0m

[2022-11-16T09:50:33.985] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 40s elapsed][0m[0m

[2022-11-16T09:50:41.932] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 50s elapsed][0m[0m

[2022-11-16T09:50:41.982] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 50s elapsed][0m[0m

[2022-11-16T09:50:43.468] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 50s elapsed][0m[0m

[2022-11-16T09:50:44.000] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 50s elapsed][0m[0m

[2022-11-16T09:50:51.948] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 1m0s elapsed][0m[0m

[2022-11-16T09:50:51.983] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 1m0s elapsed][0m[0m

[2022-11-16T09:50:53.480] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 1m0s elapsed][0m[0m

[2022-11-16T09:50:53.986] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 1m0s elapsed][0m[0m

[2022-11-16T09:51:01.959] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 1m10s elapsed][0m[0m

[2022-11-16T09:51:02.005] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 1m10s elapsed][0m[0m

[2022-11-16T09:51:03.470] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 1m10s elapsed][0m[0m

[2022-11-16T09:51:03.987] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 1m10s elapsed][0m[0m

[2022-11-16T09:51:11.950] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 1m20s elapsed][0m[0m

[2022-11-16T09:51:11.985] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 1m20s elapsed][0m[0m

[2022-11-16T09:51:13.488] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 1m20s elapsed][0m[0m

[2022-11-16T09:51:13.988] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 1m20s elapsed][0m[0m

[2022-11-16T09:51:21.936] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 1m30s elapsed][0m[0m

[2022-11-16T09:51:21.986] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 1m30s elapsed][0m[0m

[2022-11-16T09:51:23.472] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 1m30s elapsed][0m[0m

[2022-11-16T09:51:24.004] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 1m30s elapsed][0m[0m

[2022-11-16T09:51:31.937] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 1m40s elapsed][0m[0m

[2022-11-16T09:51:31.991] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 1m40s elapsed][0m[0m

[2022-11-16T09:51:33.472] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 1m40s elapsed][0m[0m

[2022-11-16T09:51:34.012] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 1m40s elapsed][0m[0m

[2022-11-16T09:51:41.938] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 1m50s elapsed][0m[0m

[2022-11-16T09:51:41.988] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 1m50s elapsed][0m[0m

[2022-11-16T09:51:43.486] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 1m50s elapsed][0m[0m

[2022-11-16T09:51:43.991] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 1m50s elapsed][0m[0m

[2022-11-16T09:51:51.963] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 2m0s elapsed][0m[0m

[2022-11-16T09:51:51.989] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 2m0s elapsed][0m[0m

[2022-11-16T09:51:53.498] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 2m0s elapsed][0m[0m

[2022-11-16T09:51:53.992] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 2m0s elapsed][0m[0m

[2022-11-16T09:52:01.939] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 2m10s elapsed][0m[0m

[2022-11-16T09:52:01.989] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 2m10s elapsed][0m[0m

[2022-11-16T09:52:03.475] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 2m10s elapsed][0m[0m

[2022-11-16T09:52:04.005] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 2m10s elapsed][0m[0m

[2022-11-16T09:52:11.939] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 2m20s elapsed][0m[0m

[2022-11-16T09:52:12.005] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 2m20s elapsed][0m[0m

[2022-11-16T09:52:13.476] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 2m20s elapsed][0m[0m

[2022-11-16T09:52:13.994] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 2m20s elapsed][0m[0m

[2022-11-16T09:52:21.957] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 2m30s elapsed][0m[0m

[2022-11-16T09:52:21.991] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 2m30s elapsed][0m[0m

[2022-11-16T09:52:23.484] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 2m30s elapsed][0m[0m

[2022-11-16T09:52:23.994] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 2m30s elapsed][0m[0m

[2022-11-16T09:52:31.953] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 2m40s elapsed][0m[0m

[2022-11-16T09:52:31.991] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 2m40s elapsed][0m[0m

[2022-11-16T09:52:33.486] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 2m40s elapsed][0m[0m

[2022-11-16T09:52:33.995] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 2m40s elapsed][0m[0m

[2022-11-16T09:52:41.943] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 2m50s elapsed][0m[0m

[2022-11-16T09:52:41.991] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 2m50s elapsed][0m[0m

[2022-11-16T09:52:43.485] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 2m50s elapsed][0m[0m

[2022-11-16T09:52:43.996] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 2m50s elapsed][0m[0m

[2022-11-16T09:52:51.944] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 3m0s elapsed][0m[0m

[2022-11-16T09:52:51.992] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 3m0s elapsed][0m[0m

[2022-11-16T09:52:53.478] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 3m0s elapsed][0m[0m

[2022-11-16T09:52:53.996] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 3m0s elapsed][0m[0m

[2022-11-16T09:53:01.966] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 3m10s elapsed][0m[0m

[2022-11-16T09:53:01.993] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 3m10s elapsed][0m[0m

[2022-11-16T09:53:03.492] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 3m10s elapsed][0m[0m

[2022-11-16T09:53:03.996] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 3m10s elapsed][0m[0m

[2022-11-16T09:53:11.945] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 3m20s elapsed][0m[0m

[2022-11-16T09:53:11.994] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 3m20s elapsed][0m[0m

[2022-11-16T09:53:13.488] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 3m20s elapsed][0m[0m

[2022-11-16T09:53:13.998] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 3m20s elapsed][0m[0m

[2022-11-16T09:53:21.956] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 3m30s elapsed][0m[0m

[2022-11-16T09:53:21.994] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 3m30s elapsed][0m[0m

[2022-11-16T09:53:23.493] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 3m30s elapsed][0m[0m

[2022-11-16T09:53:23.998] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 3m30s elapsed][0m[0m

[2022-11-16T09:53:31.971] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 3m40s elapsed][0m[0m

[2022-11-16T09:53:31.995] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 3m40s elapsed][0m[0m

[2022-11-16T09:53:33.503] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 3m40s elapsed][0m[0m

[2022-11-16T09:53:33.998] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 3m40s elapsed][0m[0m

[2022-11-16T09:53:41.949] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 3m50s elapsed][0m[0m

[2022-11-16T09:53:41.996] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 3m50s elapsed][0m[0m

[2022-11-16T09:53:43.482] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 3m50s elapsed][0m[0m

[2022-11-16T09:53:43.998] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 3m50s elapsed][0m[0m

[2022-11-16T09:53:51.949] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 4m0s elapsed][0m[0m

[2022-11-16T09:53:51.997] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 4m0s elapsed][0m[0m

[2022-11-16T09:53:53.491] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 4m0s elapsed][0m[0m

[2022-11-16T09:53:53.999] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 4m0s elapsed][0m[0m

[2022-11-16T09:54:01.959] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 4m10s elapsed][0m[0m

[2022-11-16T09:54:01.997] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 4m10s elapsed][0m[0m

[2022-11-16T09:54:03.488] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 4m10s elapsed][0m[0m

[2022-11-16T09:54:03.999] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 4m10s elapsed][0m[0m

[2022-11-16T09:54:11.962] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-0ddb3015e06d74ce8, 4m20s elapsed][0m[0m

[2022-11-16T09:54:11.998] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 4m20s elapsed][0m[0m

[2022-11-16T09:54:13.488] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 4m20s elapsed][0m[0m

[2022-11-16T09:54:14.016] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-039556800e9cab6e1, 4m20s elapsed][0m[0m

[2022-11-16T10:05:23.853] [DEBUG] default - Terraform v0.14.8


[2022-11-16T10:05:23.858] [DEBUG] default - Your version of Terraform is out of date! The latest version
is 1.3.4. You can update by downloading from https://www.terraform.io/downloads.html

[2022-11-16T10:05:43.908] [DEBUG] default - 

[2022-11-16T10:05:43.910] [DEBUG] default - [0m[1mInitializing the backend...[0m

[2022-11-16T10:05:44.813] [DEBUG] default - 

[2022-11-16T10:05:44.814] [DEBUG] default - [0m[1mInitializing provider plugins...[0m
- Reusing previous version of hashicorp/aws from the dependency lock file

[2022-11-16T10:05:46.366] [DEBUG] default - - Using previously-installed hashicorp/aws v2.70.1

[2022-11-16T10:05:46.368] [DEBUG] default - 

[2022-11-16T10:05:46.368] [DEBUG] default - [0m[1m[32mTerraform has been successfully initialized![0m[32m[0m
[0m[32m
You may now begin working with Terraform. Try running "terraform plan" to see
any changes that are required for your infrastructure. All Terraform commands
should now work.

If you ever set or change modules or backend configuration for Terraform,
rerun this command to reinitialize your working directory. If you forget, other

[2022-11-16T10:05:46.369] [DEBUG] default - commands will detect it and remind you to do so if necessary.[0m

[2022-11-16T10:05:47.631] [DEBUG] default - 

[2022-11-16T10:05:47.632] [DEBUG] default - An execution plan has been generated and is shown below.
Resource actions are indicated with the following symbols:
  [31m-[0m destroy
[0m
Terraform will perform the following actions:


[2022-11-16T10:05:47.632] [DEBUG] default - [1m  # aws_eip.sample-cdktf-eip[0m will be [1m[31mdestroyed[0m[0m

[2022-11-16T10:05:47.632] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_eip" "sample-cdktf-eip" {

[2022-11-16T10:05:47.658] [DEBUG] default -       [31m-[0m [0m[1m[0mdomain[0m[0m           = "vpc" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m               = "eipalloc-0059b36f2e66b30d0" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mpublic_dns[0m[0m       = "ec2-35-79-243-233.ap-northeast-1.compute.amazonaws.com" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mpublic_ip[0m[0m        = "35.79.243.233" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mpublic_ipv4_pool[0m[0m = "amazon" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mvpc[0m[0m              = true [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_internet_gateway.sample-cdktf-igw-production[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_internet_gateway" "sample-cdktf-igw-production" {
      [31m-[0m [0m[1m[0marn[0m[0m      = "arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-0cc1f41a6e7a3ffd6" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m       = "igw-0cc1f41a6e7a3ffd6" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mowner_id[0m[0m = "574185952087" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtags[0m[0m     = {
          [31m-[0m [0m"Name" = "igw-production sample-cdktf"
        } [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mvpc_id[0m[0m   = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_security_group.sample-cdktf-security-group[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_security_group" "sample-cdktf-security-group" {
      [31m-[0m [0m[1m[0marn[0m[0m                    = "arn:aws:ec2:ap-northeast-1:574185952087:security-group/sg-039556800e9cab6e1" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdescription[0m[0m            = "Managed by Terraform" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0megress[0m[0m                 = [] [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                     = "sg-039556800e9cab6e1" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mingress[0m[0m                = [] [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mname[0m[0m                   = "sample-cdktf" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mowner_id[0m[0m               = "574185952087" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mrevoke_rules_on_delete[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtags[0m[0m                   = {
          [31m-[0m [0m"Name" = "sample-cdktf"
        } [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mvpc_id[0m[0m                 = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_subnet.sample-cdktf-public-subnet1[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_subnet" "sample-cdktf-public-subnet1" {
      [31m-[0m [0m[1m[0marn[0m[0m                             = "arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-09a6d830e31fa4be1" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1a" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mavailability_zone_id[0m[0m            = "apne1-az4" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.0.0/20" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                              = "subnet-09a6d830e31fa4be1" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mowner_id[0m[0m                        = "574185952087" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtags[0m[0m                            = {
          [31m-[0m [0m"Name" = "Public1 AZ1a sample-cdktf"
        } [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mvpc_id[0m[0m                          = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_subnet.sample-cdktf-public-subnet2[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_subnet" "sample-cdktf-public-subnet2" {
      [31m-[0m [0m[1m[0marn[0m[0m                             = "arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0ddb3015e06d74ce8" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1c" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mavailability_zone_id[0m[0m            = "apne1-az1" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.16.0/20" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                              = "subnet-0ddb3015e06d74ce8" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mowner_id[0m[0m                        = "574185952087" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtags[0m[0m                            = {
          [31m-[0m [0m"Name" = "Public2 AZ1c sample-cdktf"
        } [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mvpc_id[0m[0m                          = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_vpc.sample-cdktf-vpc[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_vpc" "sample-cdktf-vpc" {
      [31m-[0m [0m[1m[0marn[0m[0m                              = "arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0massign_generated_ipv6_cidr_block[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mcidr_block[0m[0m                       = "10.0.0.0/16" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdefault_network_acl_id[0m[0m           = "acl-08b9670156912938d" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdefault_route_table_id[0m[0m           = "rtb-01926216c1dc207a6" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdefault_security_group_id[0m[0m        = "sg-01b60241c042b1663" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdhcp_options_id[0m[0m                  = "dopt-03da244493f3f476d" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0menable_classiclink[0m[0m               = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0menable_classiclink_dns_support[0m[0m   = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0menable_dns_hostnames[0m[0m             = true [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0menable_dns_support[0m[0m               = true [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                               = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0minstance_tenancy[0m[0m                 = "default" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mmain_route_table_id[0m[0m              = "rtb-01926216c1dc207a6" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mowner_id[0m[0m                         = "574185952087" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtags[0m[0m                             = {
          [31m-[0m [0m"Name" = "sample-cdktf production"
        } [90m->[0m [0m[90mnull[0m[0m
    }

[0m[1mPlan:[0m 0 to add, 0 to change, 6 to destroy.[0m
[33m

[2022-11-16T10:05:47.658] [DEBUG] default - [1m[33mWarning: [0m[0m[1m"condition.0.values": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m

[0m  on cdk.tf.json line 672, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:
 672:       [4m}[0m

[2022-11-16T10:05:47.659] [DEBUG] default - [0m
[0m[0m
[33m
[1m[33mWarning: [0m[0m[1m"condition.0.field": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m

[0m  on cdk.tf.json line 672, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:
 672:       [4m}[0m
[0m
[0m[0m


[2022-11-16T10:05:47.659] [DEBUG] default - ------------------------------------------------------------------------


[2022-11-16T10:05:47.659] [DEBUG] default - This plan was saved to: /Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/cdktf.out/plan


[2022-11-16T10:05:47.659] [DEBUG] default - To perform exactly these actions, run the following command to apply:
    terraform apply "/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/cdktf.out/plan"


[2022-11-16T10:05:48.626] [DEBUG] default - {"format_version":"0.1","terraform_version":"0.14.8","planned_values":{"root_module":{}},"resource_changes":[{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"allocation_id":null,"associate_with_private_ip":null,"association_id":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-0059b36f2e66b30d0","instance":"","network_interface":"","private_dns":null,"private_ip":"","public_dns":"ec2-35-79-243-233.ap-northeast-1.compute.amazonaws.com","public_ip":"35.79.243.233","public_ipv4_pool":"amazon","tags":null,"timeouts":null,"vpc":true},"after":null,"after_unknown":{}}},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-0cc1f41a6e7a3ffd6","id":"igw-0cc1f41a6e7a3ffd6","owner_id":"574185952087","tags":{"Name":"igw-production sample-cdktf"},"vpc_id":"vpc-045b92b482ef76254"},"after":null,"after_unknown":{}}},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:security-group/sg-039556800e9cab6e1","description":"Managed by Terraform","egress":[],"id":"sg-039556800e9cab6e1","ingress":[],"name":"sample-cdktf","name_prefix":null,"owner_id":"574185952087","revoke_rules_on_delete":false,"tags":{"Name":"sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"after":null,"after_unknown":{}}},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-09a6d830e31fa4be1","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.0.0/20","id":"subnet-09a6d830e31fa4be1","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"after":null,"after_unknown":{}}},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0ddb3015e06d74ce8","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.16.0/20","id":"subnet-0ddb3015e06d74ce8","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"after":null,"after_unknown":{}}},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-045b92b482ef76254","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-08b9670156912938d","default_route_table_id":"rtb-01926216c1dc207a6","default_security_group_id":"sg-01b60241c042b1663","dhcp_options_id":"dopt-03da244493f3f476d","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":true,"enable_dns_support":true,"id":"vpc-045b92b482ef76254","instance_tenancy":"default","ipv6_association_id":"","ipv6_cidr_block":"","main_route_table_id":"rtb-01926216c1dc207a6","owner_id":"574185952087","tags":{"Name":"sample-cdktf production"}},"after":null,"after_unknown":{}}}],"prior_state":{"format_version":"0.1","terraform_version":"0.14.8","values":{"root_module":{"resources":[{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"allocation_id":null,"associate_with_private_ip":null,"association_id":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-0059b36f2e66b30d0","instance":"","network_interface":"","private_dns":null,"private_ip":"","public_dns":"ec2-35-79-243-233.ap-northeast-1.compute.amazonaws.com","public_ip":"35.79.243.233","public_ipv4_pool":"amazon","tags":null,"timeouts":null,"vpc":true}},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-0cc1f41a6e7a3ffd6","id":"igw-0cc1f41a6e7a3ffd6","owner_id":"574185952087","tags":{"Name":"igw-production sample-cdktf"},"vpc_id":"vpc-045b92b482ef76254"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:security-group/sg-039556800e9cab6e1","description":"Managed by Terraform","egress":[],"id":"sg-039556800e9cab6e1","ingress":[],"name":"sample-cdktf","name_prefix":null,"owner_id":"574185952087","revoke_rules_on_delete":false,"tags":{"Name":"sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-09a6d830e31fa4be1","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.0.0/20","id":"subnet-09a6d830e31fa4be1","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0ddb3015e06d74ce8","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.16.0/20","id":"subnet-0ddb3015e06d74ce8","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-045b92b482ef76254","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-08b9670156912938d","default_route_table_id":"rtb-01926216c1dc207a6","default_security_group_id":"sg-01b60241c042b1663","dhcp_options_id":"dopt-03da244493f3f476d","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":true,"enable_dns_support":true,"id":"vpc-045b92b482ef76254","instance_tenanc
[2022-11-16T10:05:48.627] [DEBUG] default - y":"default","ipv6_association_id":"","ipv6_cidr_block":"","main_route_table_id":"rtb-01926216c1dc207a6","owner_id":"574185952087","tags":{"Name":"sample-cdktf production"}}}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","version_constraint":"~\u003e 2.0","expressions":{"region":{"constant_value":"ap-northeast-1"}}}},"root_module":{"resources":[{"address":"aws_alb.sample-cdktf-alb","mode":"managed","type":"aws_alb","name":"sample-cdktf-alb","provider_config_key":"aws","expressions":{"enable_deletion_protection":{"constant_value":false},"enable_http2":{"constant_value":true},"internal":{"constant_value":false},"ip_address_type":{"constant_value":"ipv4"},"load_balancer_type":{"constant_value":"application"},"name":{"constant_value":"sample-cdktf-alb"},"security_groups":{"constant_value":["${aws_security_group.sample-cdktf-security-group.id}","${aws_vpc.sample-cdktf-vpc.default_security_group_id}"],"references":["aws_security_group.sample-cdktf-security-group","aws_vpc.sample-cdktf-vpc"]},"subnets":{"constant_value":["${aws_subnet.sample-cdktf-public-subnet1.id}","${aws_subnet.sample-cdktf-public-subnet2.id}"],"references":["aws_subnet.sample-cdktf-public-subnet1","aws_subnet.sample-cdktf-public-subnet2"]}},"schema_version":0},{"address":"aws_alb_listener.sample-cdktf-alb-listener","mode":"managed","type":"aws_alb_listener","name":"sample-cdktf-alb-listener","provider_config_key":"aws","expressions":{"default_action":[{"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]},"type":{"constant_value":"forward"}}],"load_balancer_arn":{"constant_value":"${aws_alb.sample-cdktf-alb.arn}","references":["aws_alb.sample-cdktf-alb"]},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"}},"schema_version":0},{"address":"aws_alb_listener_rule.sample-cdktf-alb-listener-rule","mode":"managed","type":"aws_alb_listener_rule","name":"sample-cdktf-alb-listener-rule","provider_config_key":"aws","expressions":{"action":[{"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]},"type":{"constant_value":"forward"}}],"condition":[{"field":{"constant_value":"path-pattern"},"values":{"constant_value":["*"]}}],"listener_arn":{"constant_value":"${aws_alb_listener.sample-cdktf-alb-listener.arn}","references":["aws_alb_listener.sample-cdktf-alb-listener"]},"priority":{"constant_value":100}},"schema_version":0},{"address":"aws_alb_target_group.sample-cdktf-alb-target-group","mode":"managed","type":"aws_alb_target_group","name":"sample-cdktf-alb-target-group","provider_config_key":"aws","expressions":{"health_check":[{"interval":{"constant_value":30},"path":{"constant_value":"/"},"port":{"constant_value":"traffic-port"},"protocol":{"constant_value":"HTTP"},"timeout":{"constant_value":5},"unhealthy_threshold":{"constant_value":2}}],"name":{"constant_value":"sample-cdktf-alb-target-group"},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"},"target_type":{"constant_value":"ip"},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_cloudwatch_event_rule.sample-cdktf-event-rule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"sample-cdktf-event-rule","provider_config_key":"aws","expressions":{"description":{"constant_value":"Capture each AWS ECR Update"},"event_pattern":{"constant_value":"{\n        \"source\": [\"aws.ecr\"],\n        \"detail-type\": [\"ECR Image Action\"],\n        \"detail\": {\n          \"action-type\": [\"PUSH\"],\n          \"result\": [\"SUCCESS\"]\n        }\n      }"},"name":{"constant_value":"capture-ecr-update"}},"schema_version":0},{"address":"aws_cloudwatch_event_target.sample-cdktf-event-target","mode":"managed","type":"aws_cloudwatch_event_target","name":"sample-cdktf-event-target","provider_config_key":"aws","expressions":{"arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"rule":{"constant_value":"${aws_cloudwatch_event_rule.sample-cdktf-event-rule.name}","references":["aws_cloudwatch_event_rule.sample-cdktf-event-rule"]},"target_id":{"constant_value":"SendToSNS"}},"schema_version":0},{"address":"aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-notification-to-slack-log-group","provider_config_key":"aws","expressions":{"name":{"constant_value":"/aws/lambda/${aws_lambda_function.Sample-Lambda-Notification-to-Slack.function_name}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]}},"schema_version":0},{"address":"aws_ecr_repository.sample-cdktf-repository","mode":"managed","type":"aws_ecr_repository","name":"sample-cdktf-repository","provider_config_key":"aws","expressions":{"name":{"constant_value":"project/sample-cdktf"}},"schema_version":0},{"address":"aws_ecs_cluster.sample-cdktf-cluster","mode":"managed","type":"aws_ecs_cluster","name":"sample-cdktf-cluster","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf-cluster"}},"schema_version":0},{"address":"aws_ecs_service.sample-cdktf-ecs-service","mode":"managed","type":"aws_ecs_service","name":"sample-cdktf-ecs-service","provider_config_key":"aws","expressions":{"cluster":{"constant_value":"${aws_ecs_cluster.sample-cdktf-cluster.id}","references":["aws_ecs_cluster.sample-cdktf-cluster"]},"deployment_maximum_percent":{"constant_value":200},"deployment_minimum_healthy_percent":{"constant_value":100},"desired_count":{"constant_value":1},"launch_type":{"constant_value":"FARGATE"},"load_balancer":[{"container_name":{"constant_value":"sample-cdktf-container"},"container_port":{"constant_value":9000},"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]}}],"name":{"constant_value":"sample-cdktf-ecs-service"},"network_configuration":[{"security_groups":{"constant_value":["${aws_vpc.sample-cdktf-vpc.default_security_group_id}"],"references":["aws_vpc.sample-cdktf-vpc"]},"subnets":{"constant_value":["${aws_subnet.sample-cdktf-private-subnet1.id}"],"references":["aws_subnet.sample-cdktf-private-subnet1"]}}],"platform_version":{"constant_value":"LATEST"},"task_definition":{"constant_value":"${aws_ecs_task_definition.sample-cdktf-task.id}","references":["aws_ecs_task_definition.sample-cdktf-task"]}},"schema_version":0},{"address":"aws_ecs_task_definition.sample-cdktf-task","mode":"managed","type":"aws_ecs_task_definition","name":"sample-cdktf-task","provider_config_key":"aws","expressions":{"container_definitions":{"constant_value":"[\n      {\n        \"essential\":    true,\n        \"name\":         \"sample-cdktf-container\",\n        \"image\":        \"${aws_ecr_repository.sample-cdktf-repository.repository_url}:latest\",\n        \"portMappings\": [\n          {\n            \"hostPort\":      9000,\n            \"protocol\":      \"tcp\",\n            \"containerPort\": 9000\n          }\n        ],\n        \"logConfiguration\": {\n          \"logDriver\": \"awslogs\",\n          \"options\": {\n            \"awslogs-group\":         \"/aws/ecs/sample-cdktf-task\",\n            \"awslogs-stream-prefix\": \"ecs\",\n            \"awslogs-region\":        \"ap-northeast-1\"\n          }\n        }\n      }\n    ]","references":["aws_ecr_repository.sample-cdktf-repository"]},"cpu":{"constant_value":"512"},"execution_role_arn":{"constant_value":"${aws_iam_role.ecsTaskExecutionRole.arn}","references":["aws_iam_role.ecsTaskExecutionRole"]},"family":{"constant_value":"task-for-cdktf"},"memory":{"constant_value":"1024"},"network_mode":{"constant_value":"awsvpc"},"requires_compatibilities":{"constant_value":["FARGATE"]},"task_role_arn":{"constant_value":"${aws_iam_role.ecsTaskRole.arn}","references":["aws_iam_role.ecsTaskRole"]}},"schema_version":1},{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdkt
[2022-11-16T10:05:48.627] [DEBUG] default - f-eip","provider_config_key":"aws","expressions":{"vpc":{"constant_value":true}},"schema_version":0},{"address":"aws_iam_policy.ecs-task-execution-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-execution-policy","provider_config_key":"aws","expressions":{"description":{"constant_value":"Policy for updating ECS tasks"},"name":{"constant_value":"ecs-task-execution-policy"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_policy.ecs-task-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-policy","provider_config_key":"aws","expressions":{"description":{"constant_value":"Policy for updating ECS tasks"},"name":{"constant_value":"ecs-task-policy"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecs:DescribeServices\",\n              \"ecs:CreateTaskSet\",\n              \"ecs:UpdateServicePrimaryTaskSet\",\n              \"ecs:DeleteTaskSet\",\n              \"elasticloadbalancing:DescribeTargetGroups\",\n              \"elasticloadbalancing:DescribeListeners\",\n              \"elasticloadbalancing:ModifyListener\",\n              \"elasticloadbalancing:DescribeRules\",\n              \"elasticloadbalancing:ModifyRule\",\n              \"lambda:InvokeFunction\",\n              \"cloudwatch:DescribeAlarms\",\n              \"sns:Publish\",\n              \"s3:GetObject\",\n              \"s3:GetObjectVersion\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_policy.lambda-logging","mode":"managed","type":"aws_iam_policy","name":"lambda-logging","provider_config_key":"aws","expressions":{"description":{"constant_value":"IAM policy for logging from a lambda"},"name":{"constant_value":"sample-cdktf-lambda-logging"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"iam:PassRole\",\n              \"ecs:RegisterTaskDefinition\",\n              \"ecs:UpdateService\",\n              \"logs:CreateLogGroup\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\",\n              \"arn:aws:logs:*:*:*\",\n              \"arn:aws:ecs:*:*:*\",\n              \"arn:aws:iam::445682127642:role/sample-cdktf-ecsTaskExecutionRole\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_role.ecsTaskExecutionRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskExecutionRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\":    \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-ecsTaskExecutionRole"}},"schema_version":0},{"address":"aws_iam_role.ecsTaskRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\": \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n          },\n          \"Effect\": \"Allow\",\n          \"Sid\": \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-ecsTaskRole"}},"schema_version":0},{"address":"aws_iam_role.lambdaExecutionRole","mode":"managed","type":"aws_iam_role","name":"lambdaExecutionRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": [\n                \"lambda.amazonaws.com\",\n                \"ecs-tasks.amazonaws.com\"\n              ]\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-lambdaExecutionRole"}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-execution-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-execution-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.ecs-task-execution-policy.arn}","references":["aws_iam_policy.ecs-task-execution-policy"]},"role":{"constant_value":"${aws_iam_role.ecsTaskExecutionRole.name}","references":["aws_iam_role.ecsTaskExecutionRole"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.ecs-task-policy.arn}","references":["aws_iam_policy.ecs-task-policy"]},"role":{"constant_value":"${aws_iam_role.ecsTaskRole.name}","references":["aws_iam_role.ecsTaskRole"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-lambda-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-lambda-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.lambda-logging.arn}","references":["aws_iam_policy.lambda-logging"]},"role":{"constant_value":"${aws_iam_role.lambdaExecutionRole.name}","references":["aws_iam_role.lambdaExecutionRole"]}},"schema_version":0},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_config_key":"aws","expressions":{"tags":{"constant_value":{"Name":"igw-production sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_lambda_function.Sample-Lambda-Notification-to-Slack","mode":"managed","type":"aws_lambda_function","name":"Sample-Lambda-Notification-to-Slack","provider_config_key":"aws","expressions":{"environment":[{"variables":{"constant_value":{"SLACK_API_TOKEN":"xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp","SLACK_CHANNEL":"C049CPNKHMJ"}}}],"function_name":{"constant_value":"Sample-Lambda-Notification-to-Slack"},"handler":{"constant_value":"index.handler"},"role":{"constant_value":"${aws_iam_role.lambdaExecutionRole.arn}","references":["aws_iam_role.lambdaExecutionRole"]},"runtime":{"constant_value":"nodejs12.x"},"s3_bucket":{"constant_value":"${aws_s3_bucket.sample-cdktf-s3.bucket}","references":["aws_s3_bucket.sample-cdktf-s3"]},"s3_key":{"constant_value":"${aws_s3_bucket_object.notification-to-Slack-distzip.key}","references":["aws_s3_bucket_object.notification-to-Slack-distzip"]},"timeout":{"constant_value":30}},"schema_version":0},{"address":"aws_lambda_permission.permission-to-sns","mode":"managed","type":"aws_lambda_permission","name":"permission-to-sns","provider_config_key":"aws","expressions":{"action":{"constant_value":"lambda:InvokeFunction"},"function_name":{"constant_value":"${aws_lambda_function.Sample-Lambda-Notification-to-Slack.function_name}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]},"pr
[2022-11-16T10:05:48.627] [DEBUG] default - incipal":{"constant_value":"sns.amazonaws.com"},"source_arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"statement_id":{"constant_value":"AllowExecutionFromSNS"}},"schema_version":0},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_config_key":"aws","expressions":{"allocation_id":{"constant_value":"${aws_eip.sample-cdktf-eip.id}","references":["aws_eip.sample-cdktf-eip"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]},"tags":{"constant_value":{"Name":"sample-cdktf nat-gateway-production"}}},"schema_version":0},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_config_key":"aws","expressions":{"route":{"constant_value":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"${aws_nat_gateway.sample-cdktf-nat-gateway.id}","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"references":["aws_nat_gateway.sample-cdktf-nat-gateway"]},"tags":{"constant_value":{"Name":"sample-cdktf Private rtb"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_config_key":"aws","expressions":{"route":{"constant_value":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"${aws_internet_gateway.sample-cdktf-igw-production.id}","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"references":["aws_internet_gateway.sample-cdktf-igw-production"]},"tags":{"constant_value":{"Name":"sample-cdktf Public rtb"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-private-rtb.id}","references":["aws_route_table.sample-cdktf-private-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-private-subnet1.id}","references":["aws_subnet.sample-cdktf-private-subnet1"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-private-rtb.id}","references":["aws_route_table.sample-cdktf-private-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-private-subnet2.id}","references":["aws_subnet.sample-cdktf-private-subnet2"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet2.id}","references":["aws_subnet.sample-cdktf-public-subnet2"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]}},"schema_version":0},{"address":"aws_s3_bucket.sample-cdktf-s3","mode":"managed","type":"aws_s3_bucket","name":"sample-cdktf-s3","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"sample-cdktf-s3"},"region":{"constant_value":"ap-northeast-1"}},"schema_version":0},{"address":"aws_s3_bucket_object.notification-to-Slack-distzip","mode":"managed","type":"aws_s3_bucket_object","name":"notification-to-Slack-distzip","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"${aws_s3_bucket.sample-cdktf-s3.bucket}","references":["aws_s3_bucket.sample-cdktf-s3"]},"content_type":{"constant_value":"zip"},"key":{"constant_value":"notification-to-Slack-dist.zip"},"source":{"constant_value":"/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip"}},"schema_version":0},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf"},"tags":{"constant_value":{"Name":"sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":0},"protocol":{"constant_value":"all"},"security_group_id":{"constant_value":"${aws_security_group.sample-cdktf-security-group.id}","references":["aws_security_group.sample-cdktf-security-group"]},"to_port":{"constant_value":0},"type":{"constant_value":"egress"}},"schema_version":2},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":80},"protocol":{"constant_value":"tcp"},"security_group_id":{"constant_value":"${aws_security_group.sample-cdktf-security-group.id}","references":["aws_security_group.sample-cdktf-security-group"]},"to_port":{"constant_value":80},"type":{"constant_value":"ingress"}},"schema_version":2},{"address":"aws_sns_topic.sample-cdktf-sns","mode":"managed","type":"aws_sns_topic","name":"sample-cdktf-sns","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf-sns"}},"schema_version":0},{"address":"aws_sns_topic_policy.sample-cdktf-sns-policy","mode":"managed","type":"aws_sns_topic_policy","name":"sample-cdktf-sns-policy","provider_config_key":"aws","expressions":{"arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": {\n          \"Effect\": \"Allow\",\n          \"Sid\":    \"\",\n          \"Principal\": {\n            \"Service\": \"events.amazonaws.com\"\n          },\n          \"Action\": [\n            \"SNS:Publish\"\n          ],\n          \"Resource\": [\n            \"*\"\n          ]\n        }\n      }"}},"schema_version":0},{"address":"aws_sns_topic_subscription.sample-cdktf-sns-subscription","mode":"managed","type":"aws_sns_topic_subscription","name":"sam
[2022-11-16T10:05:48.627] [DEBUG] default - ple-cdktf-sns-subscription","provider_config_key":"aws","expressions":{"endpoint":{"constant_value":"${aws_lambda_function.Sample-Lambda-Notification-to-Slack.arn}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]},"protocol":{"constant_value":"lambda"},"topic_arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]}},"schema_version":0},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1a"},"cidr_block":{"constant_value":"10.0.128.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Private1 AZ1a sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1c"},"cidr_block":{"constant_value":"10.0.144.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Private2 AZ1c sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1a"},"cidr_block":{"constant_value":"10.0.0.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Public1 AZ1a sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1c"},"cidr_block":{"constant_value":"10.0.16.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Public2 AZ1c sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_config_key":"aws","expressions":{"cidr_block":{"constant_value":"10.0.0.0/16"},"enable_dns_hostnames":{"constant_value":true},"tags":{"constant_value":{"Name":"sample-cdktf production"}}},"schema_version":1}]}}}

[2022-11-16T10:07:18.046] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Destroying... [id=subnet-0ddb3015e06d74ce8][0m[0m

[2022-11-16T10:07:18.075] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Destroying... [id=sg-039556800e9cab6e1][0m[0m
[0m[1maws_subnet.sample-cdktf-public-subnet1: Destroying... [id=subnet-09a6d830e31fa4be1][0m[0m
[0m[1maws_internet_gateway.sample-cdktf-igw-production: Destroying... [id=igw-0cc1f41a6e7a3ffd6][0m[0m
[0m[1maws_eip.sample-cdktf-eip: Destroying... [id=eipalloc-0059b36f2e66b30d0][0m[0m

[2022-11-16T10:07:19.251] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Destruction complete after 1s[0m[0m

[2022-11-16T10:07:20.062] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Destruction complete after 2s[0m[0m

[2022-11-16T10:07:28.048] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 10s elapsed][0m[0m

[2022-11-16T10:07:28.069] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 10s elapsed][0m[0m

[2022-11-16T10:07:38.049] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 20s elapsed][0m[0m

[2022-11-16T10:07:38.075] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 20s elapsed][0m[0m

[2022-11-16T10:07:48.109] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 30s elapsed][0m[0m

[2022-11-16T10:07:48.168] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 30s elapsed][0m[0m

[2022-11-16T10:07:58.065] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 40s elapsed][0m[0m

[2022-11-16T10:07:58.070] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 40s elapsed][0m[0m

[2022-11-16T10:08:08.075] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 50s elapsed][0m[0m

[2022-11-16T10:08:08.085] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 50s elapsed][0m[0m

[2022-11-16T10:08:18.085] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 1m0s elapsed][0m[0m
[0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 1m0s elapsed][0m[0m

[2022-11-16T10:08:28.087] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 1m10s elapsed][0m[0m
[0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 1m10s elapsed][0m[0m

[2022-11-16T10:08:38.080] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 1m20s elapsed][0m[0m

[2022-11-16T10:08:38.084] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 1m20s elapsed][0m[0m

[2022-11-16T10:08:48.081] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 1m30s elapsed][0m[0m

[2022-11-16T10:08:48.087] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 1m30s elapsed][0m[0m

[2022-11-16T10:08:58.089] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 1m40s elapsed][0m[0m
[0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 1m40s elapsed][0m[0m

[2022-11-16T10:09:08.140] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 1m50s elapsed][0m[0m

[2022-11-16T10:09:08.147] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 1m50s elapsed][0m[0m

[2022-11-16T10:09:18.077] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 2m0s elapsed][0m[0m

[2022-11-16T10:09:18.081] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 2m0s elapsed][0m[0m

[2022-11-16T10:09:28.077] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 2m10s elapsed][0m[0m

[2022-11-16T10:09:28.081] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 2m10s elapsed][0m[0m

[2022-11-16T10:09:38.077] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 2m20s elapsed][0m[0m

[2022-11-16T10:09:38.081] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 2m20s elapsed][0m[0m

[2022-11-16T10:09:48.080] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 2m30s elapsed][0m[0m

[2022-11-16T10:09:48.087] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 2m30s elapsed][0m[0m

[2022-11-16T10:09:58.078] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 2m40s elapsed][0m[0m

[2022-11-16T10:09:58.083] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 2m40s elapsed][0m[0m

[2022-11-16T10:10:08.080] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 2m50s elapsed][0m[0m

[2022-11-16T10:10:08.085] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 2m50s elapsed][0m[0m

[2022-11-16T10:10:18.079] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 3m0s elapsed][0m[0m

[2022-11-16T10:10:18.084] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 3m0s elapsed][0m[0m

[2022-11-16T10:10:28.081] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 3m10s elapsed][0m[0m

[2022-11-16T10:10:28.086] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 3m10s elapsed][0m[0m

[2022-11-16T10:10:38.081] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 3m20s elapsed][0m[0m

[2022-11-16T10:10:38.117] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 3m20s elapsed][0m[0m

[2022-11-16T10:10:48.084] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 3m30s elapsed][0m[0m

[2022-11-16T10:10:48.097] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 3m30s elapsed][0m[0m

[2022-11-16T10:10:58.086] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 3m40s elapsed][0m[0m

[2022-11-16T10:10:58.094] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 3m40s elapsed][0m[0m

[2022-11-16T10:11:08.086] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 3m50s elapsed][0m[0m

[2022-11-16T10:11:08.093] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 3m50s elapsed][0m[0m

[2022-11-16T10:11:18.086] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 4m0s elapsed][0m[0m

[2022-11-16T10:11:18.093] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 4m0s elapsed][0m[0m

[2022-11-16T10:11:28.087] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 4m10s elapsed][0m[0m

[2022-11-16T10:11:28.093] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 4m10s elapsed][0m[0m

[2022-11-16T10:11:38.088] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 4m20s elapsed][0m[0m

[2022-11-16T10:11:38.095] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 4m20s elapsed][0m[0m

[2022-11-16T10:11:48.096] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 4m30s elapsed][0m[0m
[0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 4m30s elapsed][0m[0m

[2022-11-16T10:11:58.090] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 4m40s elapsed][0m[0m

[2022-11-16T10:11:58.101] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 4m40s elapsed][0m[0m

[2022-11-16T10:12:08.090] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 4m50s elapsed][0m[0m

[2022-11-16T10:12:08.095] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 4m50s elapsed][0m[0m

[2022-11-16T10:12:18.092] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 5m0s elapsed][0m[0m

[2022-11-16T10:12:18.098] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 5m0s elapsed][0m[0m

[2022-11-16T10:12:28.093] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 5m10s elapsed][0m[0m

[2022-11-16T10:12:28.099] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 5m10s elapsed][0m[0m

[2022-11-16T10:12:38.093] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 5m20s elapsed][0m[0m

[2022-11-16T10:12:38.114] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 5m20s elapsed][0m[0m

[2022-11-16T10:12:48.093] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 5m30s elapsed][0m[0m

[2022-11-16T10:12:48.099] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 5m30s elapsed][0m[0m

[2022-11-16T10:12:58.099] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 5m40s elapsed][0m[0m
[0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 5m40s elapsed][0m[0m

[2022-11-16T10:13:08.095] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 5m50s elapsed][0m[0m
[0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 5m50s elapsed][0m[0m

[2022-11-16T10:13:18.100] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 6m0s elapsed][0m[0m
[0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 6m0s elapsed][0m[0m

[2022-11-16T10:13:28.096] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 6m10s elapsed][0m[0m

[2022-11-16T10:13:28.101] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 6m10s elapsed][0m[0m

[2022-11-16T10:13:38.096] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 6m20s elapsed][0m[0m

[2022-11-16T10:13:38.101] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 6m20s elapsed][0m[0m

[2022-11-16T10:13:48.098] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 6m30s elapsed][0m[0m

[2022-11-16T10:13:48.104] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 6m30s elapsed][0m[0m

[2022-11-16T10:13:58.099] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 6m40s elapsed][0m[0m

[2022-11-16T10:13:58.105] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 6m40s elapsed][0m[0m

[2022-11-16T10:14:08.099] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 6m50s elapsed][0m[0m

[2022-11-16T10:14:08.103] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 6m50s elapsed][0m[0m

[2022-11-16T10:14:18.103] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 7m0s elapsed][0m[0m
[0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 7m0s elapsed][0m[0m

[2022-11-16T10:14:28.101] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 7m10s elapsed][0m[0m

[2022-11-16T10:14:28.105] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 7m10s elapsed][0m[0m

[2022-11-16T10:14:38.103] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 7m20s elapsed][0m[0m

[2022-11-16T10:14:38.110] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 7m20s elapsed][0m[0m

[2022-11-16T10:14:48.104] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 7m30s elapsed][0m[0m

[2022-11-16T10:14:48.110] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 7m30s elapsed][0m[0m

[2022-11-16T10:14:58.113] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 7m40s elapsed][0m[0m
[0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 7m40s elapsed][0m[0m

[2022-11-16T10:15:08.106] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 7m50s elapsed][0m[0m

[2022-11-16T10:15:08.111] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 7m50s elapsed][0m[0m

[2022-11-16T10:15:18.107] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 8m0s elapsed][0m[0m

[2022-11-16T10:15:18.112] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 8m0s elapsed][0m[0m

[2022-11-16T10:15:28.107] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 8m10s elapsed][0m[0m

[2022-11-16T10:15:28.112] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 8m10s elapsed][0m[0m

[2022-11-16T10:15:38.108] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 8m20s elapsed][0m[0m

[2022-11-16T10:15:38.112] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 8m20s elapsed][0m[0m

[2022-11-16T10:15:48.111] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 8m30s elapsed][0m[0m
[0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 8m30s elapsed][0m[0m

[2022-11-16T10:15:58.109] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 8m40s elapsed][0m[0m

[2022-11-16T10:15:58.116] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 8m40s elapsed][0m[0m

[2022-11-16T10:16:08.109] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 8m50s elapsed][0m[0m

[2022-11-16T10:16:08.113] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 8m50s elapsed][0m[0m

[2022-11-16T10:16:18.110] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 9m0s elapsed][0m[0m

[2022-11-16T10:16:18.114] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 9m0s elapsed][0m[0m

[2022-11-16T10:16:28.111] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 9m10s elapsed][0m[0m

[2022-11-16T10:16:28.116] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 9m10s elapsed][0m[0m

[2022-11-16T10:16:38.116] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 9m20s elapsed][0m[0m

[2022-11-16T10:16:38.122] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 9m20s elapsed][0m[0m

[2022-11-16T10:16:48.113] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 9m30s elapsed][0m[0m

[2022-11-16T10:16:48.119] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 9m30s elapsed][0m[0m

[2022-11-16T10:16:58.113] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 9m40s elapsed][0m[0m

[2022-11-16T10:16:58.125] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 9m40s elapsed][0m[0m

[2022-11-16T10:17:08.113] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 9m50s elapsed][0m[0m

[2022-11-16T10:17:08.117] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 9m50s elapsed][0m[0m

[2022-11-16T10:17:18.126] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 10m0s elapsed][0m[0m
[0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 10m0s elapsed][0m[0m

[2022-11-16T10:17:28.116] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 10m10s elapsed][0m[0m

[2022-11-16T10:17:28.122] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 10m10s elapsed][0m[0m

[2022-11-16T10:17:38.117] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 10m20s elapsed][0m[0m

[2022-11-16T10:17:38.124] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 10m20s elapsed][0m[0m

[2022-11-16T10:17:48.118] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 10m30s elapsed][0m[0m

[2022-11-16T10:17:48.123] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 10m30s elapsed][0m[0m

[2022-11-16T10:17:58.121] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 10m40s elapsed][0m[0m

[2022-11-16T10:17:58.128] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 10m40s elapsed][0m[0m

[2022-11-16T10:18:08.121] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 10m50s elapsed][0m[0m

[2022-11-16T10:18:08.125] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 10m50s elapsed][0m[0m

[2022-11-16T10:18:18.123] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 11m0s elapsed][0m[0m

[2022-11-16T10:18:18.129] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 11m0s elapsed][0m[0m

[2022-11-16T10:18:28.123] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 11m10s elapsed][0m[0m

[2022-11-16T10:18:28.129] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 11m10s elapsed][0m[0m

[2022-11-16T10:18:38.124] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 11m20s elapsed][0m[0m

[2022-11-16T10:18:38.130] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 11m20s elapsed][0m[0m

[2022-11-16T10:18:48.125] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 11m30s elapsed][0m[0m

[2022-11-16T10:18:48.139] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 11m30s elapsed][0m[0m

[2022-11-16T10:18:58.125] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 11m40s elapsed][0m[0m

[2022-11-16T10:18:58.131] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 11m40s elapsed][0m[0m

[2022-11-16T10:19:08.126] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 11m50s elapsed][0m[0m

[2022-11-16T10:19:08.129] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 11m50s elapsed][0m[0m

[2022-11-16T10:19:18.128] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 12m0s elapsed][0m[0m

[2022-11-16T10:19:18.135] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 12m0s elapsed][0m[0m

[2022-11-16T10:19:28.130] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 12m10s elapsed][0m[0m
[0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 12m10s elapsed][0m[0m

[2022-11-16T10:19:38.130] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 12m20s elapsed][0m[0m

[2022-11-16T10:19:38.140] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 12m20s elapsed][0m[0m

[2022-11-16T10:19:48.133] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 12m30s elapsed][0m[0m

[2022-11-16T10:19:48.139] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 12m30s elapsed][0m[0m

[2022-11-16T10:19:58.131] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 12m40s elapsed][0m[0m

[2022-11-16T10:19:58.135] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 12m40s elapsed][0m[0m

[2022-11-16T10:20:08.131] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 12m50s elapsed][0m[0m

[2022-11-16T10:20:08.136] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 12m50s elapsed][0m[0m

[2022-11-16T10:20:18.132] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 13m0s elapsed][0m[0m

[2022-11-16T10:20:18.138] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 13m0s elapsed][0m[0m

[2022-11-16T17:33:54.199] [DEBUG] default - Terraform v0.14.8


[2022-11-16T17:33:54.225] [DEBUG] default - Your version of Terraform is out of date! The latest version
is 1.3.4. You can update by downloading from https://www.terraform.io/downloads.html

[2022-11-16T17:34:04.351] [DEBUG] default - Terraform v0.14.8


[2022-11-16T17:34:04.375] [DEBUG] default - Your version of Terraform is out of date! The latest version
is 1.3.4. You can update by downloading from https://www.terraform.io/downloads.html

[2022-11-16T17:34:50.121] [DEBUG] default - 

[2022-11-16T17:34:50.123] [DEBUG] default - [0m[1mInitializing the backend...[0m

[2022-11-16T17:34:50.566] [DEBUG] default - 

[2022-11-16T17:34:50.567] [DEBUG] default - [0m[1mInitializing provider plugins...[0m
- Reusing previous version of hashicorp/aws from the dependency lock file

[2022-11-16T17:34:51.616] [DEBUG] default - - Using previously-installed hashicorp/aws v2.70.1

[2022-11-16T17:34:51.618] [DEBUG] default - 

[2022-11-16T17:34:51.621] [DEBUG] default - [0m[1m[32mTerraform has been successfully initialized![0m[32m[0m
[0m[32m
You may now begin working with Terraform. Try running "terraform plan" to see
any changes that are required for your infrastructure. All Terraform commands
should now work.

If you ever set or change modules or backend configuration for Terraform,
rerun this command to reinitialize your working directory. If you forget, other
commands will detect it and remind you to do so if necessary.[0m

[2022-11-16T17:34:52.972] [DEBUG] default - 

[2022-11-16T17:34:52.973] [DEBUG] default - An execution plan has been generated and is shown below.
Resource actions are indicated with the following symbols:
  [31m-[0m destroy
[0m
Terraform will perform the following actions:

[1m  # aws_eip.sample-cdktf-eip[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_eip" "sample-cdktf-eip" {
      [31m-[0m [0m[1m[0mdomain[0m[0m           = "vpc" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m               = "eipalloc-0059b36f2e66b30d0" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mpublic_dns[0m[0m       = "ec2-35-79-243-233.ap-northeast-1.compute.amazonaws.com" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mpublic_ip[0m[0m        = "35.79.243.233" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mpublic_ipv4_pool[0m[0m = "amazon" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mvpc[0m[0m              = true [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_internet_gateway.sample-cdktf-igw-production[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_internet_gateway" "sample-cdktf-igw-production" {
      [31m-[0m [0m[1m[0marn[0m[0m      = "arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-0cc1f41a6e7a3ffd6" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m       = "igw-0cc1f41a6e7a3ffd6" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mowner_id[0m[0m = "574185952087" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtags[0m[0m     = {
          [31m-[0m [0m"Name" = "igw-production sample-cdktf"
        } [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mvpc_id[0m[0m   = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_subnet.sample-cdktf-public-subnet1[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_subnet" "sample-cdktf-public-subnet1" {
      [31m-[0m [0m[1m[0marn[0m[0m                             = "arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-09a6d830e31fa4be1" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1a" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mavailability_zone_id[0m[0m            = "apne1-az4" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.0.0/20" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                              = "subnet-09a6d830e31fa4be1" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mowner_id[0m[0m                        = "574185952087" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtags[0m[0m                            = {
          [31m-[0m [0m"Name" = "Public1 AZ1a sample-cdktf"
        } [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mvpc_id[0m[0m                          = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_vpc.sample-cdktf-vpc[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_vpc" "sample-cdktf-vpc" {
      [31m-[0m [0m[1m[0marn[0m[0m                              = "arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0massign_generated_ipv6_cidr_block[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mcidr_block[0m[0m                       = "10.0.0.0/16" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdefault_network_acl_id[0m[0m           = "acl-08b9670156912938d" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdefault_route_table_id[0m[0m           = "rtb-01926216c1dc207a6" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdefault_security_group_id[0m[0m        = "sg-01b60241c042b1663" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdhcp_options_id[0m[0m                  = "dopt-03da244493f3f476d" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0menable_classiclink[0m[0m               = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0menable_classiclink_dns_support[0m[0m   = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0menable_dns_hostnames[0m[0m             = true [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0menable_dns_support[0m[0m               = true [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                               = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0minstance_tenancy[0m[0m                 = "default" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mmain_route_table_id[0m[0m              = "rtb-01926216c1dc207a6" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mowner_id[0m[0m                         = "574185952087" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtags[0m[0m                             = {
          [31m-[0m [0m"Name" = "sample-cdktf production"
        } [90m->[0m [0m[90mnull[0m[0m
    }

[0m[1mPlan:[0m 0 to add, 0 to change, 4 to destroy.[0m
[33m
[1m[33mWarning: [0m[0m[1m"condition.0.values": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m

[0m  on cdk.tf.json line 672, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:
 672:       [4m}[0m
[0m
[0m[0m
[33m
[1m[33mWarning: [0m[0m[1m"condition.0.field": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m

[0m  on cdk.tf.json line 672, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:
 672:       [4m}[0m
[0m
[0m[0m

------------------------------------------------------------------------

This plan was saved to: /Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/cdktf.out/plan

To perform exactly these actions, run the following command to apply:
    terraform apply "/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/cdktf.out/plan"


[2022-11-16T17:34:53.868] [DEBUG] default - {"format_version":"0.1","terraform_version":"0.14.8","planned_values":{"root_module":{}},"resource_changes":[{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"allocation_id":null,"associate_with_private_ip":null,"association_id":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-0059b36f2e66b30d0","instance":"","network_interface":"","private_dns":null,"private_ip":"","public_dns":"ec2-35-79-243-233.ap-northeast-1.compute.amazonaws.com","public_ip":"35.79.243.233","public_ipv4_pool":"amazon","tags":null,"timeouts":null,"vpc":true},"after":null,"after_unknown":{}}},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-0cc1f41a6e7a3ffd6","id":"igw-0cc1f41a6e7a3ffd6","owner_id":"574185952087","tags":{"Name":"igw-production sample-cdktf"},"vpc_id":"vpc-045b92b482ef76254"},"after":null,"after_unknown":{}}},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-09a6d830e31fa4be1","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.0.0/20","id":"subnet-09a6d830e31fa4be1","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"after":null,"after_unknown":{}}},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-045b92b482ef76254","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-08b9670156912938d","default_route_table_id":"rtb-01926216c1dc207a6","default_security_group_id":"sg-01b60241c042b1663","dhcp_options_id":"dopt-03da244493f3f476d","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":true,"enable_dns_support":true,"id":"vpc-045b92b482ef76254","instance_tenancy":"default","ipv6_association_id":"","ipv6_cidr_block":"","main_route_table_id":"rtb-01926216c1dc207a6","owner_id":"574185952087","tags":{"Name":"sample-cdktf production"}},"after":null,"after_unknown":{}}}],"prior_state":{"format_version":"0.1","terraform_version":"0.14.8","values":{"root_module":{"resources":[{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"allocation_id":null,"associate_with_private_ip":null,"association_id":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-0059b36f2e66b30d0","instance":"","network_interface":"","private_dns":null,"private_ip":"","public_dns":"ec2-35-79-243-233.ap-northeast-1.compute.amazonaws.com","public_ip":"35.79.243.233","public_ipv4_pool":"amazon","tags":null,"timeouts":null,"vpc":true}},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-0cc1f41a6e7a3ffd6","id":"igw-0cc1f41a6e7a3ffd6","owner_id":"574185952087","tags":{"Name":"igw-production sample-cdktf"},"vpc_id":"vpc-045b92b482ef76254"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-09a6d830e31fa4be1","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.0.0/20","id":"subnet-09a6d830e31fa4be1","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-045b92b482ef76254","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-08b9670156912938d","default_route_table_id":"rtb-01926216c1dc207a6","default_security_group_id":"sg-01b60241c042b1663","dhcp_options_id":"dopt-03da244493f3f476d","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":true,"enable_dns_support":true,"id":"vpc-045b92b482ef76254","instance_tenancy":"default","ipv6_association_id":"","ipv6_cidr_block":"","main_route_table_id":"rtb-01926216c1dc207a6","owner_id":"574185952087","tags":{"Name":"sample-cdktf production"}}}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","version_constraint":"~\u003e 2.0","expressions":{"region":{"constant_value":"ap-northeast-1"}}}},"root_module":{"resources":[{"address":"aws_alb.sample-cdktf-alb","mode":"managed","type":"aws_alb","name":"sample-cdktf-alb","provider_config_key":"aws","expressions":{"enable_deletion_protection":{"constant_value":false},"enable_http2":{"constant_value":true},"internal":{"constant_value":false},"ip_address_type":{"constant_value":"ipv4"},"load_balancer_type":{"constant_value":"application"},"name":{"constant_value":"sample-cdktf-alb"},"security_groups":{"constant_value":["${aws_security_group.sample-cdktf-security-group.id}","${aws_vpc.sample-cdktf-vpc.default_security_group_id}"],"references":["aws_security_group.sample-cdktf-security-group","aws_vpc.sample-cdktf-vpc"]},"subnets":{"constant_value":["${aws_subnet.sample-cdktf-public-subnet1.id}","${aws_subnet.sample-cdktf-public-subnet2.id}"],"references":["aws_subnet.sample-cdktf-public-subnet1","aws_subnet.sample-cdktf-public-subnet2"]}},"schema_version":0},{"address":"aws_alb_listener.sample-cdktf-alb-listener","mode":"managed","type":"aws_alb_listener","name":"sample-cdktf-alb-listener","provider_config_key":"aws","expressions":{"default_action":[{"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]},"type":{"constant_value":"forward"}}],"load_balancer_arn":{"constant_value":"${aws_alb.sample-cdktf-alb.arn}","references":["aws_alb.sample-cdktf-alb"]},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"}},"schema_version":0},{"address":"aws_alb_listener_rule.sample-cdktf-alb-listener-rule","mode":"managed","type":"aws_alb_listener_rule","name":"sample-cdktf-alb-listener-rule","provider_config_key":"aws","expressions":{"action":[{"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]},"type":{"constant_value":"forward"}}],"condition":[{"field":{"constant_value":"path-pattern"},"values":{"constant_value":["*"]}}],"listener_arn":{"constant_value":"${aws_alb_listener.sample-cdktf-alb-listener.arn}","references":["aws_alb_listener.sample-cdktf-alb-listener"]},"priority":{"constant_value":100}},"schema_version":0},{"address":"aws_alb_target_group.sample-cdktf-alb-target-group","mode":"managed","type":"aws_alb_target_group","name":"sample-cdktf-alb-target-
[2022-11-16T17:34:53.868] [DEBUG] default - group","provider_config_key":"aws","expressions":{"health_check":[{"interval":{"constant_value":30},"path":{"constant_value":"/"},"port":{"constant_value":"traffic-port"},"protocol":{"constant_value":"HTTP"},"timeout":{"constant_value":5},"unhealthy_threshold":{"constant_value":2}}],"name":{"constant_value":"sample-cdktf-alb-target-group"},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"},"target_type":{"constant_value":"ip"},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_cloudwatch_event_rule.sample-cdktf-event-rule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"sample-cdktf-event-rule","provider_config_key":"aws","expressions":{"description":{"constant_value":"Capture each AWS ECR Update"},"event_pattern":{"constant_value":"{\n        \"source\": [\"aws.ecr\"],\n        \"detail-type\": [\"ECR Image Action\"],\n        \"detail\": {\n          \"action-type\": [\"PUSH\"],\n          \"result\": [\"SUCCESS\"]\n        }\n      }"},"name":{"constant_value":"capture-ecr-update"}},"schema_version":0},{"address":"aws_cloudwatch_event_target.sample-cdktf-event-target","mode":"managed","type":"aws_cloudwatch_event_target","name":"sample-cdktf-event-target","provider_config_key":"aws","expressions":{"arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"rule":{"constant_value":"${aws_cloudwatch_event_rule.sample-cdktf-event-rule.name}","references":["aws_cloudwatch_event_rule.sample-cdktf-event-rule"]},"target_id":{"constant_value":"SendToSNS"}},"schema_version":0},{"address":"aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-notification-to-slack-log-group","provider_config_key":"aws","expressions":{"name":{"constant_value":"/aws/lambda/${aws_lambda_function.Sample-Lambda-Notification-to-Slack.function_name}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]}},"schema_version":0},{"address":"aws_ecr_repository.sample-cdktf-repository","mode":"managed","type":"aws_ecr_repository","name":"sample-cdktf-repository","provider_config_key":"aws","expressions":{"name":{"constant_value":"project/sample-cdktf"}},"schema_version":0},{"address":"aws_ecs_cluster.sample-cdktf-cluster","mode":"managed","type":"aws_ecs_cluster","name":"sample-cdktf-cluster","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf-cluster"}},"schema_version":0},{"address":"aws_ecs_service.sample-cdktf-ecs-service","mode":"managed","type":"aws_ecs_service","name":"sample-cdktf-ecs-service","provider_config_key":"aws","expressions":{"cluster":{"constant_value":"${aws_ecs_cluster.sample-cdktf-cluster.id}","references":["aws_ecs_cluster.sample-cdktf-cluster"]},"deployment_maximum_percent":{"constant_value":200},"deployment_minimum_healthy_percent":{"constant_value":100},"desired_count":{"constant_value":1},"launch_type":{"constant_value":"FARGATE"},"load_balancer":[{"container_name":{"constant_value":"sample-cdktf-container"},"container_port":{"constant_value":9000},"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]}}],"name":{"constant_value":"sample-cdktf-ecs-service"},"network_configuration":[{"security_groups":{"constant_value":["${aws_vpc.sample-cdktf-vpc.default_security_group_id}"],"references":["aws_vpc.sample-cdktf-vpc"]},"subnets":{"constant_value":["${aws_subnet.sample-cdktf-private-subnet1.id}"],"references":["aws_subnet.sample-cdktf-private-subnet1"]}}],"platform_version":{"constant_value":"LATEST"},"task_definition":{"constant_value":"${aws_ecs_task_definition.sample-cdktf-task.id}","references":["aws_ecs_task_definition.sample-cdktf-task"]}},"schema_version":0},{"address":"aws_ecs_task_definition.sample-cdktf-task","mode":"managed","type":"aws_ecs_task_definition","name":"sample-cdktf-task","provider_config_key":"aws","expressions":{"container_definitions":{"constant_value":"[\n      {\n        \"essential\":    true,\n        \"name\":         \"sample-cdktf-container\",\n        \"image\":        \"${aws_ecr_repository.sample-cdktf-repository.repository_url}:latest\",\n        \"portMappings\": [\n          {\n            \"hostPort\":      9000,\n            \"protocol\":      \"tcp\",\n            \"containerPort\": 9000\n          }\n        ],\n        \"logConfiguration\": {\n          \"logDriver\": \"awslogs\",\n          \"options\": {\n            \"awslogs-group\":         \"/aws/ecs/sample-cdktf-task\",\n            \"awslogs-stream-prefix\": \"ecs\",\n            \"awslogs-region\":        \"ap-northeast-1\"\n          }\n        }\n      }\n    ]","references":["aws_ecr_repository.sample-cdktf-repository"]},"cpu":{"constant_value":"512"},"execution_role_arn":{"constant_value":"${aws_iam_role.ecsTaskExecutionRole.arn}","references":["aws_iam_role.ecsTaskExecutionRole"]},"family":{"constant_value":"task-for-cdktf"},"memory":{"constant_value":"1024"},"network_mode":{"constant_value":"awsvpc"},"requires_compatibilities":{"constant_value":["FARGATE"]},"task_role_arn":{"constant_value":"${aws_iam_role.ecsTaskRole.arn}","references":["aws_iam_role.ecsTaskRole"]}},"schema_version":1},{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_config_key":"aws","expressions":{"vpc":{"constant_value":true}},"schema_version":0},{"address":"aws_iam_policy.ecs-task-execution-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-execution-policy","provider_config_key":"aws","expressions":{"description":{"constant_value":"Policy for updating ECS tasks"},"name":{"constant_value":"ecs-task-execution-policy"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_policy.ecs-task-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-policy","provider_config_key":"aws","expressions":{"description":{"constant_value":"Policy for updating ECS tasks"},"name":{"constant_value":"ecs-task-policy"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecs:DescribeServices\",\n              \"ecs:CreateTaskSet\",\n              \"ecs:UpdateServicePrimaryTaskSet\",\n              \"ecs:DeleteTaskSet\",\n              \"elasticloadbalancing:DescribeTargetGroups\",\n              \"elasticloadbalancing:DescribeListeners\",\n              \"elasticloadbalancing:ModifyListener\",\n              \"elasticloadbalancing:DescribeRules\",\n              \"elasticloadbalancing:ModifyRule\",\n              \"lambda:InvokeFunction\",\n              \"cloudwatch:DescribeAlarms\",\n              \"sns:Publish\",\n              \"s3:GetObject\",\n              \"s3:GetObjectVersion\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_policy.lambda-logging","mode":"managed","type":"aws_iam_policy","name":"lambda-logging","provider_config_key":"aws","expressions":{"description":{"constant_value":"IAM policy for logging from a lambda"},"name":{"constant_value":"sample-cdktf-lambda-logging"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"iam:PassRole\",\n              \"ecs:RegisterTaskDefinition\",\n              \"ecs:UpdateService
[2022-11-16T17:34:53.868] [DEBUG] default - \",\n              \"logs:CreateLogGroup\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\",\n              \"arn:aws:logs:*:*:*\",\n              \"arn:aws:ecs:*:*:*\",\n              \"arn:aws:iam::445682127642:role/sample-cdktf-ecsTaskExecutionRole\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_role.ecsTaskExecutionRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskExecutionRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\":    \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-ecsTaskExecutionRole"}},"schema_version":0},{"address":"aws_iam_role.ecsTaskRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\": \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n          },\n          \"Effect\": \"Allow\",\n          \"Sid\": \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-ecsTaskRole"}},"schema_version":0},{"address":"aws_iam_role.lambdaExecutionRole","mode":"managed","type":"aws_iam_role","name":"lambdaExecutionRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": [\n                \"lambda.amazonaws.com\",\n                \"ecs-tasks.amazonaws.com\"\n              ]\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-lambdaExecutionRole"}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-execution-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-execution-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.ecs-task-execution-policy.arn}","references":["aws_iam_policy.ecs-task-execution-policy"]},"role":{"constant_value":"${aws_iam_role.ecsTaskExecutionRole.name}","references":["aws_iam_role.ecsTaskExecutionRole"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.ecs-task-policy.arn}","references":["aws_iam_policy.ecs-task-policy"]},"role":{"constant_value":"${aws_iam_role.ecsTaskRole.name}","references":["aws_iam_role.ecsTaskRole"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-lambda-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-lambda-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.lambda-logging.arn}","references":["aws_iam_policy.lambda-logging"]},"role":{"constant_value":"${aws_iam_role.lambdaExecutionRole.name}","references":["aws_iam_role.lambdaExecutionRole"]}},"schema_version":0},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_config_key":"aws","expressions":{"tags":{"constant_value":{"Name":"igw-production sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_lambda_function.Sample-Lambda-Notification-to-Slack","mode":"managed","type":"aws_lambda_function","name":"Sample-Lambda-Notification-to-Slack","provider_config_key":"aws","expressions":{"environment":[{"variables":{"constant_value":{"SLACK_API_TOKEN":"xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp","SLACK_CHANNEL":"C049CPNKHMJ"}}}],"function_name":{"constant_value":"Sample-Lambda-Notification-to-Slack"},"handler":{"constant_value":"index.handler"},"role":{"constant_value":"${aws_iam_role.lambdaExecutionRole.arn}","references":["aws_iam_role.lambdaExecutionRole"]},"runtime":{"constant_value":"nodejs12.x"},"s3_bucket":{"constant_value":"${aws_s3_bucket.sample-cdktf-s3.bucket}","references":["aws_s3_bucket.sample-cdktf-s3"]},"s3_key":{"constant_value":"${aws_s3_bucket_object.notification-to-Slack-distzip.key}","references":["aws_s3_bucket_object.notification-to-Slack-distzip"]},"timeout":{"constant_value":30}},"schema_version":0},{"address":"aws_lambda_permission.permission-to-sns","mode":"managed","type":"aws_lambda_permission","name":"permission-to-sns","provider_config_key":"aws","expressions":{"action":{"constant_value":"lambda:InvokeFunction"},"function_name":{"constant_value":"${aws_lambda_function.Sample-Lambda-Notification-to-Slack.function_name}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]},"principal":{"constant_value":"sns.amazonaws.com"},"source_arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"statement_id":{"constant_value":"AllowExecutionFromSNS"}},"schema_version":0},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_config_key":"aws","expressions":{"allocation_id":{"constant_value":"${aws_eip.sample-cdktf-eip.id}","references":["aws_eip.sample-cdktf-eip"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]},"tags":{"constant_value":{"Name":"sample-cdktf nat-gateway-production"}}},"schema_version":0},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_config_key":"aws","expressions":{"route":{"constant_value":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"${aws_nat_gateway.sample-cdktf-nat-gateway.id}","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"references":["aws_nat_gateway.sample-cdktf-nat-gateway"]},"tags":{"constant_value":{"Name":"sample-cdktf Private rtb"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_config_key":"aws","expressions":{"route":{"constant_value":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"${aws_internet_gateway.sample-cdktf-igw-production.id}","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"references":["aws_internet_gateway.sample-cdktf-igw-production"]},"tags":{"constant_value":{"Name":"sample-cdktf Public rtb"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-private-rtb.id}","references":["aws_route_table.sample-cdktf-private-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-private-subnet1.id}","references":["aws_subnet.sample-cdktf-private-subnet1"]}},"schema_version":0},{"address"
[2022-11-16T17:34:53.868] [DEBUG] default - :"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-private-rtb.id}","references":["aws_route_table.sample-cdktf-private-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-private-subnet2.id}","references":["aws_subnet.sample-cdktf-private-subnet2"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet2.id}","references":["aws_subnet.sample-cdktf-public-subnet2"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]}},"schema_version":0},{"address":"aws_s3_bucket.sample-cdktf-s3","mode":"managed","type":"aws_s3_bucket","name":"sample-cdktf-s3","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"sample-cdktf-s3"},"region":{"constant_value":"ap-northeast-1"}},"schema_version":0},{"address":"aws_s3_bucket_object.notification-to-Slack-distzip","mode":"managed","type":"aws_s3_bucket_object","name":"notification-to-Slack-distzip","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"${aws_s3_bucket.sample-cdktf-s3.bucket}","references":["aws_s3_bucket.sample-cdktf-s3"]},"content_type":{"constant_value":"zip"},"key":{"constant_value":"notification-to-Slack-dist.zip"},"source":{"constant_value":"/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip"}},"schema_version":0},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf"},"tags":{"constant_value":{"Name":"sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":0},"protocol":{"constant_value":"all"},"security_group_id":{"constant_value":"${aws_security_group.sample-cdktf-security-group.id}","references":["aws_security_group.sample-cdktf-security-group"]},"to_port":{"constant_value":0},"type":{"constant_value":"egress"}},"schema_version":2},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":80},"protocol":{"constant_value":"tcp"},"security_group_id":{"constant_value":"${aws_security_group.sample-cdktf-security-group.id}","references":["aws_security_group.sample-cdktf-security-group"]},"to_port":{"constant_value":80},"type":{"constant_value":"ingress"}},"schema_version":2},{"address":"aws_sns_topic.sample-cdktf-sns","mode":"managed","type":"aws_sns_topic","name":"sample-cdktf-sns","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf-sns"}},"schema_version":0},{"address":"aws_sns_topic_policy.sample-cdktf-sns-policy","mode":"managed","type":"aws_sns_topic_policy","name":"sample-cdktf-sns-policy","provider_config_key":"aws","expressions":{"arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": {\n          \"Effect\": \"Allow\",\n          \"Sid\":    \"\",\n          \"Principal\": {\n            \"Service\": \"events.amazonaws.com\"\n          },\n          \"Action\": [\n            \"SNS:Publish\"\n          ],\n          \"Resource\": [\n            \"*\"\n          ]\n        }\n      }"}},"schema_version":0},{"address":"aws_sns_topic_subscription.sample-cdktf-sns-subscription","mode":"managed","type":"aws_sns_topic_subscription","name":"sample-cdktf-sns-subscription","provider_config_key":"aws","expressions":{"endpoint":{"constant_value":"${aws_lambda_function.Sample-Lambda-Notification-to-Slack.arn}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]},"protocol":{"constant_value":"lambda"},"topic_arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]}},"schema_version":0},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1a"},"cidr_block":{"constant_value":"10.0.128.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Private1 AZ1a sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1c"},"cidr_block":{"constant_value":"10.0.144.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Private2 AZ1c sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1a"},"cidr_block":{"constant_value":"10.0.0.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Public1 AZ1a sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1c"},"cidr_block":{"constant_value":"10.0.16.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Public2 AZ1c sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_config_key":"aws","expressions":{"cidr_block":{"constant_value":"10.0.0.0/16"},"enable_dns_hostnames":{"constant_value":true},"tags":{"
[2022-11-16T17:34:53.871] [DEBUG] default - constant_value":{"Name":"sample-cdktf production"}}},"schema_version":1}]}}}

[2022-11-16T17:35:06.210] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Destroying... [id=igw-0cc1f41a6e7a3ffd6][0m[0m

[2022-11-16T17:35:06.236] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Destroying... [id=subnet-09a6d830e31fa4be1][0m[0m
[0m[1maws_eip.sample-cdktf-eip: Destroying... [id=eipalloc-0059b36f2e66b30d0][0m[0m

[2022-11-16T17:35:16.211] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 10s elapsed][0m[0m

[2022-11-16T17:35:16.226] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 10s elapsed][0m[0m

[2022-11-16T17:35:26.217] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 20s elapsed][0m[0m
[0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 20s elapsed][0m[0m

[2022-11-16T17:35:36.213] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 30s elapsed][0m[0m

[2022-11-16T17:35:36.219] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 30s elapsed][0m[0m

[2022-11-16T17:35:46.214] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 40s elapsed][0m[0m

[2022-11-16T17:35:46.227] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 40s elapsed][0m[0m

[2022-11-16T17:35:56.226] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 50s elapsed][0m[0m
[0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 50s elapsed][0m[0m

[2022-11-16T17:36:06.217] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 1m0s elapsed][0m[0m

[2022-11-16T17:36:06.222] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 1m0s elapsed][0m[0m

[2022-11-16T17:36:16.217] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 1m10s elapsed][0m[0m

[2022-11-16T17:36:16.221] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 1m10s elapsed][0m[0m

[2022-11-16T17:36:26.219] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 1m20s elapsed][0m[0m

[2022-11-16T17:36:26.224] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 1m20s elapsed][0m[0m

[2022-11-16T17:36:36.220] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 1m30s elapsed][0m[0m

[2022-11-16T17:36:36.225] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 1m30s elapsed][0m[0m

[2022-11-16T17:36:46.221] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 1m40s elapsed][0m[0m

[2022-11-16T17:36:46.226] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 1m40s elapsed][0m[0m

[2022-11-16T17:36:56.223] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 1m50s elapsed][0m[0m

[2022-11-16T17:36:56.227] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 1m50s elapsed][0m[0m

[2022-11-16T17:37:06.223] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 2m0s elapsed][0m[0m

[2022-11-16T17:37:06.228] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 2m0s elapsed][0m[0m

[2022-11-16T17:37:16.224] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 2m10s elapsed][0m[0m

[2022-11-16T17:37:16.233] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 2m10s elapsed][0m[0m

[2022-11-16T17:37:26.225] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 2m20s elapsed][0m[0m

[2022-11-16T17:37:26.230] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 2m20s elapsed][0m[0m

[2022-11-16T17:37:36.230] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 2m30s elapsed][0m[0m

[2022-11-16T17:37:36.235] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 2m30s elapsed][0m[0m

[2022-11-16T17:37:46.233] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 2m40s elapsed][0m[0m

[2022-11-16T17:37:46.236] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 2m40s elapsed][0m[0m

[2022-11-16T17:37:56.235] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-09a6d830e31fa4be1, 2m50s elapsed][0m[0m

[2022-11-16T17:37:56.240] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 2m50s elapsed][0m[0m

[2022-11-16T17:51:20.021] [DEBUG] default - Terraform v0.14.8

[2022-11-16T17:51:20.048] [DEBUG] default - 
Your version of Terraform is out of date! The latest version
is 1.3.4. You can update by downloading from https://www.terraform.io/downloads.html

[2022-11-16T17:52:04.339] [DEBUG] default - 

[2022-11-16T17:52:04.347] [DEBUG] default - [0m[1mInitializing the backend...[0m

[2022-11-16T17:52:04.799] [DEBUG] default - 

[2022-11-16T17:52:04.799] [DEBUG] default - [0m[1mInitializing provider plugins...[0m
- Reusing previous version of hashicorp/aws from the dependency lock file

[2022-11-16T17:52:05.674] [DEBUG] default - - Using previously-installed hashicorp/aws v2.70.1

[2022-11-16T17:52:05.675] [DEBUG] default - 

[2022-11-16T17:52:05.701] [DEBUG] default - [0m[1m[32mTerraform has been successfully initialized![0m[32m[0m
[0m[32m
You may now begin working with Terraform. Try running "terraform plan" to see
any changes that are required for your infrastructure. All Terraform commands
should now work.

If you ever set or change modules or backend configuration for Terraform,
rerun this command to reinitialize your working directory. If you forget, other
commands will detect it and remind you to do so if necessary.[0m

[2022-11-16T17:52:07.071] [DEBUG] default - 

[2022-11-16T17:52:07.071] [DEBUG] default - An execution plan has been generated and is shown below.
Resource actions are indicated with the following symbols:
  [31m-[0m destroy
[0m
Terraform will perform the following actions:

[1m  # aws_eip.sample-cdktf-eip[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_eip" "sample-cdktf-eip" {

[2022-11-16T17:52:07.071] [DEBUG] default -       [31m-[0m [0m[1m[0mdomain[0m[0m           = "vpc" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T17:52:07.071] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m               = "eipalloc-0059b36f2e66b30d0" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T17:52:07.072] [DEBUG] default -       [31m-[0m [0m[1m[0mpublic_dns[0m[0m       = "ec2-35-79-243-233.ap-northeast-1.compute.amazonaws.com" [90m->[0m [0m[90mnull[0m[0m

[2022-11-16T17:52:07.098] [DEBUG] default -       [31m-[0m [0m[1m[0mpublic_ip[0m[0m        = "35.79.243.233" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mpublic_ipv4_pool[0m[0m = "amazon" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mvpc[0m[0m              = true [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_internet_gateway.sample-cdktf-igw-production[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_internet_gateway" "sample-cdktf-igw-production" {
      [31m-[0m [0m[1m[0marn[0m[0m      = "arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-0cc1f41a6e7a3ffd6" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m       = "igw-0cc1f41a6e7a3ffd6" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mowner_id[0m[0m = "574185952087" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtags[0m[0m     = {
          [31m-[0m [0m"Name" = "igw-production sample-cdktf"
        } [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mvpc_id[0m[0m   = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_subnet.sample-cdktf-public-subnet1[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_subnet" "sample-cdktf-public-subnet1" {
      [31m-[0m [0m[1m[0marn[0m[0m                             = "arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-09a6d830e31fa4be1" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1a" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mavailability_zone_id[0m[0m            = "apne1-az4" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.0.0/20" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                              = "subnet-09a6d830e31fa4be1" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mowner_id[0m[0m                        = "574185952087" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtags[0m[0m                            = {
          [31m-[0m [0m"Name" = "Public1 AZ1a sample-cdktf"
        } [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mvpc_id[0m[0m                          = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_vpc.sample-cdktf-vpc[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_vpc" "sample-cdktf-vpc" {
      [31m-[0m [0m[1m[0marn[0m[0m                              = "arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0massign_generated_ipv6_cidr_block[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mcidr_block[0m[0m                       = "10.0.0.0/16" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdefault_network_acl_id[0m[0m           = "acl-08b9670156912938d" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdefault_route_table_id[0m[0m           = "rtb-01926216c1dc207a6" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdefault_security_group_id[0m[0m        = "sg-01b60241c042b1663" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdhcp_options_id[0m[0m                  = "dopt-03da244493f3f476d" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0menable_classiclink[0m[0m               = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0menable_classiclink_dns_support[0m[0m   = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0menable_dns_hostnames[0m[0m             = true [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0menable_dns_support[0m[0m               = true [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                               = "vpc-045b92b482ef76254" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0minstance_tenancy[0m[0m                 = "default" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mmain_route_table_id[0m[0m              = "rtb-01926216c1dc207a6" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mowner_id[0m[0m                         = "574185952087" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtags[0m[0m                             = {
          [31m-[0m [0m"Name" = "sample-cdktf production"
        } [90m->[0m [0m[90mnull[0m[0m
    }

[0m[1mPlan:[0m 0 to add, 0 to change, 4 to destroy.[0m
[33m
[1m[33mWarning: [0m[0m[1m"condition.0.values": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m

[0m  on cdk.tf.json line 672, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:
 672:       [4m}[0m
[0m
[0m[0m
[33m
[1m[33mWarning: [0m[0m[1m"condition.0.field": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m

[0m  on cdk.tf.json line 672, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:
 672:       [4m}[0m
[0m
[0m[0m

------------------------------------------------------------------------

This plan was saved to: /Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/cdktf.out/plan

To perform exactly these actions, run the following command to apply:
    terraform apply "/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/cdktf.out/plan"


[2022-11-16T17:52:07.989] [DEBUG] default - {"format_version":"0.1","terraform_version":"0.14.8","planned_values":{"root_module":{}},"resource_changes":[{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"allocation_id":null,"associate_with_private_ip":null,"association_id":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-0059b36f2e66b30d0","instance":"","network_interface":"","private_dns":null,"private_ip":"","public_dns":"ec2-35-79-243-233.ap-northeast-1.compute.amazonaws.com","public_ip":"35.79.243.233","public_ipv4_pool":"amazon","tags":null,"timeouts":null,"vpc":true},"after":null,"after_unknown":{}}},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-0cc1f41a6e7a3ffd6","id":"igw-0cc1f41a6e7a3ffd6","owner_id":"574185952087","tags":{"Name":"igw-production sample-cdktf"},"vpc_id":"vpc-045b92b482ef76254"},"after":null,"after_unknown":{}}},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-09a6d830e31fa4be1","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.0.0/20","id":"subnet-09a6d830e31fa4be1","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"after":null,"after_unknown":{}}},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-045b92b482ef76254","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-08b9670156912938d","default_route_table_id":"rtb-01926216c1dc207a6","default_security_group_id":"sg-01b60241c042b1663","dhcp_options_id":"dopt-03da244493f3f476d","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":true,"enable_dns_support":true,"id":"vpc-045b92b482ef76254","instance_tenancy":"default","ipv6_association_id":"","ipv6_cidr_block":"","main_route_table_id":"rtb-01926216c1dc207a6","owner_id":"574185952087","tags":{"Name":"sample-cdktf production"}},"after":null,"after_unknown":{}}}],"prior_state":{"format_version":"0.1","terraform_version":"0.14.8","values":{"root_module":{"resources":[{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"allocation_id":null,"associate_with_private_ip":null,"association_id":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-0059b36f2e66b30d0","instance":"","network_interface":"","private_dns":null,"private_ip":"","public_dns":"ec2-35-79-243-233.ap-northeast-1.compute.amazonaws.com","public_ip":"35.79.243.233","public_ipv4_pool":"amazon","tags":null,"timeouts":null,"vpc":true}},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-0cc1f41a6e7a3ffd6","id":"igw-0cc1f41a6e7a3ffd6","owner_id":"574185952087","tags":{"Name":"igw-production sample-cdktf"},"vpc_id":"vpc-045b92b482ef76254"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-09a6d830e31fa4be1","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.0.0/20","id":"subnet-09a6d830e31fa4be1","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-045b92b482ef76254"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-045b92b482ef76254","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-08b9670156912938d","default_route_table_id":"rtb-01926216c1dc207a6","default_security_group_id":"sg-01b60241c042b1663","dhcp_options_id":"dopt-03da244493f3f476d","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":true,"enable_dns_support":true,"id":"vpc-045b92b482ef76254","instance_tenancy":"default","ipv6_association_id":"","ipv6_cidr_block":"","main_route_table_id":"rtb-01926216c1dc207a6","owner_id":"574185952087","tags":{"Name":"sample-cdktf production"}}}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","version_constraint":"~\u003e 2.0","expressions":{"region":{"constant_value":"ap-northeast-1"}}}},"root_module":{"resources":[{"address":"aws_alb.sample-cdktf-alb","mode":"managed","type":"aws_alb","name":"sample-cdktf-alb","provider_config_key":"aws","expressions":{"enable_deletion_protection":{"constant_value":false},"enable_http2":{"constant_value":true},"internal":{"constant_value":false},"ip_address_type":{"constant_value":"ipv4"},"load_balancer_type":{"constant_value":"application"},"name":{"constant_value":"sample-cdktf-alb"},"security_groups":{"constant_value":["${aws_security_group.sample-cdktf-security-group.id}","${aws_vpc.sample-cdktf-vpc.default_security_group_id}"],"references":["aws_security_group.sample-cdktf-security-group","aws_vpc.sample-cdktf-vpc"]},"subnets":{"constant_value":["${aws_subnet.sample-cdktf-public-subnet1.id}","${aws_subnet.sample-cdktf-public-subnet2.id}"],"references":["aws_subnet.sample-cdktf-public-subnet1","aws_subnet.sample-cdktf-public-subnet2"]}},"schema_version":0},{"address":"aws_alb_listener.sample-cdktf-alb-listener","mode":"managed","type":"aws_alb_listener","name":"sample-cdktf-alb-listener","provider_config_key":"aws","expressions":{"default_action":[{"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]},"type":{"constant_value":"forward"}}],"load_balancer_arn":{"constant_value":"${aws_alb.sample-cdktf-alb.arn}","references":["aws_alb.sample-cdktf-alb"]},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"}},"schema_version":0},{"address":"aws_alb_listener_rule.sample-cdktf-alb-listener-rule","mode":"managed","type":"aws_alb_listener_rule","name":"sample-cdktf-alb-listener-rule","provider_config_key":"aws","expressions":{"action":[{"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]},"type":{"constant_value":"forward"}}],"condition":[{"field":{"constant_value":"path-pattern"},"values":{"constant_value":["*"]}}],"listener_arn":{"constant_value":"${aws_alb_listener.sample-cdktf-alb-listener.arn}","references":["aws_alb_listener.sample-cdktf-alb-listener"]},"priority":{"constant_value":100}},"schema_version":0},{"address":"aws_alb_target_group.sample-cdktf-alb-target-group","mode":"managed","type":"aws_alb_target_group","name":"sample-cdktf-alb-target-
[2022-11-16T17:52:07.997] [DEBUG] default - group","provider_config_key":"aws","expressions":{"health_check":[{"interval":{"constant_value":30},"path":{"constant_value":"/"},"port":{"constant_value":"traffic-port"},"protocol":{"constant_value":"HTTP"},"timeout":{"constant_value":5},"unhealthy_threshold":{"constant_value":2}}],"name":{"constant_value":"sample-cdktf-alb-target-group"},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"},"target_type":{"constant_value":"ip"},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_cloudwatch_event_rule.sample-cdktf-event-rule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"sample-cdktf-event-rule","provider_config_key":"aws","expressions":{"description":{"constant_value":"Capture each AWS ECR Update"},"event_pattern":{"constant_value":"{\n        \"source\": [\"aws.ecr\"],\n        \"detail-type\": [\"ECR Image Action\"],\n        \"detail\": {\n          \"action-type\": [\"PUSH\"],\n          \"result\": [\"SUCCESS\"]\n        }\n      }"},"name":{"constant_value":"capture-ecr-update"}},"schema_version":0},{"address":"aws_cloudwatch_event_target.sample-cdktf-event-target","mode":"managed","type":"aws_cloudwatch_event_target","name":"sample-cdktf-event-target","provider_config_key":"aws","expressions":{"arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"rule":{"constant_value":"${aws_cloudwatch_event_rule.sample-cdktf-event-rule.name}","references":["aws_cloudwatch_event_rule.sample-cdktf-event-rule"]},"target_id":{"constant_value":"SendToSNS"}},"schema_version":0},{"address":"aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-notification-to-slack-log-group","provider_config_key":"aws","expressions":{"name":{"constant_value":"/aws/lambda/${aws_lambda_function.Sample-Lambda-Notification-to-Slack.function_name}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]}},"schema_version":0},{"address":"aws_ecr_repository.sample-cdktf-repository","mode":"managed","type":"aws_ecr_repository","name":"sample-cdktf-repository","provider_config_key":"aws","expressions":{"name":{"constant_value":"project/sample-cdktf"}},"schema_version":0},{"address":"aws_ecs_cluster.sample-cdktf-cluster","mode":"managed","type":"aws_ecs_cluster","name":"sample-cdktf-cluster","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf-cluster"}},"schema_version":0},{"address":"aws_ecs_service.sample-cdktf-ecs-service","mode":"managed","type":"aws_ecs_service","name":"sample-cdktf-ecs-service","provider_config_key":"aws","expressions":{"cluster":{"constant_value":"${aws_ecs_cluster.sample-cdktf-cluster.id}","references":["aws_ecs_cluster.sample-cdktf-cluster"]},"deployment_maximum_percent":{"constant_value":200},"deployment_minimum_healthy_percent":{"constant_value":100},"desired_count":{"constant_value":1},"launch_type":{"constant_value":"FARGATE"},"load_balancer":[{"container_name":{"constant_value":"sample-cdktf-container"},"container_port":{"constant_value":9000},"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]}}],"name":{"constant_value":"sample-cdktf-ecs-service"},"network_configuration":[{"security_groups":{"constant_value":["${aws_vpc.sample-cdktf-vpc.default_security_group_id}"],"references":["aws_vpc.sample-cdktf-vpc"]},"subnets":{"constant_value":["${aws_subnet.sample-cdktf-private-subnet1.id}"],"references":["aws_subnet.sample-cdktf-private-subnet1"]}}],"platform_version":{"constant_value":"LATEST"},"task_definition":{"constant_value":"${aws_ecs_task_definition.sample-cdktf-task.id}","references":["aws_ecs_task_definition.sample-cdktf-task"]}},"schema_version":0},{"address":"aws_ecs_task_definition.sample-cdktf-task","mode":"managed","type":"aws_ecs_task_definition","name":"sample-cdktf-task","provider_config_key":"aws","expressions":{"container_definitions":{"constant_value":"[\n      {\n        \"essential\":    true,\n        \"name\":         \"sample-cdktf-container\",\n        \"image\":        \"${aws_ecr_repository.sample-cdktf-repository.repository_url}:latest\",\n        \"portMappings\": [\n          {\n            \"hostPort\":      9000,\n            \"protocol\":      \"tcp\",\n            \"containerPort\": 9000\n          }\n        ],\n        \"logConfiguration\": {\n          \"logDriver\": \"awslogs\",\n          \"options\": {\n            \"awslogs-group\":         \"/aws/ecs/sample-cdktf-task\",\n            \"awslogs-stream-prefix\": \"ecs\",\n            \"awslogs-region\":        \"ap-northeast-1\"\n          }\n        }\n      }\n    ]","references":["aws_ecr_repository.sample-cdktf-repository"]},"cpu":{"constant_value":"512"},"execution_role_arn":{"constant_value":"${aws_iam_role.ecsTaskExecutionRole.arn}","references":["aws_iam_role.ecsTaskExecutionRole"]},"family":{"constant_value":"task-for-cdktf"},"memory":{"constant_value":"1024"},"network_mode":{"constant_value":"awsvpc"},"requires_compatibilities":{"constant_value":["FARGATE"]},"task_role_arn":{"constant_value":"${aws_iam_role.ecsTaskRole.arn}","references":["aws_iam_role.ecsTaskRole"]}},"schema_version":1},{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_config_key":"aws","expressions":{"vpc":{"constant_value":true}},"schema_version":0},{"address":"aws_iam_policy.ecs-task-execution-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-execution-policy","provider_config_key":"aws","expressions":{"description":{"constant_value":"Policy for updating ECS tasks"},"name":{"constant_value":"ecs-task-execution-policy"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_policy.ecs-task-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-policy","provider_config_key":"aws","expressions":{"description":{"constant_value":"Policy for updating ECS tasks"},"name":{"constant_value":"ecs-task-policy"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecs:DescribeServices\",\n              \"ecs:CreateTaskSet\",\n              \"ecs:UpdateServicePrimaryTaskSet\",\n              \"ecs:DeleteTaskSet\",\n              \"elasticloadbalancing:DescribeTargetGroups\",\n              \"elasticloadbalancing:DescribeListeners\",\n              \"elasticloadbalancing:ModifyListener\",\n              \"elasticloadbalancing:DescribeRules\",\n              \"elasticloadbalancing:ModifyRule\",\n              \"lambda:InvokeFunction\",\n              \"cloudwatch:DescribeAlarms\",\n              \"sns:Publish\",\n              \"s3:GetObject\",\n              \"s3:GetObjectVersion\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_policy.lambda-logging","mode":"managed","type":"aws_iam_policy","name":"lambda-logging","provider_config_key":"aws","expressions":{"description":{"constant_value":"IAM policy for logging from a lambda"},"name":{"constant_value":"sample-cdktf-lambda-logging"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"iam:PassRole\",\n              \"ecs:RegisterTaskDefinition\",\n              \"ecs:UpdateService
[2022-11-16T17:52:07.998] [DEBUG] default - \",\n              \"logs:CreateLogGroup\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\",\n              \"arn:aws:logs:*:*:*\",\n              \"arn:aws:ecs:*:*:*\",\n              \"arn:aws:iam::445682127642:role/sample-cdktf-ecsTaskExecutionRole\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_role.ecsTaskExecutionRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskExecutionRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\":    \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-ecsTaskExecutionRole"}},"schema_version":0},{"address":"aws_iam_role.ecsTaskRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\": \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n          },\n          \"Effect\": \"Allow\",\n          \"Sid\": \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-ecsTaskRole"}},"schema_version":0},{"address":"aws_iam_role.lambdaExecutionRole","mode":"managed","type":"aws_iam_role","name":"lambdaExecutionRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": [\n                \"lambda.amazonaws.com\",\n                \"ecs-tasks.amazonaws.com\"\n              ]\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-lambdaExecutionRole"}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-execution-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-execution-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.ecs-task-execution-policy.arn}","references":["aws_iam_policy.ecs-task-execution-policy"]},"role":{"constant_value":"${aws_iam_role.ecsTaskExecutionRole.name}","references":["aws_iam_role.ecsTaskExecutionRole"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.ecs-task-policy.arn}","references":["aws_iam_policy.ecs-task-policy"]},"role":{"constant_value":"${aws_iam_role.ecsTaskRole.name}","references":["aws_iam_role.ecsTaskRole"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-lambda-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-lambda-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.lambda-logging.arn}","references":["aws_iam_policy.lambda-logging"]},"role":{"constant_value":"${aws_iam_role.lambdaExecutionRole.name}","references":["aws_iam_role.lambdaExecutionRole"]}},"schema_version":0},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_config_key":"aws","expressions":{"tags":{"constant_value":{"Name":"igw-production sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_lambda_function.Sample-Lambda-Notification-to-Slack","mode":"managed","type":"aws_lambda_function","name":"Sample-Lambda-Notification-to-Slack","provider_config_key":"aws","expressions":{"environment":[{"variables":{"constant_value":{"SLACK_API_TOKEN":"xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp","SLACK_CHANNEL":"C049CPNKHMJ"}}}],"function_name":{"constant_value":"Sample-Lambda-Notification-to-Slack"},"handler":{"constant_value":"index.handler"},"role":{"constant_value":"${aws_iam_role.lambdaExecutionRole.arn}","references":["aws_iam_role.lambdaExecutionRole"]},"runtime":{"constant_value":"nodejs12.x"},"s3_bucket":{"constant_value":"${aws_s3_bucket.sample-cdktf-s3.bucket}","references":["aws_s3_bucket.sample-cdktf-s3"]},"s3_key":{"constant_value":"${aws_s3_bucket_object.notification-to-Slack-distzip.key}","references":["aws_s3_bucket_object.notification-to-Slack-distzip"]},"timeout":{"constant_value":30}},"schema_version":0},{"address":"aws_lambda_permission.permission-to-sns","mode":"managed","type":"aws_lambda_permission","name":"permission-to-sns","provider_config_key":"aws","expressions":{"action":{"constant_value":"lambda:InvokeFunction"},"function_name":{"constant_value":"${aws_lambda_function.Sample-Lambda-Notification-to-Slack.function_name}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]},"principal":{"constant_value":"sns.amazonaws.com"},"source_arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"statement_id":{"constant_value":"AllowExecutionFromSNS"}},"schema_version":0},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_config_key":"aws","expressions":{"allocation_id":{"constant_value":"${aws_eip.sample-cdktf-eip.id}","references":["aws_eip.sample-cdktf-eip"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]},"tags":{"constant_value":{"Name":"sample-cdktf nat-gateway-production"}}},"schema_version":0},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_config_key":"aws","expressions":{"route":{"constant_value":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"${aws_nat_gateway.sample-cdktf-nat-gateway.id}","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"references":["aws_nat_gateway.sample-cdktf-nat-gateway"]},"tags":{"constant_value":{"Name":"sample-cdktf Private rtb"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_config_key":"aws","expressions":{"route":{"constant_value":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"${aws_internet_gateway.sample-cdktf-igw-production.id}","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"references":["aws_internet_gateway.sample-cdktf-igw-production"]},"tags":{"constant_value":{"Name":"sample-cdktf Public rtb"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-private-rtb.id}","references":["aws_route_table.sample-cdktf-private-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-private-subnet1.id}","references":["aws_subnet.sample-cdktf-private-subnet1"]}},"schema_version":0},{"address"
[2022-11-16T17:52:07.999] [DEBUG] default - :"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-private-rtb.id}","references":["aws_route_table.sample-cdktf-private-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-private-subnet2.id}","references":["aws_subnet.sample-cdktf-private-subnet2"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet2.id}","references":["aws_subnet.sample-cdktf-public-subnet2"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]}},"schema_version":0},{"address":"aws_s3_bucket.sample-cdktf-s3","mode":"managed","type":"aws_s3_bucket","name":"sample-cdktf-s3","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"sample-cdktf-s3"},"region":{"constant_value":"ap-northeast-1"}},"schema_version":0},{"address":"aws_s3_bucket_object.notification-to-Slack-distzip","mode":"managed","type":"aws_s3_bucket_object","name":"notification-to-Slack-distzip","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"${aws_s3_bucket.sample-cdktf-s3.bucket}","references":["aws_s3_bucket.sample-cdktf-s3"]},"content_type":{"constant_value":"zip"},"key":{"constant_value":"notification-to-Slack-dist.zip"},"source":{"constant_value":"/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip"}},"schema_version":0},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf"},"tags":{"constant_value":{"Name":"sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":0},"protocol":{"constant_value":"all"},"security_group_id":{"constant_value":"${aws_security_group.sample-cdktf-security-group.id}","references":["aws_security_group.sample-cdktf-security-group"]},"to_port":{"constant_value":0},"type":{"constant_value":"egress"}},"schema_version":2},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":80},"protocol":{"constant_value":"tcp"},"security_group_id":{"constant_value":"${aws_security_group.sample-cdktf-security-group.id}","references":["aws_security_group.sample-cdktf-security-group"]},"to_port":{"constant_value":80},"type":{"constant_value":"ingress"}},"schema_version":2},{"address":"aws_sns_topic.sample-cdktf-sns","mode":"managed","type":"aws_sns_topic","name":"sample-cdktf-sns","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf-sns"}},"schema_version":0},{"address":"aws_sns_topic_policy.sample-cdktf-sns-policy","mode":"managed","type":"aws_sns_topic_policy","name":"sample-cdktf-sns-policy","provider_config_key":"aws","expressions":{"arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": {\n          \"Effect\": \"Allow\",\n          \"Sid\":    \"\",\n          \"Principal\": {\n            \"Service\": \"events.amazonaws.com\"\n          },\n          \"Action\": [\n            \"SNS:Publish\"\n          ],\n          \"Resource\": [\n            \"*\"\n          ]\n        }\n      }"}},"schema_version":0},{"address":"aws_sns_topic_subscription.sample-cdktf-sns-subscription","mode":"managed","type":"aws_sns_topic_subscription","name":"sample-cdktf-sns-subscription","provider_config_key":"aws","expressions":{"endpoint":{"constant_value":"${aws_lambda_function.Sample-Lambda-Notification-to-Slack.arn}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]},"protocol":{"constant_value":"lambda"},"topic_arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]}},"schema_version":0},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1a"},"cidr_block":{"constant_value":"10.0.128.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Private1 AZ1a sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1c"},"cidr_block":{"constant_value":"10.0.144.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Private2 AZ1c sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1a"},"cidr_block":{"constant_value":"10.0.0.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Public1 AZ1a sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1c"},"cidr_block":{"constant_value":"10.0.16.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Public2 AZ1c sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_config_key":"aws","expressions":{"cidr_block":{"constant_value":"10.0.0.0/16"},"enable_dns_hostnames":{"constant_value":true},"tags":{"
[2022-11-16T17:52:07.999] [DEBUG] default - constant_value":{"Name":"sample-cdktf production"}}},"schema_version":1}]}}}

[2022-11-16T17:52:16.792] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Destroying... [id=igw-0cc1f41a6e7a3ffd6][0m[0m

[2022-11-16T17:52:16.805] [DEBUG] default - [0m[1maws_eip.sample-cdktf-eip: Destroying... [id=eipalloc-0059b36f2e66b30d0][0m[0m
[0m[1maws_subnet.sample-cdktf-public-subnet1: Destroying... [id=subnet-09a6d830e31fa4be1][0m[0m

[2022-11-16T17:52:17.379] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Destruction complete after 0s[0m[0m

[2022-11-16T17:52:17.728] [DEBUG] default - [0m[1maws_eip.sample-cdktf-eip: Destruction complete after 1s[0m[0m

[2022-11-16T17:52:26.793] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0cc1f41a6e7a3ffd6, 10s elapsed][0m[0m

[2022-11-16T17:52:27.318] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Destruction complete after 10s[0m[0m

[2022-11-16T17:52:27.341] [DEBUG] default - [0m[1maws_vpc.sample-cdktf-vpc: Destroying... [id=vpc-045b92b482ef76254][0m[0m

[2022-11-16T17:52:28.153] [DEBUG] default - [0m[1maws_vpc.sample-cdktf-vpc: Destruction complete after 1s[0m[0m

[2022-11-16T17:52:28.209] [DEBUG] default - [33m

[2022-11-16T17:52:28.212] [DEBUG] default - [1m[33mWarning: [0m[0m[1m"condition.0.values": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m

[0m  on cdk.tf.json line 672, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:
 672:       [4m}[0m
[0m
[0m[0m

[2022-11-16T17:52:28.255] [ERROR] default - TypeError: Cannot read properties of undefined (reading 'startsWith')
    at exports.ResourceName (/Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/bin/cmds/ui/components/resource-name.js:12:43)
    at Jd (/Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/node_modules/react-reconciler/cjs/react-reconciler.production.min.js:64:98)
    at ig (/Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/node_modules/react-reconciler/cjs/react-reconciler.production.min.js:160:456)
    at hg (/Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/node_modules/react-reconciler/cjs/react-reconciler.production.min.js:139:22)
    at bg (/Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/node_modules/react-reconciler/cjs/react-reconciler.production.min.js:138:366)
    at Of (/Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/node_modules/react-reconciler/cjs/react-reconciler.production.min.js:132:214)
    at /Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/node_modules/react-reconciler/cjs/react-reconciler.production.min.js:30:115
    at exports.unstable_runWithPriority (/Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/node_modules/scheduler/cjs/scheduler.production.min.js:18:437)
    at hc (/Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/node_modules/react-reconciler/cjs/react-reconciler.production.min.js:29:325)
    at kc (/Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/node_modules/react-reconciler/cjs/react-reconciler.production.min.js:30:61) {
  componentStack: '\n' +
    '    in Unknown\n' +
    '    in div\n' +
    '    in Box\n' +
    '    in Unknown\n' +
    '    in div\n' +
    '    in Box\n' +
    '    in div\n' +
    '    in Box\n' +
    '    in Unknown\n' +
    '    in div\n' +
    '    in Box\n' +
    '    in Unknown\n' +
    '    in Unknown\n' +
    '    in Unknown\n' +
    '    in ErrorBoundary\n' +
    '    in Unknown\n' +
    '    in App'
}
[2022-11-16T17:52:28.257] [DEBUG] default - [33m
[1m[33mWarning: [0m[0m[1m"condition.0.field": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m

[0m  on cdk.tf.json line 672, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:
 672:       [4m}[0m
[0m
[0m[0m
[0m[1m[32m
Destroy complete! Resources: 4 destroyed.[0m

[2022-11-16T17:53:35.373] [DEBUG] default - Terraform v0.14.8


[2022-11-16T17:53:35.403] [DEBUG] default - Your version of Terraform is out of date! The latest version
is 1.3.4. You can update by downloading from https://www.terraform.io/downloads.html

[2022-11-16T17:54:21.350] [DEBUG] default - 

[2022-11-16T17:54:21.352] [DEBUG] default - [0m[1mInitializing the backend...[0m

[2022-11-16T17:54:21.769] [DEBUG] default - 

[2022-11-16T17:54:21.769] [DEBUG] default - [0m[1mInitializing provider plugins...[0m
- Reusing previous version of hashicorp/aws from the dependency lock file

[2022-11-16T17:54:22.630] [DEBUG] default - - Using previously-installed hashicorp/aws v2.70.1

[2022-11-16T17:54:22.631] [DEBUG] default - 

[2022-11-16T17:54:22.651] [DEBUG] default - [0m[1m[32mTerraform has been successfully initialized![0m[32m[0m
[0m[32m
You may now begin working with Terraform. Try running "terraform plan" to see
any changes that are required for your infrastructure. All Terraform commands
should now work.

If you ever set or change modules or backend configuration for Terraform,
rerun this command to reinitialize your working directory. If you forget, other
commands will detect it and remind you to do so if necessary.[0m

[2022-11-16T17:54:23.732] [DEBUG] default - 

[2022-11-16T17:54:23.732] [DEBUG] default - [0m[1m[32mNo changes. Infrastructure is up-to-date.[0m[32m

This means that Terraform did not detect any differences between your
configuration and real physical resources that exist. As a result, no
actions need to be performed.[0m

[2022-11-16T17:54:23.740] [DEBUG] default - [33m

[2022-11-16T17:54:23.740] [DEBUG] default - [1m[33mWarning: [0m[0m[1m"condition.0.values": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m


[2022-11-16T17:54:23.740] [DEBUG] default - [0m  on cdk.tf.json line 672, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:
 672:       [4m}[0m

[2022-11-16T17:54:23.750] [DEBUG] default - [0m
[0m[0m
[33m
[1m[33mWarning: [0m[0m[1m"condition.0.field": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m


[2022-11-16T17:54:23.750] [DEBUG] default - [0m  on cdk.tf.json line 672, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:
 672:       [4m}[0m
[0m
[0m[0m

[2022-11-16T17:54:24.588] [DEBUG] default - {"format_version":"0.1","terraform_version":"0.14.8","planned_values":{"root_module":{}},"configuration":{"provider_config":{"aws":{"name":"aws","version_constraint":"~\u003e 2.0","expressions":{"region":{"constant_value":"ap-northeast-1"}}}},"root_module":{"resources":[{"address":"aws_alb.sample-cdktf-alb","mode":"managed","type":"aws_alb","name":"sample-cdktf-alb","provider_config_key":"aws","expressions":{"enable_deletion_protection":{"constant_value":false},"enable_http2":{"constant_value":true},"internal":{"constant_value":false},"ip_address_type":{"constant_value":"ipv4"},"load_balancer_type":{"constant_value":"application"},"name":{"constant_value":"sample-cdktf-alb"},"security_groups":{"constant_value":["${aws_security_group.sample-cdktf-security-group.id}","${aws_vpc.sample-cdktf-vpc.default_security_group_id}"],"references":["aws_security_group.sample-cdktf-security-group","aws_vpc.sample-cdktf-vpc"]},"subnets":{"constant_value":["${aws_subnet.sample-cdktf-public-subnet1.id}","${aws_subnet.sample-cdktf-public-subnet2.id}"],"references":["aws_subnet.sample-cdktf-public-subnet1","aws_subnet.sample-cdktf-public-subnet2"]}},"schema_version":0},{"address":"aws_alb_listener.sample-cdktf-alb-listener","mode":"managed","type":"aws_alb_listener","name":"sample-cdktf-alb-listener","provider_config_key":"aws","expressions":{"default_action":[{"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]},"type":{"constant_value":"forward"}}],"load_balancer_arn":{"constant_value":"${aws_alb.sample-cdktf-alb.arn}","references":["aws_alb.sample-cdktf-alb"]},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"}},"schema_version":0},{"address":"aws_alb_listener_rule.sample-cdktf-alb-listener-rule","mode":"managed","type":"aws_alb_listener_rule","name":"sample-cdktf-alb-listener-rule","provider_config_key":"aws","expressions":{"action":[{"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]},"type":{"constant_value":"forward"}}],"condition":[{"field":{"constant_value":"path-pattern"},"values":{"constant_value":["*"]}}],"listener_arn":{"constant_value":"${aws_alb_listener.sample-cdktf-alb-listener.arn}","references":["aws_alb_listener.sample-cdktf-alb-listener"]},"priority":{"constant_value":100}},"schema_version":0},{"address":"aws_alb_target_group.sample-cdktf-alb-target-group","mode":"managed","type":"aws_alb_target_group","name":"sample-cdktf-alb-target-group","provider_config_key":"aws","expressions":{"health_check":[{"interval":{"constant_value":30},"path":{"constant_value":"/"},"port":{"constant_value":"traffic-port"},"protocol":{"constant_value":"HTTP"},"timeout":{"constant_value":5},"unhealthy_threshold":{"constant_value":2}}],"name":{"constant_value":"sample-cdktf-alb-target-group"},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"},"target_type":{"constant_value":"ip"},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_cloudwatch_event_rule.sample-cdktf-event-rule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"sample-cdktf-event-rule","provider_config_key":"aws","expressions":{"description":{"constant_value":"Capture each AWS ECR Update"},"event_pattern":{"constant_value":"{\n        \"source\": [\"aws.ecr\"],\n        \"detail-type\": [\"ECR Image Action\"],\n        \"detail\": {\n          \"action-type\": [\"PUSH\"],\n          \"result\": [\"SUCCESS\"]\n        }\n      }"},"name":{"constant_value":"capture-ecr-update"}},"schema_version":0},{"address":"aws_cloudwatch_event_target.sample-cdktf-event-target","mode":"managed","type":"aws_cloudwatch_event_target","name":"sample-cdktf-event-target","provider_config_key":"aws","expressions":{"arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"rule":{"constant_value":"${aws_cloudwatch_event_rule.sample-cdktf-event-rule.name}","references":["aws_cloudwatch_event_rule.sample-cdktf-event-rule"]},"target_id":{"constant_value":"SendToSNS"}},"schema_version":0},{"address":"aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-notification-to-slack-log-group","provider_config_key":"aws","expressions":{"name":{"constant_value":"/aws/lambda/${aws_lambda_function.Sample-Lambda-Notification-to-Slack.function_name}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]}},"schema_version":0},{"address":"aws_ecr_repository.sample-cdktf-repository","mode":"managed","type":"aws_ecr_repository","name":"sample-cdktf-repository","provider_config_key":"aws","expressions":{"name":{"constant_value":"project/sample-cdktf"}},"schema_version":0},{"address":"aws_ecs_cluster.sample-cdktf-cluster","mode":"managed","type":"aws_ecs_cluster","name":"sample-cdktf-cluster","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf-cluster"}},"schema_version":0},{"address":"aws_ecs_service.sample-cdktf-ecs-service","mode":"managed","type":"aws_ecs_service","name":"sample-cdktf-ecs-service","provider_config_key":"aws","expressions":{"cluster":{"constant_value":"${aws_ecs_cluster.sample-cdktf-cluster.id}","references":["aws_ecs_cluster.sample-cdktf-cluster"]},"deployment_maximum_percent":{"constant_value":200},"deployment_minimum_healthy_percent":{"constant_value":100},"desired_count":{"constant_value":1},"launch_type":{"constant_value":"FARGATE"},"load_balancer":[{"container_name":{"constant_value":"sample-cdktf-container"},"container_port":{"constant_value":9000},"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]}}],"name":{"constant_value":"sample-cdktf-ecs-service"},"network_configuration":[{"security_groups":{"constant_value":["${aws_vpc.sample-cdktf-vpc.default_security_group_id}"],"references":["aws_vpc.sample-cdktf-vpc"]},"subnets":{"constant_value":["${aws_subnet.sample-cdktf-private-subnet1.id}"],"references":["aws_subnet.sample-cdktf-private-subnet1"]}}],"platform_version":{"constant_value":"LATEST"},"task_definition":{"constant_value":"${aws_ecs_task_definition.sample-cdktf-task.id}","references":["aws_ecs_task_definition.sample-cdktf-task"]}},"schema_version":0},{"address":"aws_ecs_task_definition.sample-cdktf-task","mode":"managed","type":"aws_ecs_task_definition","name":"sample-cdktf-task","provider_config_key":"aws","expressions":{"container_definitions":{"constant_value":"[\n      {\n        \"essential\":    true,\n        \"name\":         \"sample-cdktf-container\",\n        \"image\":        \"${aws_ecr_repository.sample-cdktf-repository.repository_url}:latest\",\n        \"portMappings\": [\n          {\n            \"hostPort\":      9000,\n            \"protocol\":      \"tcp\",\n            \"containerPort\": 9000\n          }\n        ],\n        \"logConfiguration\": {\n          \"logDriver\": \"awslogs\",\n          \"options\": {\n            \"awslogs-group\":         \"/aws/ecs/sample-cdktf-task\",\n            \"awslogs-stream-prefix\": \"ecs\",\n            \"awslogs-region\":        \"ap-northeast-1\"\n          }\n        }\n      }\n    ]","references":["aws_ecr_repository.sample-cdktf-repository"]},"cpu":{"constant_value":"512"},"execution_role_arn":{"constant_value":"${aws_iam_role.ecsTaskExecutionRole.arn}","references":["aws_iam_role.ecsTaskExecutionRole"]},"family":{"constant_value":"task-for-cdktf"},"memory":{"constant_value":"1024"},"network_mode":{"constant_value":"awsvpc"},"requires_compatibilities":{"constant_value":["FARGATE"]},"task_role_arn":{"constant_value":"${aws_iam_role.ecsTaskRole.arn}","references":["aws_iam_role.ecsTaskRole"]}},"schema_version":1},{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_config_key":"aws","expressions":{"vpc":{"constant_value":true}},"schema_v
[2022-11-16T17:54:24.588] [DEBUG] default - ersion":0},{"address":"aws_iam_policy.ecs-task-execution-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-execution-policy","provider_config_key":"aws","expressions":{"description":{"constant_value":"Policy for updating ECS tasks"},"name":{"constant_value":"ecs-task-execution-policy"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_policy.ecs-task-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-policy","provider_config_key":"aws","expressions":{"description":{"constant_value":"Policy for updating ECS tasks"},"name":{"constant_value":"ecs-task-policy"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecs:DescribeServices\",\n              \"ecs:CreateTaskSet\",\n              \"ecs:UpdateServicePrimaryTaskSet\",\n              \"ecs:DeleteTaskSet\",\n              \"elasticloadbalancing:DescribeTargetGroups\",\n              \"elasticloadbalancing:DescribeListeners\",\n              \"elasticloadbalancing:ModifyListener\",\n              \"elasticloadbalancing:DescribeRules\",\n              \"elasticloadbalancing:ModifyRule\",\n              \"lambda:InvokeFunction\",\n              \"cloudwatch:DescribeAlarms\",\n              \"sns:Publish\",\n              \"s3:GetObject\",\n              \"s3:GetObjectVersion\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_policy.lambda-logging","mode":"managed","type":"aws_iam_policy","name":"lambda-logging","provider_config_key":"aws","expressions":{"description":{"constant_value":"IAM policy for logging from a lambda"},"name":{"constant_value":"sample-cdktf-lambda-logging"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"iam:PassRole\",\n              \"ecs:RegisterTaskDefinition\",\n              \"ecs:UpdateService\",\n              \"logs:CreateLogGroup\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\",\n              \"arn:aws:logs:*:*:*\",\n              \"arn:aws:ecs:*:*:*\",\n              \"arn:aws:iam::445682127642:role/sample-cdktf-ecsTaskExecutionRole\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_role.ecsTaskExecutionRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskExecutionRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\":    \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-ecsTaskExecutionRole"}},"schema_version":0},{"address":"aws_iam_role.ecsTaskRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\": \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n          },\n          \"Effect\": \"Allow\",\n          \"Sid\": \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-ecsTaskRole"}},"schema_version":0},{"address":"aws_iam_role.lambdaExecutionRole","mode":"managed","type":"aws_iam_role","name":"lambdaExecutionRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": [\n                \"lambda.amazonaws.com\",\n                \"ecs-tasks.amazonaws.com\"\n              ]\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-lambdaExecutionRole"}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-execution-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-execution-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.ecs-task-execution-policy.arn}","references":["aws_iam_policy.ecs-task-execution-policy"]},"role":{"constant_value":"${aws_iam_role.ecsTaskExecutionRole.name}","references":["aws_iam_role.ecsTaskExecutionRole"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.ecs-task-policy.arn}","references":["aws_iam_policy.ecs-task-policy"]},"role":{"constant_value":"${aws_iam_role.ecsTaskRole.name}","references":["aws_iam_role.ecsTaskRole"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-lambda-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-lambda-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.lambda-logging.arn}","references":["aws_iam_policy.lambda-logging"]},"role":{"constant_value":"${aws_iam_role.lambdaExecutionRole.name}","references":["aws_iam_role.lambdaExecutionRole"]}},"schema_version":0},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_config_key":"aws","expressions":{"tags":{"constant_value":{"Name":"igw-production sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_lambda_function.Sample-Lambda-Notification-to-Slack","mode":"managed","type":"aws_lambda_function","name":"Sample-Lambda-Notification-to-Slack","provider_config_key":"aws","expressions":{"environment":[{"variables":{"constant_value":{"SLACK_API_TOKEN":"xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp","SLACK_CHANNEL":"C049CPNKHMJ"}}}],"function_name":{"constant_value":"Sample-Lambda-Notification-to-Slack"},"handler":{"constant_value":"index.handler"},"role":{"constant_value":"${aws_iam_role.lambdaExecutionRole.arn}","references":["aws_iam_role.lambdaExecutionRole"]},"runtime":{"constant_value":"nodejs12.x"},"s3_bucket":{"constant_value":"${aws_s3_bucket.sample-cdktf-s3.bucket}","references":["aws_s3_bucket.sample-cdktf-s3"]},"s3_key":{"constant_value":"${aws_s3_bucket_object.notification-to-Slack-distzip.key}","references":["aws_s3_bucket_object.notification-to-Slack-distzip"]},"timeout":{"constant_value":30}},"schema_version":0},{"address":"aws_lambda_permission.permission-to-sns","mode":"managed","type":"aws_lambda_permission","name":"permission-to-sns","provider_config_key":"aws","expressions":{"action":{"constant_value":"lambda:InvokeFunction"},"function_name":{"constant_value":"${aws_lambda_function.Sample-Lambda-Notification-to-Slack.function_name}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]},"principal":{"constant_value":"sns.amazonaws.com"},"source_arn":{"constant_value":"${aws_sns_
[2022-11-16T17:54:24.589] [DEBUG] default - topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"statement_id":{"constant_value":"AllowExecutionFromSNS"}},"schema_version":0},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_config_key":"aws","expressions":{"allocation_id":{"constant_value":"${aws_eip.sample-cdktf-eip.id}","references":["aws_eip.sample-cdktf-eip"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]},"tags":{"constant_value":{"Name":"sample-cdktf nat-gateway-production"}}},"schema_version":0},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_config_key":"aws","expressions":{"route":{"constant_value":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"${aws_nat_gateway.sample-cdktf-nat-gateway.id}","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"references":["aws_nat_gateway.sample-cdktf-nat-gateway"]},"tags":{"constant_value":{"Name":"sample-cdktf Private rtb"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_config_key":"aws","expressions":{"route":{"constant_value":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"${aws_internet_gateway.sample-cdktf-igw-production.id}","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"references":["aws_internet_gateway.sample-cdktf-igw-production"]},"tags":{"constant_value":{"Name":"sample-cdktf Public rtb"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-private-rtb.id}","references":["aws_route_table.sample-cdktf-private-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-private-subnet1.id}","references":["aws_subnet.sample-cdktf-private-subnet1"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-private-rtb.id}","references":["aws_route_table.sample-cdktf-private-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-private-subnet2.id}","references":["aws_subnet.sample-cdktf-private-subnet2"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet2.id}","references":["aws_subnet.sample-cdktf-public-subnet2"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]}},"schema_version":0},{"address":"aws_s3_bucket.sample-cdktf-s3","mode":"managed","type":"aws_s3_bucket","name":"sample-cdktf-s3","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"sample-cdktf-s3"},"region":{"constant_value":"ap-northeast-1"}},"schema_version":0},{"address":"aws_s3_bucket_object.notification-to-Slack-distzip","mode":"managed","type":"aws_s3_bucket_object","name":"notification-to-Slack-distzip","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"${aws_s3_bucket.sample-cdktf-s3.bucket}","references":["aws_s3_bucket.sample-cdktf-s3"]},"content_type":{"constant_value":"zip"},"key":{"constant_value":"notification-to-Slack-dist.zip"},"source":{"constant_value":"/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip"}},"schema_version":0},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf"},"tags":{"constant_value":{"Name":"sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":0},"protocol":{"constant_value":"all"},"security_group_id":{"constant_value":"${aws_security_group.sample-cdktf-security-group.id}","references":["aws_security_group.sample-cdktf-security-group"]},"to_port":{"constant_value":0},"type":{"constant_value":"egress"}},"schema_version":2},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":80},"protocol":{"constant_value":"tcp"},"security_group_id":{"constant_value":"${aws_security_group.sample-cdktf-security-group.id}","references":["aws_security_group.sample-cdktf-security-group"]},"to_port":{"constant_value":80},"type":{"constant_value":"ingress"}},"schema_version":2},{"address":"aws_sns_topic.sample-cdktf-sns","mode":"managed","type":"aws_sns_topic","name":"sample-cdktf-sns","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf-sns"}},"schema_version":0},{"address":"aws_sns_topic_policy.sample-cdktf-sns-policy","mode":"managed","type":"aws_sns_topic_policy","name":"sample-cdktf-sns-policy","provider_config_key":"aws","expressions":{"arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": {\n          \"Effect\": \"Allow\",\n          \"Sid\":    \"\",\n          \"Principal\": {\n            \"Service\": \"events.amazonaws.com\"\n          },\n          \"Action\": [\n            \"SNS:Publish\"\n          ],\n          \"Resource\": [\n            \"*\"\n          ]\n        }\n      }"}},"schema_version":0},{"address":"aws_sns_topic_subscription.sample-cdktf-sns-subscription","mode":"managed","type":"aws_sns_topic_subscription","name":"sample-cdktf-sns-subscription","provider_config_key":"aws","expressions":{"endpoint":{"consta
[2022-11-16T17:54:24.589] [DEBUG] default - nt_value":"${aws_lambda_function.Sample-Lambda-Notification-to-Slack.arn}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]},"protocol":{"constant_value":"lambda"},"topic_arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]}},"schema_version":0},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1a"},"cidr_block":{"constant_value":"10.0.128.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Private1 AZ1a sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1c"},"cidr_block":{"constant_value":"10.0.144.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Private2 AZ1c sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1a"},"cidr_block":{"constant_value":"10.0.0.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Public1 AZ1a sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1c"},"cidr_block":{"constant_value":"10.0.16.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Public2 AZ1c sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_config_key":"aws","expressions":{"cidr_block":{"constant_value":"10.0.0.0/16"},"enable_dns_hostnames":{"constant_value":true},"tags":{"constant_value":{"Name":"sample-cdktf production"}}},"schema_version":1}]}}}

[2022-11-16T17:55:10.727] [DEBUG] default - Terraform v0.14.8


[2022-11-16T17:55:10.753] [DEBUG] default - Your version of Terraform is out of date! The latest version
is 1.3.4. You can update by downloading from https://www.terraform.io/downloads.html

[2022-11-16T17:55:59.110] [DEBUG] default - 

[2022-11-16T17:55:59.113] [DEBUG] default - [0m[1mInitializing the backend...[0m

[2022-11-16T17:55:59.564] [DEBUG] default - 

[2022-11-16T17:55:59.564] [DEBUG] default - [0m[1mInitializing provider plugins...[0m
- Reusing previous version of hashicorp/aws from the dependency lock file

[2022-11-16T17:56:01.020] [DEBUG] default - - Using previously-installed hashicorp/aws v2.70.1

[2022-11-16T17:56:01.022] [DEBUG] default - 

[2022-11-16T17:56:01.022] [DEBUG] default - [0m[1m[32mTerraform has been successfully initialized![0m[32m[0m
[0m[32m
You may now begin working with Terraform. Try running "terraform plan" to see
any changes that are required for your infrastructure. All Terraform commands
should now work.

If you ever set or change modules or backend configuration for Terraform,
rerun this command to reinitialize your working directory. If you forget, other

[2022-11-16T17:56:01.024] [DEBUG] default - commands will detect it and remind you to do so if necessary.[0m

[2022-11-16T17:56:06.646] [DEBUG] default - 

[2022-11-16T17:56:06.646] [DEBUG] default - An execution plan has been generated and is shown below.
Resource actions are indicated with the following symbols:
  [32m+[0m create
[0m
Terraform will perform the following actions:


[2022-11-16T17:56:06.647] [DEBUG] default - [1m  # aws_alb.sample-cdktf-alb[0m will be created[0m[0m

[2022-11-16T17:56:06.647] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_alb" "sample-cdktf-alb" {

[2022-11-16T17:56:06.663] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                        = (known after apply)
      [32m+[0m [0m[1m[0marn_suffix[0m[0m                 = (known after apply)
      [32m+[0m [0m[1m[0mdns_name[0m[0m                   = (known after apply)
      [32m+[0m [0m[1m[0mdrop_invalid_header_fields[0m[0m = false
      [32m+[0m [0m[1m[0menable_deletion_protection[0m[0m = false
      [32m+[0m [0m[1m[0menable_http2[0m[0m               = true
      [32m+[0m [0m[1m[0mid[0m[0m                         = (known after apply)
      [32m+[0m [0m[1m[0midle_timeout[0m[0m               = 60
      [32m+[0m [0m[1m[0minternal[0m[0m                   = false
      [32m+[0m [0m[1m[0mip_address_type[0m[0m            = "ipv4"
      [32m+[0m [0m[1m[0mload_balancer_type[0m[0m         = "application"
      [32m+[0m [0m[1m[0mname[0m[0m                       = "sample-cdktf-alb"
      [32m+[0m [0m[1m[0msecurity_groups[0m[0m            = (known after apply)
      [32m+[0m [0m[1m[0msubnets[0m[0m                    = (known after apply)
      [32m+[0m [0m[1m[0mvpc_id[0m[0m                     = (known after apply)
      [32m+[0m [0m[1m[0mzone_id[0m[0m                    = (known after apply)

      [32m+[0m [0msubnet_mapping {
          [32m+[0m [0m[1m[0mallocation_id[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0msubnet_id[0m[0m     = (known after apply)
        }
    }

[1m  # aws_alb_listener.sample-cdktf-alb-listener[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_alb_listener" "sample-cdktf-alb-listener" {
      [32m+[0m [0m[1m[0marn[0m[0m               = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m                = (known after apply)
      [32m+[0m [0m[1m[0mload_balancer_arn[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mport[0m[0m              = 80
      [32m+[0m [0m[1m[0mprotocol[0m[0m          = "HTTP"
      [32m+[0m [0m[1m[0mssl_policy[0m[0m        = (known after apply)

      [32m+[0m [0mdefault_action {
          [32m+[0m [0m[1m[0morder[0m[0m            = (known after apply)
          [32m+[0m [0m[1m[0mtarget_group_arn[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0mtype[0m[0m             = "forward"
        }
    }

[1m  # aws_alb_listener_rule.sample-cdktf-alb-listener-rule[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_alb_listener_rule" "sample-cdktf-alb-listener-rule" {
      [32m+[0m [0m[1m[0marn[0m[0m          = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m           = (known after apply)
      [32m+[0m [0m[1m[0mlistener_arn[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mpriority[0m[0m     = 100

      [32m+[0m [0maction {
          [32m+[0m [0m[1m[0morder[0m[0m            = (known after apply)
          [32m+[0m [0m[1m[0mtarget_group_arn[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0mtype[0m[0m             = "forward"
        }

      [32m+[0m [0mcondition {
          [32m+[0m [0m[1m[0mfield[0m[0m  = "path-pattern"
          [32m+[0m [0m[1m[0mvalues[0m[0m = [
              [32m+[0m [0m"*",
            ]

          [32m+[0m [0mhost_header {
              [32m+[0m [0m[1m[0mvalues[0m[0m = (known after apply)
            }

          [32m+[0m [0mpath_pattern {
              [32m+[0m [0m[1m[0mvalues[0m[0m = (known after apply)
            }
        }
    }

[1m  # aws_alb_target_group.sample-cdktf-alb-target-group[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_alb_target_group" "sample-cdktf-alb-target-group" {
      [32m+[0m [0m[1m[0marn[0m[0m                                = (known after apply)
      [32m+[0m [0m[1m[0marn_suffix[0m[0m                         = (known after apply)
      [32m+[0m [0m[1m[0mderegistration_delay[0m[0m               = 300
      [32m+[0m [0m[1m[0mid[0m[0m                                 = (known after apply)
      [32m+[0m [0m[1m[0mlambda_multi_value_headers_enabled[0m[0m = false
      [32m+[0m [0m[1m[0mload_balancing_algorithm_type[0m[0m      = (known after apply)
      [32m+[0m [0m[1m[0mname[0m[0m                               = "sample-cdktf-alb-target-group"
      [32m+[0m [0m[1m[0mport[0m[0m                               = 80
      [32m+[0m [0m[1m[0mprotocol[0m[0m                           = "HTTP"
      [32m+[0m [0m[1m[0mproxy_protocol_v2[0m[0m                  = false
      [32m+[0m [0m[1m[0mslow_start[0m[0m                         = 0
      [32m+[0m [0m[1m[0mtarget_type[0m[0m                        = "ip"
      [32m+[0m [0m[1m[0mvpc_id[0m[0m                             = (known after apply)

      [32m+[0m [0mhealth_check {
          [32m+[0m [0m[1m[0menabled[0m[0m             = true
          [32m+[0m [0m[1m[0mhealthy_threshold[0m[0m   = 3
          [32m+[0m [0m[1m[0minterval[0m[0m            = 30
          [32m+[0m [0m[1m[0mmatcher[0m[0m             = (known after apply)
          [32m+[0m [0m[1m[0mpath[0m[0m                = "/"
          [32m+[0m [0m[1m[0mport[0m[0m                = "traffic-port"
          [32m+[0m [0m[1m[0mprotocol[0m[0m            = "HTTP"
          [32m+[0m [0m[1m[0mtimeout[0m[0m             = 5
          [32m+[0m [0m[1m[0munhealthy_threshold[0m[0m = 2
        }

      [32m+[0m [0mstickiness {
          [32m+[0m [0m[1m[0mcookie_duration[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0menabled[0m[0m         = (known after apply)
          [32m+[0m [0m[1m[0mtype[0m[0m            = (known after apply)
        }
    }

[1m  # aws_cloudwatch_event_rule.sample-cdktf-event-rule[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_cloudwatch_event_rule" "sample-cdktf-event-rule" {
      [32m+[0m [0m[1m[0marn[0m[0m           = (known after apply)
      [32m+[0m [0m[1m[0mdescription[0m[0m   = "Capture each AWS ECR Update"
      [32m+[0m [0m[1m[0mevent_pattern[0m[0m = jsonencode(
            {
              [32m+[0m [0mdetail      = {
                  [32m+[0m [0maction-type = [
                      [32m+[0m [0m"PUSH",
                    ]
                  [32m+[0m [0mresult      = [
                      [32m+[0m [0m"SUCCESS",
                    ]
                }
              [32m+[0m [0mdetail-type = [
                  [32m+[0m [0m"ECR Image Action",
                ]
              [32m+[0m [0msource      = [
                  [32m+[0m [0m"aws.ecr",
                ]
            }
        )
      [32m+[0m [0m[1m[0mid[0m[0m            = (known after apply)
      [32m+[0m [0m[1m[0mis_enabled[0m[0m    = true
      [32m+[0m [0m[1m[0mname[0m[0m          = "capture-ecr-update"
    }

[1m  # aws_cloudwatch_event_target.sample-cdktf-event-target[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_cloudwatch_event_target" "sample-cdktf-event-target" {
      [32m+[0m [0m[1m[0marn[0m[0m       = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m        = (known after apply)
      [32m+[0m [0m[1m[0mrule[0m[0m      = "capture-ecr-update"
      [32m+[0m [0m[1m[0mtarget_id[0m[0m = "SendToSNS"
    }

[1m  # aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_cloudwatch_log_group" "sample-cdktf-notification-to-slack-log-group" {
      [32m+[0m [0m[1m[0marn[0m[0m               = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m                = (known after apply)
      [32m+[0m [0m[1m[0mname[0m[0m              = "/aws/lambda/Sample-Lambda-Notification-to-Slack"
      [32m+[0m [0m[1m[0mretention_in_days[0m[0m = 0
    }

[1m  # aws_ecr_repository.sample-cdktf-repository[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_ecr_repository" "sample-cdktf-repository" {

[2022-11-16T17:56:06.663] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                  = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m                   = (known after apply)
      [32m+[0m [0m[1m[0mimage_tag_mutability[0m[0m = "MUTABLE"
      [32m+[0m [0m[1m[0mname[0m[0m                 = "project/sample-cdktf"

[2022-11-16T17:56:06.663] [DEBUG] default -       [32m+[0m [0m[1m[0mregistry_id[0m[0m          = (known after apply)
      [32m+[0m [0m[1m[0mrepository_url[0m[0m       = (known after apply)
    }

[1m  # aws_ecs_cluster.sample-cdktf-cluster[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_ecs_cluster" "sample-cdktf-cluster" {

[2022-11-16T17:56:06.664] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m  = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m   = (known after apply)

[2022-11-16T17:56:06.664] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m = "sample-cdktf-cluster"

      [32m+[0m [0msetting {

[2022-11-16T17:56:06.664] [DEBUG] default -           [32m+[0m [0m[1m[0mname[0m[0m  = (known after apply)
          [32m+[0m [0m[1m[0mvalue[0m[0m = (known after apply)
        }
    }

[1m  # aws_ecs_service.sample-cdktf-ecs-service[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_ecs_service" "sample-cdktf-ecs-service" {

[2022-11-16T17:56:06.664] [DEBUG] default -       [32m+[0m [0m[1m[0mcluster[0m[0m                            = (known after apply)
      [32m+[0m [0m[1m[0mdeployment_maximum_percent[0m[0m         = 200

[2022-11-16T17:56:06.664] [DEBUG] default -       [32m+[0m [0m[1m[0mdeployment_minimum_healthy_percent[0m[0m = 100

[2022-11-16T17:56:06.664] [DEBUG] default -       [32m+[0m [0m[1m[0mdesired_count[0m[0m                      = 1

[2022-11-16T17:56:06.664] [DEBUG] default -       [32m+[0m [0m[1m[0menable_ecs_managed_tags[0m[0m            = false

[2022-11-16T17:56:06.664] [DEBUG] default -       [32m+[0m [0m[1m[0miam_role[0m[0m                           = (known after apply)

[2022-11-16T17:56:06.666] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                                 = (known after apply)
      [32m+[0m [0m[1m[0mlaunch_type[0m[0m                        = "FARGATE"
      [32m+[0m [0m[1m[0mname[0m[0m                               = "sample-cdktf-ecs-service"
      [32m+[0m [0m[1m[0mplatform_version[0m[0m                   = "LATEST"

[2022-11-16T17:56:06.666] [DEBUG] default -       [32m+[0m [0m[1m[0mscheduling_strategy[0m[0m                = "REPLICA"

[2022-11-16T17:56:06.666] [DEBUG] default -       [32m+[0m [0m[1m[0mtask_definition[0m[0m                    = (known after apply)

      [32m+[0m [0mload_balancer {
          [32m+[0m [0m[1m[0mcontainer_name[0m[0m   = "sample-cdktf-container"
          [32m+[0m [0m[1m[0mcontainer_port[0m[0m   = 9000

[2022-11-16T17:56:06.666] [DEBUG] default -           [32m+[0m [0m[1m[0mtarget_group_arn[0m[0m = (known after apply)
        }


[2022-11-16T17:56:06.666] [DEBUG] default -       [32m+[0m [0mnetwork_configuration {

[2022-11-16T17:56:06.666] [DEBUG] default -           [32m+[0m [0m[1m[0massign_public_ip[0m[0m = false

[2022-11-16T17:56:06.667] [DEBUG] default -           [32m+[0m [0m[1m[0msecurity_groups[0m[0m  = (known after apply)

[2022-11-16T17:56:06.667] [DEBUG] default -           [32m+[0m [0m[1m[0msubnets[0m[0m          = (known after apply)
        }


[2022-11-16T17:56:06.667] [DEBUG] default -       [32m+[0m [0mplacement_strategy {

[2022-11-16T17:56:06.667] [DEBUG] default -           [32m+[0m [0m[1m[0mfield[0m[0m = (known after apply)

[2022-11-16T17:56:06.667] [DEBUG] default -           [32m+[0m [0m[1m[0mtype[0m[0m  = (known after apply)
        }

[2022-11-16T17:56:06.667] [DEBUG] default -     }

[1m  # aws_ecs_task_definition.sample-cdktf-task[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_ecs_task_definition" "sample-cdktf-task" {
      [32m+[0m [0m[1m[0marn[0m[0m                      = (known after apply)

[2022-11-16T17:56:06.667] [DEBUG] default -       [32m+[0m [0m[1m[0mcontainer_definitions[0m[0m    = (known after apply)

[2022-11-16T17:56:06.667] [DEBUG] default -       [32m+[0m [0m[1m[0mcpu[0m[0m                      = "512"

[2022-11-16T17:56:06.667] [DEBUG] default -       [32m+[0m [0m[1m[0mexecution_role_arn[0m[0m       = (known after apply)

[2022-11-16T17:56:06.667] [DEBUG] default -       [32m+[0m [0m[1m[0mfamily[0m[0m                   = "task-for-cdktf"

[2022-11-16T17:56:06.668] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                       = (known after apply)
      [32m+[0m [0m[1m[0mmemory[0m[0m                   = "1024"

[2022-11-16T17:56:06.668] [DEBUG] default -       [32m+[0m [0m[1m[0mnetwork_mode[0m[0m             = "awsvpc"

[2022-11-16T17:56:06.668] [DEBUG] default -       [32m+[0m [0m[1m[0mrequires_compatibilities[0m[0m = [

[2022-11-16T17:56:06.668] [DEBUG] default -           [32m+[0m [0m"FARGATE",
        ]

[2022-11-16T17:56:06.668] [DEBUG] default -       [32m+[0m [0m[1m[0mrevision[0m[0m                 = (known after apply)

[2022-11-16T17:56:06.668] [DEBUG] default -       [32m+[0m [0m[1m[0mtask_role_arn[0m[0m            = (known after apply)

[2022-11-16T17:56:06.668] [DEBUG] default -     }

[1m  # aws_eip.sample-cdktf-eip[0m will be created[0m[0m

[2022-11-16T17:56:06.668] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_eip" "sample-cdktf-eip" {

[2022-11-16T17:56:06.668] [DEBUG] default -       [32m+[0m [0m[1m[0mallocation_id[0m[0m     = (known after apply)

[2022-11-16T17:56:06.668] [DEBUG] default -       [32m+[0m [0m[1m[0massociation_id[0m[0m    = (known after apply)

[2022-11-16T17:56:06.668] [DEBUG] default -       [32m+[0m [0m[1m[0mcustomer_owned_ip[0m[0m = (known after apply)

[2022-11-16T17:56:06.668] [DEBUG] default -       [32m+[0m [0m[1m[0mdomain[0m[0m            = (known after apply)

[2022-11-16T17:56:06.668] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                = (known after apply)

[2022-11-16T17:56:06.668] [DEBUG] default -       [32m+[0m [0m[1m[0minstance[0m[0m          = (known after apply)
      [32m+[0m [0m[1m[0mnetwork_interface[0m[0m = (known after apply)

[2022-11-16T17:56:06.668] [DEBUG] default -       [32m+[0m [0m[1m[0mprivate_dns[0m[0m       = (known after apply)

[2022-11-16T17:56:06.669] [DEBUG] default -       [32m+[0m [0m[1m[0mprivate_ip[0m[0m        = (known after apply)

[2022-11-16T17:56:06.669] [DEBUG] default -       [32m+[0m [0m[1m[0mpublic_dns[0m[0m        = (known after apply)
      [32m+[0m [0m[1m[0mpublic_ip[0m[0m         = (known after apply)

[2022-11-16T17:56:06.669] [DEBUG] default -       [32m+[0m [0m[1m[0mpublic_ipv4_pool[0m[0m  = (known after apply)

[2022-11-16T17:56:06.669] [DEBUG] default -       [32m+[0m [0m[1m[0mvpc[0m[0m               = true
    }


[2022-11-16T17:56:06.669] [DEBUG] default - [1m  # aws_iam_policy.ecs-task-execution-policy[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_iam_policy" "ecs-task-execution-policy" {
      [32m+[0m [0m[1m[0marn[0m[0m         = (known after apply)
      [32m+[0m [0m[1m[0mdescription[0m[0m = "Policy for updating ECS tasks"
      [32m+[0m [0m[1m[0mid[0m[0m          = (known after apply)

[2022-11-16T17:56:06.669] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m        = "ecs-task-execution-policy"
      [32m+[0m [0m[1m[0mpath[0m[0m        = "/"

[2022-11-16T17:56:06.669] [DEBUG] default -       [32m+[0m [0m[1m[0mpolicy[0m[0m      = jsonencode(
            {

[2022-11-16T17:56:06.669] [DEBUG] default -               [32m+[0m [0mStatement = [
                  [32m+[0m [0m{

[2022-11-16T17:56:06.669] [DEBUG] default -                       [32m+[0m [0mAction   = [

[2022-11-16T17:56:06.669] [DEBUG] default -                           [32m+[0m [0m"ecr:GetAuthorizationToken",

[2022-11-16T17:56:06.669] [DEBUG] default -                           [32m+[0m [0m"ecr:BatchCheckLayerAvailability",

[2022-11-16T17:56:06.670] [DEBUG] default -                           [32m+[0m [0m"ecr:GetDownloadUrlForLayer",

[2022-11-16T17:56:06.670] [DEBUG] default -                           [32m+[0m [0m"ecr:BatchGetImage",

[2022-11-16T17:56:06.670] [DEBUG] default -                           [32m+[0m [0m"logs:CreateLogStream",

[2022-11-16T17:56:06.670] [DEBUG] default -                           [32m+[0m [0m"logs:PutLogEvents",
                        ]

[2022-11-16T17:56:06.670] [DEBUG] default -                       [32m+[0m [0mEffect   = "Allow"

[2022-11-16T17:56:06.670] [DEBUG] default -                       [32m+[0m [0mResource = [

[2022-11-16T17:56:06.670] [DEBUG] default -                           [32m+[0m [0m"*",
                        ]

[2022-11-16T17:56:06.670] [DEBUG] default -                     },
                ]

[2022-11-16T17:56:06.670] [DEBUG] default -               [32m+[0m [0mVersion   = "2012-10-17"
            }
        )
    }

[2022-11-16T17:56:06.670] [DEBUG] default - 
[1m  # aws_iam_policy.ecs-task-policy[0m will be created[0m[0m

[2022-11-16T17:56:06.670] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_iam_policy" "ecs-task-policy" {

[2022-11-16T17:56:06.670] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m         = (known after apply)

[2022-11-16T17:56:06.670] [DEBUG] default -       [32m+[0m [0m[1m[0mdescription[0m[0m = "Policy for updating ECS tasks"

[2022-11-16T17:56:06.670] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m          = (known after apply)

[2022-11-16T17:56:06.670] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m        = "ecs-task-policy"
      [32m+[0m [0m[1m[0mpath[0m[0m        = "/"

[2022-11-16T17:56:06.670] [DEBUG] default -       [32m+[0m [0m[1m[0mpolicy[0m[0m      = jsonencode(

[2022-11-16T17:56:06.671] [DEBUG] default -             {
              [32m+[0m [0mStatement = [
                  [32m+[0m [0m{

[2022-11-16T17:56:06.671] [DEBUG] default -                       [32m+[0m [0mAction   = [

[2022-11-16T17:56:06.671] [DEBUG] default -                           [32m+[0m [0m"ecs:DescribeServices",

[2022-11-16T17:56:06.671] [DEBUG] default -                           [32m+[0m [0m"ecs:CreateTaskSet",

[2022-11-16T17:56:06.671] [DEBUG] default -                           [32m+[0m [0m"ecs:UpdateServicePrimaryTaskSet",

[2022-11-16T17:56:06.671] [DEBUG] default -                           [32m+[0m [0m"ecs:DeleteTaskSet",

[2022-11-16T17:56:06.671] [DEBUG] default -                           [32m+[0m [0m"elasticloadbalancing:DescribeTargetGroups",

[2022-11-16T17:56:06.671] [DEBUG] default -                           [32m+[0m [0m"elasticloadbalancing:DescribeListeners",
                          [32m+[0m [0m"elasticloadbalancing:ModifyListener",
                          [32m+[0m [0m"elasticloadbalancing:DescribeRules",
                          [32m+[0m [0m"elasticloadbalancing:ModifyRule",
                          [32m+[0m [0m"lambda:InvokeFunction",

[2022-11-16T17:56:06.671] [DEBUG] default -                           [32m+[0m [0m"cloudwatch:DescribeAlarms",
                          [32m+[0m [0m"sns:Publish",

[2022-11-16T17:56:06.671] [DEBUG] default -                           [32m+[0m [0m"s3:GetObject",

[2022-11-16T17:56:06.671] [DEBUG] default -                           [32m+[0m [0m"s3:GetObjectVersion",
                        ]

[2022-11-16T17:56:06.672] [DEBUG] default -                       [32m+[0m [0mEffect   = "Allow"

[2022-11-16T17:56:06.672] [DEBUG] default -                       [32m+[0m [0mResource = [

[2022-11-16T17:56:06.672] [DEBUG] default -                           [32m+[0m [0m"*",
                        ]

[2022-11-16T17:56:06.672] [DEBUG] default -                     },
                ]

[2022-11-16T17:56:06.672] [DEBUG] default -               [32m+[0m [0mVersion   = "2012-10-17"

[2022-11-16T17:56:06.673] [DEBUG] default -             }
        )
    }

[1m  # aws_iam_policy.lambda-logging[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_iam_policy" "lambda-logging" {
      [32m+[0m [0m[1m[0marn[0m[0m         = (known after apply)
      [32m+[0m [0m[1m[0mdescription[0m[0m = "IAM policy for logging from a lambda"
      [32m+[0m [0m[1m[0mid[0m[0m          = (known after apply)
      [32m+[0m [0m[1m[0mname[0m[0m        = "sample-cdktf-lambda-logging"
      [32m+[0m [0m[1m[0mpath[0m[0m        = "/"
      [32m+[0m [0m[1m[0mpolicy[0m[0m      = jsonencode(
            {
              [32m+[0m [0mStatement = [
                  [32m+[0m [0m{
                      [32m+[0m [0mAction   = [
                          [32m+[0m [0m"iam:PassRole",
                          [32m+[0m [0m"ecs:RegisterTaskDefinition",

[2022-11-16T17:56:06.673] [DEBUG] default -                           [32m+[0m [0m"ecs:UpdateService",

[2022-11-16T17:56:06.673] [DEBUG] default -                           [32m+[0m [0m"logs:CreateLogGroup",

[2022-11-16T17:56:06.673] [DEBUG] default -                           [32m+[0m [0m"logs:CreateLogStream",

[2022-11-16T17:56:06.673] [DEBUG] default -                           [32m+[0m [0m"logs:PutLogEvents",

[2022-11-16T17:56:06.673] [DEBUG] default -                         ]
                      [32m+[0m [0mEffect   = "Allow"

[2022-11-16T17:56:06.673] [DEBUG] default -                       [32m+[0m [0mResource = [

[2022-11-16T17:56:06.673] [DEBUG] default -                           [32m+[0m [0m"*",

[2022-11-16T17:56:06.673] [DEBUG] default -                           [32m+[0m [0m"arn:aws:logs:*:*:*",

[2022-11-16T17:56:06.673] [DEBUG] default -                           [32m+[0m [0m"arn:aws:ecs:*:*:*",

[2022-11-16T17:56:06.673] [DEBUG] default -                           [32m+[0m [0m"arn:aws:iam::445682127642:role/sample-cdktf-ecsTaskExecutionRole",

[2022-11-16T17:56:06.673] [DEBUG] default -                         ]

[2022-11-16T17:56:06.673] [DEBUG] default -                     },
                ]

[2022-11-16T17:56:06.673] [DEBUG] default -               [32m+[0m [0mVersion   = "2012-10-17"
            }
        )
    }


[2022-11-16T17:56:06.673] [DEBUG] default - [1m  # aws_iam_role.ecsTaskExecutionRole[0m will be created[0m[0m

[2022-11-16T17:56:06.673] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_iam_role" "ecsTaskExecutionRole" {

[2022-11-16T17:56:06.674] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                   = (known after apply)

[2022-11-16T17:56:06.674] [DEBUG] default -       [32m+[0m [0m[1m[0massume_role_policy[0m[0m    = jsonencode(

[2022-11-16T17:56:06.674] [DEBUG] default -             {
              [32m+[0m [0mStatement = [

[2022-11-16T17:56:06.674] [DEBUG] default -                   [32m+[0m [0m{

[2022-11-16T17:56:06.674] [DEBUG] default -                       [32m+[0m [0mAction    = "sts:AssumeRole"

[2022-11-16T17:56:06.674] [DEBUG] default -                       [32m+[0m [0mEffect    = "Allow"

[2022-11-16T17:56:06.674] [DEBUG] default -                       [32m+[0m [0mPrincipal = {

[2022-11-16T17:56:06.674] [DEBUG] default -                           [32m+[0m [0mService = "ecs-tasks.amazonaws.com"

[2022-11-16T17:56:06.674] [DEBUG] default -                         }

[2022-11-16T17:56:06.674] [DEBUG] default -                       [32m+[0m [0mSid       = ""
                    },

[2022-11-16T17:56:06.674] [DEBUG] default -                 ]
              [32m+[0m [0mVersion   = "2012-10-17"

[2022-11-16T17:56:06.674] [DEBUG] default -             }
        )

[2022-11-16T17:56:06.674] [DEBUG] default -       [32m+[0m [0m[1m[0mcreate_date[0m[0m           = (known after apply)

[2022-11-16T17:56:06.674] [DEBUG] default -       [32m+[0m [0m[1m[0mforce_detach_policies[0m[0m = false

[2022-11-16T17:56:06.674] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                    = (known after apply)

[2022-11-16T17:56:06.674] [DEBUG] default -       [32m+[0m [0m[1m[0mmax_session_duration[0m[0m  = 3600

[2022-11-16T17:56:06.674] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m                  = "sample-cdktf-ecsTaskExecutionRole"

[2022-11-16T17:56:06.675] [DEBUG] default -       [32m+[0m [0m[1m[0mpath[0m[0m                  = "/"

[2022-11-16T17:56:06.675] [DEBUG] default -       [32m+[0m [0m[1m[0munique_id[0m[0m             = (known after apply)

[2022-11-16T17:56:06.675] [DEBUG] default -     }


[2022-11-16T17:56:06.675] [DEBUG] default - [1m  # aws_iam_role.ecsTaskRole[0m will be created[0m[0m

[2022-11-16T17:56:06.675] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_iam_role" "ecsTaskRole" {

[2022-11-16T17:56:06.675] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                   = (known after apply)

[2022-11-16T17:56:06.675] [DEBUG] default -       [32m+[0m [0m[1m[0massume_role_policy[0m[0m    = jsonencode(

[2022-11-16T17:56:06.675] [DEBUG] default -             {
              [32m+[0m [0mStatement = [

[2022-11-16T17:56:06.675] [DEBUG] default -                   [32m+[0m [0m{

[2022-11-16T17:56:06.675] [DEBUG] default -                       [32m+[0m [0mAction    = "sts:AssumeRole"

[2022-11-16T17:56:06.675] [DEBUG] default -                       [32m+[0m [0mEffect    = "Allow"

[2022-11-16T17:56:06.675] [DEBUG] default -                       [32m+[0m [0mPrincipal = {
                          [32m+[0m [0mService = "ecs-tasks.amazonaws.com"
                        }

[2022-11-16T17:56:06.675] [DEBUG] default -                       [32m+[0m [0mSid       = ""
                    },
                ]
              [32m+[0m [0mVersion   = "2012-10-17"

[2022-11-16T17:56:06.675] [DEBUG] default -             }
        )

[2022-11-16T17:56:06.675] [DEBUG] default -       [32m+[0m [0m[1m[0mcreate_date[0m[0m           = (known after apply)

[2022-11-16T17:56:06.675] [DEBUG] default -       [32m+[0m [0m[1m[0mforce_detach_policies[0m[0m = false

[2022-11-16T17:56:06.675] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                    = (known after apply)

[2022-11-16T17:56:06.675] [DEBUG] default -       [32m+[0m [0m[1m[0mmax_session_duration[0m[0m  = 3600

[2022-11-16T17:56:06.676] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m                  = "sample-cdktf-ecsTaskRole"
      [32m+[0m [0m[1m[0mpath[0m[0m                  = "/"

[2022-11-16T17:56:06.676] [DEBUG] default -       [32m+[0m [0m[1m[0munique_id[0m[0m             = (known after apply)
    }

[1m  # aws_iam_role.lambdaExecutionRole[0m will be created[0m[0m

[2022-11-16T17:56:06.676] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_iam_role" "lambdaExecutionRole" {

[2022-11-16T17:56:06.676] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                   = (known after apply)

[2022-11-16T17:56:06.676] [DEBUG] default -       [32m+[0m [0m[1m[0massume_role_policy[0m[0m    = jsonencode(
            {

[2022-11-16T17:56:06.676] [DEBUG] default -               [32m+[0m [0mStatement = [

[2022-11-16T17:56:06.676] [DEBUG] default -                   [32m+[0m [0m{

[2022-11-16T17:56:06.676] [DEBUG] default -                       [32m+[0m [0mAction    = "sts:AssumeRole"

[2022-11-16T17:56:06.676] [DEBUG] default -                       [32m+[0m [0mEffect    = "Allow"

[2022-11-16T17:56:06.676] [DEBUG] default -                       [32m+[0m [0mPrincipal = {

[2022-11-16T17:56:06.676] [DEBUG] default -                           [32m+[0m [0mService = [

[2022-11-16T17:56:06.676] [DEBUG] default -                               [32m+[0m [0m"lambda.amazonaws.com",

[2022-11-16T17:56:06.676] [DEBUG] default -                               [32m+[0m [0m"ecs-tasks.amazonaws.com",

[2022-11-16T17:56:06.676] [DEBUG] default -                             ]
                        }

[2022-11-16T17:56:06.676] [DEBUG] default -                       [32m+[0m [0mSid       = ""
                    },

[2022-11-16T17:56:06.677] [DEBUG] default -                 ]

[2022-11-16T17:56:06.677] [DEBUG] default -               [32m+[0m [0mVersion   = "2012-10-17"
            }

[2022-11-16T17:56:06.677] [DEBUG] default -         )

[2022-11-16T17:56:06.677] [DEBUG] default -       [32m+[0m [0m[1m[0mcreate_date[0m[0m           = (known after apply)

[2022-11-16T17:56:06.677] [DEBUG] default -       [32m+[0m [0m[1m[0mforce_detach_policies[0m[0m = false

[2022-11-16T17:56:06.677] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                    = (known after apply)

[2022-11-16T17:56:06.677] [DEBUG] default -       [32m+[0m [0m[1m[0mmax_session_duration[0m[0m  = 3600

[2022-11-16T17:56:06.714] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m                  = "sample-cdktf-lambdaExecutionRole"
      [32m+[0m [0m[1m[0mpath[0m[0m                  = "/"
      [32m+[0m [0m[1m[0munique_id[0m[0m             = (known after apply)
    }

[1m  # aws_iam_role_policy_attachment.attach-ecs-task-execution-policy[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_iam_role_policy_attachment" "attach-ecs-task-execution-policy" {
      [32m+[0m [0m[1m[0mid[0m[0m         = (known after apply)
      [32m+[0m [0m[1m[0mpolicy_arn[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mrole[0m[0m       = "sample-cdktf-ecsTaskExecutionRole"
    }

[1m  # aws_iam_role_policy_attachment.attach-ecs-task-policy[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_iam_role_policy_attachment" "attach-ecs-task-policy" {
      [32m+[0m [0m[1m[0mid[0m[0m         = (known after apply)
      [32m+[0m [0m[1m[0mpolicy_arn[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mrole[0m[0m       = "sample-cdktf-ecsTaskRole"
    }

[1m  # aws_iam_role_policy_attachment.attach-lambda-policy[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_iam_role_policy_attachment" "attach-lambda-policy" {
      [32m+[0m [0m[1m[0mid[0m[0m         = (known after apply)
      [32m+[0m [0m[1m[0mpolicy_arn[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mrole[0m[0m       = "sample-cdktf-lambdaExecutionRole"
    }

[1m  # aws_internet_gateway.sample-cdktf-igw-production[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_internet_gateway" "sample-cdktf-igw-production" {
      [32m+[0m [0m[1m[0marn[0m[0m      = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m       = (known after apply)
      [32m+[0m [0m[1m[0mowner_id[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mtags[0m[0m     = {
          [32m+[0m [0m"Name" = "igw-production sample-cdktf"
        }
      [32m+[0m [0m[1m[0mvpc_id[0m[0m   = (known after apply)
    }

[1m  # aws_lambda_function.Sample-Lambda-Notification-to-Slack[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_lambda_function" "Sample-Lambda-Notification-to-Slack" {
      [32m+[0m [0m[1m[0marn[0m[0m                            = (known after apply)
      [32m+[0m [0m[1m[0mfunction_name[0m[0m                  = "Sample-Lambda-Notification-to-Slack"
      [32m+[0m [0m[1m[0mhandler[0m[0m                        = "index.handler"
      [32m+[0m [0m[1m[0mid[0m[0m                             = (known after apply)
      [32m+[0m [0m[1m[0minvoke_arn[0m[0m                     = (known after apply)
      [32m+[0m [0m[1m[0mlast_modified[0m[0m                  = (known after apply)
      [32m+[0m [0m[1m[0mmemory_size[0m[0m                    = 128
      [32m+[0m [0m[1m[0mpublish[0m[0m                        = false
      [32m+[0m [0m[1m[0mqualified_arn[0m[0m                  = (known after apply)
      [32m+[0m [0m[1m[0mreserved_concurrent_executions[0m[0m = -1
      [32m+[0m [0m[1m[0mrole[0m[0m                           = (known after apply)
      [32m+[0m [0m[1m[0mruntime[0m[0m                        = "nodejs12.x"
      [32m+[0m [0m[1m[0ms3_bucket[0m[0m                      = "sample-cdktf-s3"
      [32m+[0m [0m[1m[0ms3_key[0m[0m                         = "notification-to-Slack-dist.zip"
      [32m+[0m [0m[1m[0msource_code_hash[0m[0m               = (known after apply)
      [32m+[0m [0m[1m[0msource_code_size[0m[0m               = (known after apply)
      [32m+[0m [0m[1m[0mtimeout[0m[0m                        = 30
      [32m+[0m [0m[1m[0mversion[0m[0m                        = (known after apply)

      [32m+[0m [0menvironment {
          [32m+[0m [0m[1m[0mvariables[0m[0m = {
              [32m+[0m [0m"SLACK_API_TOKEN" = "xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp"
              [32m+[0m [0m"SLACK_CHANNEL"   = "C049CPNKHMJ"
            }
        }

      [32m+[0m [0mtracing_config {
          [32m+[0m [0m[1m[0mmode[0m[0m = (known after apply)
        }
    }

[1m  # aws_lambda_permission.permission-to-sns[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_lambda_permission" "permission-to-sns" {
      [32m+[0m [0m[1m[0maction[0m[0m        = "lambda:InvokeFunction"
      [32m+[0m [0m[1m[0mfunction_name[0m[0m = "Sample-Lambda-Notification-to-Slack"
      [32m+[0m [0m[1m[0mid[0m[0m            = (known after apply)
      [32m+[0m [0m[1m[0mprincipal[0m[0m     = "sns.amazonaws.com"
      [32m+[0m [0m[1m[0msource_arn[0m[0m    = (known after apply)
      [32m+[0m [0m[1m[0mstatement_id[0m[0m  = "AllowExecutionFromSNS"
    }

[1m  # aws_nat_gateway.sample-cdktf-nat-gateway[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_nat_gateway" "sample-cdktf-nat-gateway" {
      [32m+[0m [0m[1m[0mallocation_id[0m[0m        = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m                   = (known after apply)
      [32m+[0m [0m[1m[0mnetwork_interface_id[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mprivate_ip[0m[0m           = (known after apply)
      [32m+[0m [0m[1m[0mpublic_ip[0m[0m            = (known after apply)
      [32m+[0m [0m[1m[0msubnet_id[0m[0m            = (known after apply)
      [32m+[0m [0m[1m[0mtags[0m[0m                 = {
          [32m+[0m [0m"Name" = "sample-cdktf nat-gateway-production"
        }
    }

[1m  # aws_route_table.sample-cdktf-private-rtb[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_route_table" "sample-cdktf-private-rtb" {
      [32m+[0m [0m[1m[0mid[0m[0m               = (known after apply)
      [32m+[0m [0m[1m[0mowner_id[0m[0m         = (known after apply)
      [32m+[0m [0m[1m[0mpropagating_vgws[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mroute[0m[0m            = [
          [32m+[0m [0m{
              [32m+[0m [0mcidr_block                = "0.0.0.0/0"
              [32m+[0m [0megress_only_gateway_id    = ""
              [32m+[0m [0mgateway_id                = ""
              [32m+[0m [0minstance_id               = ""
              [32m+[0m [0mipv6_cidr_block           = ""
              [32m+[0m [0mnat_gateway_id            = (known after apply)
              [32m+[0m [0mnetwork_interface_id      = ""
              [32m+[0m [0mtransit_gateway_id        = ""
              [32m+[0m [0mvpc_peering_connection_id = ""
            },
        ]
      [32m+[0m [0m[1m[0mtags[0m[0m             = {
          [32m+[0m [0m"Name" = "sample-cdktf Private rtb"
        }
      [32m+[0m [0m[1m[0mvpc_id[0m[0m           = (known after apply)
    }

[1m  # aws_route_table.sample-cdktf-public-rtb[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_route_table" "sample-cdktf-public-rtb" {
      [32m+[0m [0m[1m[0mid[0m[0m               = (known after apply)
      [32m+[0m [0m[1m[0mowner_id[0m[0m         = (known after apply)
      [32m+[0m [0m[1m[0mpropagating_vgws[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mroute[0m[0m            = [
          [32m+[0m [0m{
              [32m+[0m [0mcidr_block                = "0.0.0.0/0"
              [32m+[0m [0megress_only_gateway_id    = ""
              [32m+[0m [0mgateway_id                = (known after apply)
              [32m+[0m [0minstance_id               = ""
              [32m+[0m [0mipv6_cidr_block           = ""
              [32m+[0m [0mnat_gateway_id            = ""
              [32m+[0m [0mnetwork_interface_id      = ""
              [32m+[0m [0mtransit_gateway_id        = ""
              [32m+[0m [0mvpc_peering_connection_id = ""
            },
        ]
      [32m+[0m [0m[1m[0mtags[0m[0m             = {
          [32m+[0m [0m"Name" = "sample-cdktf Public rtb"
        }
      [32m+[0m [0m[1m[0mvpc_id[0m[0m           = (known after apply)
    }


[2022-11-16T17:56:06.715] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-private-rtb-association1[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_route_table_association" "sample-cdktf-private-rtb-association1" {
      [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)

[2022-11-16T17:56:06.715] [DEBUG] default -       [32m+[0m [0m[1m[0mroute_table_id[0m[0m = (known after apply)

[2022-11-16T17:56:06.715] [DEBUG] default -       [32m+[0m [0m[1m[0msubnet_id[0m[0m      = (known after apply)

[2022-11-16T17:56:06.715] [DEBUG] default -     }


[2022-11-16T17:56:06.715] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-private-rtb-association2[0m will be created[0m[0m

[2022-11-16T17:56:06.715] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_route_table_association" "sample-cdktf-private-rtb-association2" {

[2022-11-16T17:56:06.715] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)

[2022-11-16T17:56:06.716] [DEBUG] default -       [32m+[0m [0m[1m[0mroute_table_id[0m[0m = (known after apply)

[2022-11-16T17:56:06.716] [DEBUG] default -       [32m+[0m [0m[1m[0msubnet_id[0m[0m      = (known after apply)
    }


[2022-11-16T17:56:06.716] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-public-rtb-association1[0m will be created[0m[0m

[2022-11-16T17:56:06.716] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_route_table_association" "sample-cdktf-public-rtb-association1" {

[2022-11-16T17:56:06.716] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)

[2022-11-16T17:56:06.717] [DEBUG] default -       [32m+[0m [0m[1m[0mroute_table_id[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0msubnet_id[0m[0m      = (known after apply)
    }


[2022-11-16T17:56:06.717] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-public-rtb-association2[0m will be created[0m[0m

[2022-11-16T17:56:06.717] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_route_table_association" "sample-cdktf-public-rtb-association2" {

[2022-11-16T17:56:06.717] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)

[2022-11-16T17:56:06.717] [DEBUG] default -       [32m+[0m [0m[1m[0mroute_table_id[0m[0m = (known after apply)

[2022-11-16T17:56:06.717] [DEBUG] default -       [32m+[0m [0m[1m[0msubnet_id[0m[0m      = (known after apply)
    }


[2022-11-16T17:56:06.717] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-public-rtb1[0m will be created[0m[0m

[2022-11-16T17:56:06.718] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_route_table_association" "sample-cdktf-public-rtb1" {

[2022-11-16T17:56:06.718] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)

[2022-11-16T17:56:06.718] [DEBUG] default -       [32m+[0m [0m[1m[0mroute_table_id[0m[0m = (known after apply)

[2022-11-16T17:56:06.718] [DEBUG] default -       [32m+[0m [0m[1m[0msubnet_id[0m[0m      = (known after apply)
    }


[2022-11-16T17:56:06.718] [DEBUG] default - [1m  # aws_s3_bucket.sample-cdktf-s3[0m will be created[0m[0m

[2022-11-16T17:56:06.718] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_s3_bucket" "sample-cdktf-s3" {

[2022-11-16T17:56:06.718] [DEBUG] default -       [32m+[0m [0m[1m[0macceleration_status[0m[0m         = (known after apply)

[2022-11-16T17:56:06.718] [DEBUG] default -       [32m+[0m [0m[1m[0macl[0m[0m                         = "private"

[2022-11-16T17:56:06.718] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                         = (known after apply)

[2022-11-16T17:56:06.718] [DEBUG] default -       [32m+[0m [0m[1m[0mbucket[0m[0m                      = "sample-cdktf-s3"

[2022-11-16T17:56:06.719] [DEBUG] default -       [32m+[0m [0m[1m[0mbucket_domain_name[0m[0m          = (known after apply)

[2022-11-16T17:56:06.719] [DEBUG] default -       [32m+[0m [0m[1m[0mbucket_regional_domain_name[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mforce_destroy[0m[0m               = false

[2022-11-16T17:56:06.719] [DEBUG] default -       [32m+[0m [0m[1m[0mhosted_zone_id[0m[0m              = (known after apply)

[2022-11-16T17:56:06.719] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                          = (known after apply)

[2022-11-16T17:56:06.720] [DEBUG] default -       [32m+[0m [0m[1m[0mregion[0m[0m                      = "ap-northeast-1"

[2022-11-16T17:56:06.721] [DEBUG] default -       [32m+[0m [0m[1m[0mrequest_payer[0m[0m               = (known after apply)
      [32m+[0m [0m[1m[0mwebsite_domain[0m[0m              = (known after apply)
      [32m+[0m [0m[1m[0mwebsite_endpoint[0m[0m            = (known after apply)

      [32m+[0m [0mversioning {
          [32m+[0m [0m[1m[0menabled[0m[0m    = (known after apply)
          [32m+[0m [0m[1m[0mmfa_delete[0m[0m = (known after apply)
        }
    }

[1m  # aws_s3_bucket_object.notification-to-Slack-distzip[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_s3_bucket_object" "notification-to-Slack-distzip" {

[2022-11-16T17:56:06.721] [DEBUG] default -       [32m+[0m [0m[1m[0macl[0m[0m                    = "private"

[2022-11-16T17:56:06.721] [DEBUG] default -       [32m+[0m [0m[1m[0mbucket[0m[0m                 = "sample-cdktf-s3"

[2022-11-16T17:56:06.721] [DEBUG] default -       [32m+[0m [0m[1m[0mcontent_type[0m[0m           = "zip"

[2022-11-16T17:56:06.721] [DEBUG] default -       [32m+[0m [0m[1m[0metag[0m[0m                   = (known after apply)

[2022-11-16T17:56:06.722] [DEBUG] default -       [32m+[0m [0m[1m[0mforce_destroy[0m[0m          = false

[2022-11-16T17:56:06.722] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                     = (known after apply)
      [32m+[0m [0m[1m[0mkey[0m[0m                    = "notification-to-Slack-dist.zip"
      [32m+[0m [0m[1m[0mserver_side_encryption[0m[0m = (known after apply)

[2022-11-16T17:56:06.722] [DEBUG] default -       [32m+[0m [0m[1m[0msource[0m[0m                 = "/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip"

[2022-11-16T17:56:06.722] [DEBUG] default -       [32m+[0m [0m[1m[0mstorage_class[0m[0m          = (known after apply)

[2022-11-16T17:56:06.722] [DEBUG] default -       [32m+[0m [0m[1m[0mversion_id[0m[0m             = (known after apply)
    }


[2022-11-16T17:56:06.722] [DEBUG] default - [1m  # aws_security_group.sample-cdktf-security-group[0m will be created[0m[0m

[2022-11-16T17:56:06.722] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_security_group" "sample-cdktf-security-group" {

[2022-11-16T17:56:06.722] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                    = (known after apply)

[2022-11-16T17:56:06.723] [DEBUG] default -       [32m+[0m [0m[1m[0mdescription[0m[0m            = "Managed by Terraform"

[2022-11-16T17:56:06.723] [DEBUG] default -       [32m+[0m [0m[1m[0megress[0m[0m                 = (known after apply)

[2022-11-16T17:56:06.723] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                     = (known after apply)

[2022-11-16T17:56:06.723] [DEBUG] default -       [32m+[0m [0m[1m[0mingress[0m[0m                = (known after apply)

[2022-11-16T17:56:06.723] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m                   = "sample-cdktf"

[2022-11-16T17:56:06.723] [DEBUG] default -       [32m+[0m [0m[1m[0mowner_id[0m[0m               = (known after apply)

[2022-11-16T17:56:06.723] [DEBUG] default -       [32m+[0m [0m[1m[0mrevoke_rules_on_delete[0m[0m = false

[2022-11-16T17:56:06.723] [DEBUG] default -       [32m+[0m [0m[1m[0mtags[0m[0m                   = {
          [32m+[0m [0m"Name" = "sample-cdktf"

[2022-11-16T17:56:06.723] [DEBUG] default -         }

[2022-11-16T17:56:06.723] [DEBUG] default -       [32m+[0m [0m[1m[0mvpc_id[0m[0m                 = (known after apply)
    }


[2022-11-16T17:56:06.723] [DEBUG] default - [1m  # aws_security_group_rule.sample-cdktf-security-egress[0m will be created[0m[0m

[2022-11-16T17:56:06.723] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_security_group_rule" "sample-cdktf-security-egress" {

[2022-11-16T17:56:06.724] [DEBUG] default -       [32m+[0m [0m[1m[0mcidr_blocks[0m[0m              = [

[2022-11-16T17:56:06.724] [DEBUG] default -           [32m+[0m [0m"0.0.0.0/0",
        ]

[2022-11-16T17:56:06.724] [DEBUG] default -       [32m+[0m [0m[1m[0mfrom_port[0m[0m                = 0

[2022-11-16T17:56:06.724] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                       = (known after apply)

[2022-11-16T17:56:06.724] [DEBUG] default -       [32m+[0m [0m[1m[0mprotocol[0m[0m                 = "-1"

[2022-11-16T17:56:06.724] [DEBUG] default -       [32m+[0m [0m[1m[0msecurity_group_id[0m[0m        = (known after apply)

[2022-11-16T17:56:06.724] [DEBUG] default -       [32m+[0m [0m[1m[0mself[0m[0m                     = false

[2022-11-16T17:56:06.724] [DEBUG] default -       [32m+[0m [0m[1m[0msource_security_group_id[0m[0m = (known after apply)

[2022-11-16T17:56:06.724] [DEBUG] default -       [32m+[0m [0m[1m[0mto_port[0m[0m                  = 0

[2022-11-16T17:56:06.724] [DEBUG] default -       [32m+[0m [0m[1m[0mtype[0m[0m                     = "egress"
    }


[2022-11-16T17:56:06.724] [DEBUG] default - [1m  # aws_security_group_rule.sample-cdktf-security-ingress[0m will be created[0m[0m

[2022-11-16T17:56:06.724] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_security_group_rule" "sample-cdktf-security-ingress" {

[2022-11-16T17:56:06.724] [DEBUG] default -       [32m+[0m [0m[1m[0mcidr_blocks[0m[0m              = [

[2022-11-16T17:56:06.724] [DEBUG] default -           [32m+[0m [0m"0.0.0.0/0",
        ]

[2022-11-16T17:56:06.725] [DEBUG] default -       [32m+[0m [0m[1m[0mfrom_port[0m[0m                = 80

[2022-11-16T17:56:06.725] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                       = (known after apply)

[2022-11-16T17:56:06.725] [DEBUG] default -       [32m+[0m [0m[1m[0mprotocol[0m[0m                 = "tcp"

[2022-11-16T17:56:06.725] [DEBUG] default -       [32m+[0m [0m[1m[0msecurity_group_id[0m[0m        = (known after apply)

[2022-11-16T17:56:06.725] [DEBUG] default -       [32m+[0m [0m[1m[0mself[0m[0m                     = false

[2022-11-16T17:56:06.725] [DEBUG] default -       [32m+[0m [0m[1m[0msource_security_group_id[0m[0m = (known after apply)

[2022-11-16T17:56:06.725] [DEBUG] default -       [32m+[0m [0m[1m[0mto_port[0m[0m                  = 80

[2022-11-16T17:56:06.725] [DEBUG] default -       [32m+[0m [0m[1m[0mtype[0m[0m                     = "ingress"
    }


[2022-11-16T17:56:06.725] [DEBUG] default - [1m  # aws_sns_topic.sample-cdktf-sns[0m will be created[0m[0m

[2022-11-16T17:56:06.725] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_sns_topic" "sample-cdktf-sns" {

[2022-11-16T17:56:06.725] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m    = (known after apply)

[2022-11-16T17:56:06.725] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m     = (known after apply)

[2022-11-16T17:56:06.725] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m   = "sample-cdktf-sns"

[2022-11-16T17:56:06.725] [DEBUG] default -       [32m+[0m [0m[1m[0mpolicy[0m[0m = (known after apply)
    }


[2022-11-16T17:56:06.726] [DEBUG] default - [1m  # aws_sns_topic_policy.sample-cdktf-sns-policy[0m will be created[0m[0m

[2022-11-16T17:56:06.726] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_sns_topic_policy" "sample-cdktf-sns-policy" {

[2022-11-16T17:56:06.726] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m    = (known after apply)

[2022-11-16T17:56:06.726] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m     = (known after apply)

[2022-11-16T17:56:06.726] [DEBUG] default -       [32m+[0m [0m[1m[0mpolicy[0m[0m = jsonencode(
            {

[2022-11-16T17:56:06.726] [DEBUG] default -               [32m+[0m [0mStatement = {
                  [32m+[0m [0mAction    = [

[2022-11-16T17:56:06.726] [DEBUG] default -                       [32m+[0m [0m"SNS:Publish",
                    ]

[2022-11-16T17:56:06.726] [DEBUG] default -                   [32m+[0m [0mEffect    = "Allow"

[2022-11-16T17:56:06.726] [DEBUG] default -                   [32m+[0m [0mPrincipal = {

[2022-11-16T17:56:06.726] [DEBUG] default -                       [32m+[0m [0mService = "events.amazonaws.com"
                    }

[2022-11-16T17:56:06.726] [DEBUG] default -                   [32m+[0m [0mResource  = [
                      [32m+[0m [0m"*",

[2022-11-16T17:56:06.726] [DEBUG] default -                     ]

[2022-11-16T17:56:06.726] [DEBUG] default -                   [32m+[0m [0mSid       = ""
                }

[2022-11-16T17:56:06.726] [DEBUG] default -               [32m+[0m [0mVersion   = "2012-10-17"
            }
        )
    }


[2022-11-16T17:56:06.726] [DEBUG] default - [1m  # aws_sns_topic_subscription.sample-cdktf-sns-subscription[0m will be created[0m[0m

[2022-11-16T17:56:06.726] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_sns_topic_subscription" "sample-cdktf-sns-subscription" {

[2022-11-16T17:56:06.727] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                             = (known after apply)

[2022-11-16T17:56:06.727] [DEBUG] default -       [32m+[0m [0m[1m[0mconfirmation_timeout_in_minutes[0m[0m = 1

[2022-11-16T17:56:06.727] [DEBUG] default -       [32m+[0m [0m[1m[0mendpoint[0m[0m                        = (known after apply)

[2022-11-16T17:56:06.727] [DEBUG] default -       [32m+[0m [0m[1m[0mendpoint_auto_confirms[0m[0m          = false

[2022-11-16T17:56:06.727] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                              = (known after apply)

[2022-11-16T17:56:06.727] [DEBUG] default -       [32m+[0m [0m[1m[0mprotocol[0m[0m                        = "lambda"

[2022-11-16T17:56:06.727] [DEBUG] default -       [32m+[0m [0m[1m[0mraw_message_delivery[0m[0m            = false

[2022-11-16T17:56:06.727] [DEBUG] default -       [32m+[0m [0m[1m[0mtopic_arn[0m[0m                       = (known after apply)
    }

[2022-11-16T17:56:06.727] [DEBUG] default - 

[2022-11-16T17:56:06.727] [DEBUG] default - [1m  # aws_subnet.sample-cdktf-private-subnet1[0m will be created[0m[0m

[2022-11-16T17:56:06.727] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_subnet" "sample-cdktf-private-subnet1" {

[2022-11-16T17:56:06.727] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                             = (known after apply)

[2022-11-16T17:56:06.727] [DEBUG] default -       [32m+[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false

[2022-11-16T17:56:06.727] [DEBUG] default -       [32m+[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1a"

[2022-11-16T17:56:06.727] [DEBUG] default -       [32m+[0m [0m[1m[0mavailability_zone_id[0m[0m            = (known after apply)

[2022-11-16T17:56:06.728] [DEBUG] default -       [32m+[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.128.0/20"

[2022-11-16T17:56:06.728] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                              = (known after apply)

[2022-11-16T17:56:06.728] [DEBUG] default -       [32m+[0m [0m[1m[0mipv6_cidr_block[0m[0m                 = (known after apply)

[2022-11-16T17:56:06.728] [DEBUG] default -       [32m+[0m [0m[1m[0mipv6_cidr_block_association_id[0m[0m  = (known after apply)
      [32m+[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true

[2022-11-16T17:56:06.728] [DEBUG] default -       [32m+[0m [0m[1m[0mowner_id[0m[0m                        = (known after apply)

[2022-11-16T17:56:06.728] [DEBUG] default -       [32m+[0m [0m[1m[0mtags[0m[0m                            = {

[2022-11-16T17:56:06.728] [DEBUG] default -           [32m+[0m [0m"Name" = "Private1 AZ1a sample-cdktf"
        }

[2022-11-16T17:56:06.728] [DEBUG] default -       [32m+[0m [0m[1m[0mvpc_id[0m[0m                          = (known after apply)
    }


[2022-11-16T17:56:06.728] [DEBUG] default - [1m  # aws_subnet.sample-cdktf-private-subnet2[0m will be created[0m[0m

[2022-11-16T17:56:06.728] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_subnet" "sample-cdktf-private-subnet2" {

[2022-11-16T17:56:06.728] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                             = (known after apply)

[2022-11-16T17:56:06.728] [DEBUG] default -       [32m+[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false

[2022-11-16T17:56:06.728] [DEBUG] default -       [32m+[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1c"

[2022-11-16T17:56:06.729] [DEBUG] default -       [32m+[0m [0m[1m[0mavailability_zone_id[0m[0m            = (known after apply)

[2022-11-16T17:56:06.729] [DEBUG] default -       [32m+[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.144.0/20"

[2022-11-16T17:56:06.729] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                              = (known after apply)

[2022-11-16T17:56:06.729] [DEBUG] default -       [32m+[0m [0m[1m[0mipv6_cidr_block[0m[0m                 = (known after apply)

[2022-11-16T17:56:06.729] [DEBUG] default -       [32m+[0m [0m[1m[0mipv6_cidr_block_association_id[0m[0m  = (known after apply)

[2022-11-16T17:56:06.729] [DEBUG] default -       [32m+[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true
      [32m+[0m [0m[1m[0mowner_id[0m[0m                        = (known after apply)
      [32m+[0m [0m[1m[0mtags[0m[0m                            = {
          [32m+[0m [0m"Name" = "Private2 AZ1c sample-cdktf"
        }
      [32m+[0m [0m[1m[0mvpc_id[0m[0m                          = (known after apply)
    }

[1m  # aws_subnet.sample-cdktf-public-subnet1[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_subnet" "sample-cdktf-public-subnet1" {
      [32m+[0m [0m[1m[0marn[0m[0m                             = (known after apply)

[2022-11-16T17:56:06.729] [DEBUG] default -       [32m+[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false

[2022-11-16T17:56:06.730] [DEBUG] default -       [32m+[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1a"

[2022-11-16T17:56:06.730] [DEBUG] default -       [32m+[0m [0m[1m[0mavailability_zone_id[0m[0m            = (known after apply)

[2022-11-16T17:56:06.730] [DEBUG] default -       [32m+[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.0.0/20"

[2022-11-16T17:56:06.730] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                              = (known after apply)

[2022-11-16T17:56:06.730] [DEBUG] default -       [32m+[0m [0m[1m[0mipv6_cidr_block[0m[0m                 = (known after apply)

[2022-11-16T17:56:06.730] [DEBUG] default -       [32m+[0m [0m[1m[0mipv6_cidr_block_association_id[0m[0m  = (known after apply)

[2022-11-16T17:56:06.730] [DEBUG] default -       [32m+[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true

[2022-11-16T17:56:06.730] [DEBUG] default -       [32m+[0m [0m[1m[0mowner_id[0m[0m                        = (known after apply)

[2022-11-16T17:56:06.730] [DEBUG] default -       [32m+[0m [0m[1m[0mtags[0m[0m                            = {

[2022-11-16T17:56:06.730] [DEBUG] default -           [32m+[0m [0m"Name" = "Public1 AZ1a sample-cdktf"

[2022-11-16T17:56:06.730] [DEBUG] default -         }

[2022-11-16T17:56:06.730] [DEBUG] default -       [32m+[0m [0m[1m[0mvpc_id[0m[0m                          = (known after apply)

[2022-11-16T17:56:06.730] [DEBUG] default -     }


[2022-11-16T17:56:06.730] [DEBUG] default - [1m  # aws_subnet.sample-cdktf-public-subnet2[0m will be created[0m[0m

[2022-11-16T17:56:06.730] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_subnet" "sample-cdktf-public-subnet2" {

[2022-11-16T17:56:06.731] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                             = (known after apply)

[2022-11-16T17:56:06.731] [DEBUG] default -       [32m+[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false

[2022-11-16T17:56:06.731] [DEBUG] default -       [32m+[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1c"

[2022-11-16T17:56:06.731] [DEBUG] default -       [32m+[0m [0m[1m[0mavailability_zone_id[0m[0m            = (known after apply)

[2022-11-16T17:56:06.731] [DEBUG] default -       [32m+[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.16.0/20"

[2022-11-16T17:56:06.731] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                              = (known after apply)

[2022-11-16T17:56:06.731] [DEBUG] default -       [32m+[0m [0m[1m[0mipv6_cidr_block[0m[0m                 = (known after apply)

[2022-11-16T17:56:06.731] [DEBUG] default -       [32m+[0m [0m[1m[0mipv6_cidr_block_association_id[0m[0m  = (known after apply)

[2022-11-16T17:56:06.731] [DEBUG] default -       [32m+[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true

[2022-11-16T17:56:06.731] [DEBUG] default -       [32m+[0m [0m[1m[0mowner_id[0m[0m                        = (known after apply)

[2022-11-16T17:56:06.731] [DEBUG] default -       [32m+[0m [0m[1m[0mtags[0m[0m                            = {

[2022-11-16T17:56:06.731] [DEBUG] default -           [32m+[0m [0m"Name" = "Public2 AZ1c sample-cdktf"
        }

[2022-11-16T17:56:06.731] [DEBUG] default -       [32m+[0m [0m[1m[0mvpc_id[0m[0m                          = (known after apply)
    }


[2022-11-16T17:56:06.732] [DEBUG] default - [1m  # aws_vpc.sample-cdktf-vpc[0m will be created[0m[0m

[2022-11-16T17:56:06.732] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_vpc" "sample-cdktf-vpc" {

[2022-11-16T17:56:06.732] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                              = (known after apply)

[2022-11-16T17:56:06.732] [DEBUG] default -       [32m+[0m [0m[1m[0massign_generated_ipv6_cidr_block[0m[0m = false

[2022-11-16T17:56:06.732] [DEBUG] default -       [32m+[0m [0m[1m[0mcidr_block[0m[0m                       = "10.0.0.0/16"

[2022-11-16T17:56:06.732] [DEBUG] default -       [32m+[0m [0m[1m[0mdefault_network_acl_id[0m[0m           = (known after apply)

[2022-11-16T17:56:06.732] [DEBUG] default -       [32m+[0m [0m[1m[0mdefault_route_table_id[0m[0m           = (known after apply)

[2022-11-16T17:56:06.732] [DEBUG] default -       [32m+[0m [0m[1m[0mdefault_security_group_id[0m[0m        = (known after apply)

[2022-11-16T17:56:06.732] [DEBUG] default -       [32m+[0m [0m[1m[0mdhcp_options_id[0m[0m                  = (known after apply)

[2022-11-16T17:56:06.732] [DEBUG] default -       [32m+[0m [0m[1m[0menable_classiclink[0m[0m               = (known after apply)

[2022-11-16T17:56:06.732] [DEBUG] default -       [32m+[0m [0m[1m[0menable_classiclink_dns_support[0m[0m   = (known after apply)

[2022-11-16T17:56:06.732] [DEBUG] default -       [32m+[0m [0m[1m[0menable_dns_hostnames[0m[0m             = true

[2022-11-16T17:56:06.732] [DEBUG] default -       [32m+[0m [0m[1m[0menable_dns_support[0m[0m               = true

[2022-11-16T17:56:06.733] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                               = (known after apply)

[2022-11-16T17:56:06.733] [DEBUG] default -       [32m+[0m [0m[1m[0minstance_tenancy[0m[0m                 = "default"

[2022-11-16T17:56:06.733] [DEBUG] default -       [32m+[0m [0m[1m[0mipv6_association_id[0m[0m              = (known after apply)

[2022-11-16T17:56:06.733] [DEBUG] default -       [32m+[0m [0m[1m[0mipv6_cidr_block[0m[0m                  = (known after apply)

[2022-11-16T17:56:06.733] [DEBUG] default -       [32m+[0m [0m[1m[0mmain_route_table_id[0m[0m              = (known after apply)

[2022-11-16T17:56:06.733] [DEBUG] default -       [32m+[0m [0m[1m[0mowner_id[0m[0m                         = (known after apply)

[2022-11-16T17:56:06.733] [DEBUG] default -       [32m+[0m [0m[1m[0mtags[0m[0m                             = {

[2022-11-16T17:56:06.733] [DEBUG] default -           [32m+[0m [0m"Name" = "sample-cdktf production"
        }
    }

[2022-11-16T17:56:06.733] [DEBUG] default - 
[0m[1mPlan:[0m 45 to add, 0 to change, 0 to destroy.[0m
[33m

[2022-11-16T17:56:06.733] [DEBUG] default - [1m[33mWarning: [0m[0m[1m"condition.0.values": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m


[2022-11-16T17:56:06.733] [DEBUG] default - [0m  on cdk.tf.json line 672, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:

[2022-11-16T17:56:06.733] [DEBUG] default -  672:       [4m}[0m
[0m
[0m[0m

[2022-11-16T17:56:06.733] [DEBUG] default - [33m

[2022-11-16T17:56:06.734] [DEBUG] default - [1m[33mWarning: [0m[0m[1m"condition.0.field": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m


[2022-11-16T17:56:06.734] [DEBUG] default - [0m  on cdk.tf.json line 672, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:
 672:       [4m}[0m
[0m
[0m[0m

[2022-11-16T17:56:06.734] [DEBUG] default - 
------------------------------------------------------------------------


[2022-11-16T17:56:06.734] [DEBUG] default - This plan was saved to: /Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/cdktf.out/plan


[2022-11-16T17:56:06.734] [DEBUG] default - To perform exactly these actions, run the following command to apply:

[2022-11-16T17:56:06.734] [DEBUG] default -     terraform apply "/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/cdktf.out/plan"


[2022-11-16T17:56:07.645] [DEBUG] default - {"format_version":"0.1","terraform_version":"0.14.8","planned_values":{"root_module":{"resources":[{"address":"aws_alb.sample-cdktf-alb","mode":"managed","type":"aws_alb","name":"sample-cdktf-alb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"access_logs":[],"drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":null,"enable_deletion_protection":false,"enable_http2":true,"idle_timeout":60,"internal":false,"ip_address_type":"ipv4","load_balancer_type":"application","name":"sample-cdktf-alb","name_prefix":null,"tags":null,"timeouts":null}},{"address":"aws_alb_listener.sample-cdktf-alb-listener","mode":"managed","type":"aws_alb_listener","name":"sample-cdktf-alb-listener","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[],"type":"forward"}],"port":80,"protocol":"HTTP","timeouts":null}},{"address":"aws_alb_listener_rule.sample-cdktf-alb-listener-rule","mode":"managed","type":"aws_alb_listener_rule","name":"sample-cdktf-alb-listener-rule","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[],"type":"forward"}],"condition":[{"field":"path-pattern","http_header":[],"http_request_method":[],"query_string":[],"source_ip":[],"values":["*"]}],"priority":100}},{"address":"aws_alb_target_group.sample-cdktf-alb-target-group","mode":"managed","type":"aws_alb_target_group","name":"sample-cdktf-alb-target-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"deregistration_delay":300,"health_check":[{"enabled":true,"healthy_threshold":3,"interval":30,"path":"/","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"lambda_multi_value_headers_enabled":false,"name":"sample-cdktf-alb-target-group","name_prefix":null,"port":80,"protocol":"HTTP","proxy_protocol_v2":false,"slow_start":0,"tags":null,"target_type":"ip"}},{"address":"aws_cloudwatch_event_rule.sample-cdktf-event-rule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"sample-cdktf-event-rule","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Capture each AWS ECR Update","event_pattern":"{\"detail\":{\"action-type\":[\"PUSH\"],\"result\":[\"SUCCESS\"]},\"detail-type\":[\"ECR Image Action\"],\"source\":[\"aws.ecr\"]}","is_enabled":true,"name":"capture-ecr-update","name_prefix":null,"role_arn":null,"schedule_expression":null,"tags":null}},{"address":"aws_cloudwatch_event_target.sample-cdktf-event-target","mode":"managed","type":"aws_cloudwatch_event_target","name":"sample-cdktf-event-target","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"batch_target":[],"ecs_target":[],"input":null,"input_path":null,"input_transformer":[],"kinesis_target":[],"role_arn":null,"rule":"capture-ecr-update","run_command_targets":[],"sqs_target":[],"target_id":"SendToSNS"}},{"address":"aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-notification-to-slack-log-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"kms_key_id":null,"name":"/aws/lambda/Sample-Lambda-Notification-to-Slack","name_prefix":null,"retention_in_days":0,"tags":null}},{"address":"aws_ecr_repository.sample-cdktf-repository","mode":"managed","type":"aws_ecr_repository","name":"sample-cdktf-repository","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"image_scanning_configuration":[],"image_tag_mutability":"MUTABLE","name":"project/sample-cdktf","tags":null,"timeouts":null}},{"address":"aws_ecs_cluster.sample-cdktf-cluster","mode":"managed","type":"aws_ecs_cluster","name":"sample-cdktf-cluster","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"capacity_providers":null,"default_capacity_provider_strategy":[],"name":"sample-cdktf-cluster","tags":null}},{"address":"aws_ecs_service.sample-cdktf-ecs-service","mode":"managed","type":"aws_ecs_service","name":"sample-cdktf-ecs-service","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"capacity_provider_strategy":[],"deployment_controller":[],"deployment_maximum_percent":200,"deployment_minimum_healthy_percent":100,"desired_count":1,"enable_ecs_managed_tags":false,"force_new_deployment":null,"health_check_grace_period_seconds":null,"launch_type":"FARGATE","load_balancer":[{"container_name":"sample-cdktf-container","container_port":9000,"elb_name":""}],"name":"sample-cdktf-ecs-service","network_configuration":[{"assign_public_ip":false}],"ordered_placement_strategy":[],"placement_constraints":[],"platform_version":"LATEST","propagate_tags":null,"scheduling_strategy":"REPLICA","service_registries":[],"tags":null,"timeouts":null}},{"address":"aws_ecs_task_definition.sample-cdktf-task","mode":"managed","type":"aws_ecs_task_definition","name":"sample-cdktf-task","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"cpu":"512","family":"task-for-cdktf","inference_accelerator":[],"ipc_mode":null,"memory":"1024","network_mode":"awsvpc","pid_mode":null,"placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":["FARGATE"],"tags":null,"volume":[]}},{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"associate_with_private_ip":null,"customer_owned_ipv4_pool":null,"tags":null,"timeouts":null,"vpc":true}},{"address":"aws_iam_policy.ecs-task-execution-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Policy for updating ECS tasks","name":"ecs-task-execution-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},{"address":"aws_iam_policy.ecs-task-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Policy for updating ECS tasks","name":"ecs-task-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecs:DescribeServices\",\n              \"ecs:CreateTaskSet\",\n              \"ecs:UpdateServicePrimaryTaskSet\",\n              \"ecs:DeleteTaskSet\",\n              \"elasticloadbalancing:DescribeTargetGroups\",\n              \"elasticloadbalancing:DescribeListeners\",\n              \"elasticloadbalancing:ModifyListener\",\n              \"elasticloadbalancing:DescribeRules\",\n              \"elasticloadbalancing:ModifyRule\",\n              \"lambda:InvokeFunction\",\n              \"cloudwatch:DescribeAlarms\",\n              \"sns:Publish\",\n              \"s3:GetObject\",\n              \"s3:GetObjectVersion\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},{"address":"aws_iam_policy.lambda-logging","mode":"managed","type":"aws_iam_policy","name":"lambda-logging","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"IAM policy for logging from a lambda","name":"sample-cdktf-lambda-logging","name_pref
[2022-11-16T17:56:07.646] [DEBUG] default - ix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"iam:PassRole\",\n              \"ecs:RegisterTaskDefinition\",\n              \"ecs:UpdateService\",\n              \"logs:CreateLogGroup\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\",\n              \"arn:aws:logs:*:*:*\",\n              \"arn:aws:ecs:*:*:*\",\n              \"arn:aws:iam::445682127642:role/sample-cdktf-ecsTaskExecutionRole\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},{"address":"aws_iam_role.ecsTaskExecutionRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\":    \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"sample-cdktf-ecsTaskExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null}},{"address":"aws_iam_role.ecsTaskRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskRole","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\n        \"Version\": \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n          },\n          \"Effect\": \"Allow\",\n          \"Sid\": \"\"\n          }\n        ]\n      }","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"sample-cdktf-ecsTaskRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null}},{"address":"aws_iam_role.lambdaExecutionRole","mode":"managed","type":"aws_iam_role","name":"lambdaExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": [\n                \"lambda.amazonaws.com\",\n                \"ecs-tasks.amazonaws.com\"\n              ]\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"sample-cdktf-lambdaExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null}},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-execution-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"sample-cdktf-ecsTaskExecutionRole"}},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"sample-cdktf-ecsTaskRole"}},{"address":"aws_iam_role_policy_attachment.attach-lambda-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-lambda-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"sample-cdktf-lambdaExecutionRole"}},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"tags":{"Name":"igw-production sample-cdktf"}}},{"address":"aws_lambda_function.Sample-Lambda-Notification-to-Slack","mode":"managed","type":"aws_lambda_function","name":"Sample-Lambda-Notification-to-Slack","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"dead_letter_config":[],"description":null,"environment":[{"variables":{"SLACK_API_TOKEN":"xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp","SLACK_CHANNEL":"C049CPNKHMJ"}}],"file_system_config":[],"filename":null,"function_name":"Sample-Lambda-Notification-to-Slack","handler":"index.handler","kms_key_arn":null,"layers":null,"memory_size":128,"publish":false,"reserved_concurrent_executions":-1,"runtime":"nodejs12.x","s3_bucket":"sample-cdktf-s3","s3_key":"notification-to-Slack-dist.zip","s3_object_version":null,"tags":null,"timeout":30,"timeouts":null,"vpc_config":[]}},{"address":"aws_lambda_permission.permission-to-sns","mode":"managed","type":"aws_lambda_permission","name":"permission-to-sns","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"Sample-Lambda-Notification-to-Slack","principal":"sns.amazonaws.com","qualifier":null,"source_account":null,"statement_id":"AllowExecutionFromSNS","statement_id_prefix":null}},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"tags":{"Name":"sample-cdktf nat-gateway-production"}}},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Private rtb"}}},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Public rtb"}}},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null}},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null}},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null}},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null}},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null}},{"address":"aws_s3_bucket.sample-cdktf-s3","mode":"managed","type":"aws_s3_bucket","name":"sample-cdktf-s3","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","bucket":"sample-cdktf-s3","bucket_
[2022-11-16T17:56:07.646] [DEBUG] default - prefix":null,"cors_rule":[],"force_destroy":false,"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":null,"region":"ap-northeast-1","replication_configuration":[],"server_side_encryption_configuration":[],"tags":null,"website":[]}},{"address":"aws_s3_bucket_object.notification-to-Slack-distzip","mode":"managed","type":"aws_s3_bucket_object","name":"notification-to-Slack-distzip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","bucket":"sample-cdktf-s3","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"content_type":"zip","force_destroy":false,"key":"notification-to-Slack-dist.zip","kms_key_id":null,"metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip","tags":null,"website_redirect":null}},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Managed by Terraform","name":"sample-cdktf","name_prefix":null,"revoke_rules_on_delete":false,"tags":{"Name":"sample-cdktf"},"timeouts":null}},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","self":false,"to_port":0,"type":"egress"}},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":80,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","self":false,"to_port":80,"type":"ingress"}},{"address":"aws_sns_topic.sample-cdktf-sns","mode":"managed","type":"aws_sns_topic","name":"sample-cdktf-sns","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"delivery_policy":null,"display_name":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"kms_master_key_id":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"sample-cdktf-sns","name_prefix":null,"sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":null}},{"address":"aws_sns_topic_policy.sample-cdktf-sns-policy","mode":"managed","type":"aws_sns_topic_policy","name":"sample-cdktf-sns-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": {\n          \"Effect\": \"Allow\",\n          \"Sid\":    \"\",\n          \"Principal\": {\n            \"Service\": \"events.amazonaws.com\"\n          },\n          \"Action\": [\n            \"SNS:Publish\"\n          ],\n          \"Resource\": [\n            \"*\"\n          ]\n        }\n      }"}},{"address":"aws_sns_topic_subscription.sample-cdktf-sns-subscription","mode":"managed","type":"aws_sns_topic_subscription","name":"sample-cdktf-sns-subscription","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"confirmation_timeout_in_minutes":1,"delivery_policy":null,"endpoint_auto_confirms":false,"filter_policy":null,"protocol":"lambda","raw_message_delivery":false}},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","cidr_block":"10.0.128.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Private1 AZ1a sample-cdktf"},"timeouts":null}},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","cidr_block":"10.0.144.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Private2 AZ1c sample-cdktf"},"timeouts":null}},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","cidr_block":"10.0.0.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Public1 AZ1a sample-cdktf"},"timeouts":null}},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","cidr_block":"10.0.16.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Public2 AZ1c sample-cdktf"},"timeouts":null}},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","tags":{"Name":"sample-cdktf production"}}}]}},"resource_changes":[{"address":"aws_alb.sample-cdktf-alb","mode":"managed","type":"aws_alb","name":"sample-cdktf-alb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"access_logs":[],"drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":null,"enable_deletion_protection":false,"enable_http2":true,"idle_timeout":60,"internal":false,"ip_address_type":"ipv4","load_balancer_type":"application","name":"sample-cdktf-alb","name_prefix":null,"tags":null,"timeouts":null},"after_unknown":{"access_logs":[],"arn":true,"arn_suffix":true,"dns_name":true,"id":true,"security_groups":true,"subnet_mapping":true,"subnets":true,"vpc_id":true,"zone_id":true}}},{"address":"aws_alb_listener.sample-cdktf-alb-listener","mode":"managed","type":"aws_alb_listener","name":"sample-cdktf-alb-listener","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[],"type":"forward"}],"port":80,"protocol":"HTTP","timeouts":null},"after_unknown":{"arn":true,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"order":true,"redirect":[],"target_group_arn":true}],"id":true,"load_balancer_arn":true,"ssl_policy":true}}},{"address":"aws_alb_listener_rule.sample-cdktf-alb-listener-rule","mode":"managed","type":"aws_alb_listener_rule","name":"sample-cdktf-alb-listener-rule","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[],"type":"forward"}],"condition":[{"field":"path-pattern","http_header":[],"http_request_method":[],"query_string":[],"source_ip":[],"values":["*"]}],"priority":100},"after_unknown":{"action":[{"authenticate_cognito":[],"authenticate_oi
[2022-11-16T17:56:07.646] [DEBUG] default - dc":[],"fixed_response":[],"forward":[],"order":true,"redirect":[],"target_group_arn":true}],"arn":true,"condition":[{"host_header":true,"http_header":[],"http_request_method":[],"path_pattern":true,"query_string":[],"source_ip":[],"values":[false]}],"id":true,"listener_arn":true}}},{"address":"aws_alb_target_group.sample-cdktf-alb-target-group","mode":"managed","type":"aws_alb_target_group","name":"sample-cdktf-alb-target-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"deregistration_delay":300,"health_check":[{"enabled":true,"healthy_threshold":3,"interval":30,"path":"/","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"lambda_multi_value_headers_enabled":false,"name":"sample-cdktf-alb-target-group","name_prefix":null,"port":80,"protocol":"HTTP","proxy_protocol_v2":false,"slow_start":0,"tags":null,"target_type":"ip"},"after_unknown":{"arn":true,"arn_suffix":true,"health_check":[{"matcher":true}],"id":true,"load_balancing_algorithm_type":true,"stickiness":true,"vpc_id":true}}},{"address":"aws_cloudwatch_event_rule.sample-cdktf-event-rule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"sample-cdktf-event-rule","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Capture each AWS ECR Update","event_pattern":"{\"detail\":{\"action-type\":[\"PUSH\"],\"result\":[\"SUCCESS\"]},\"detail-type\":[\"ECR Image Action\"],\"source\":[\"aws.ecr\"]}","is_enabled":true,"name":"capture-ecr-update","name_prefix":null,"role_arn":null,"schedule_expression":null,"tags":null},"after_unknown":{"arn":true,"id":true}}},{"address":"aws_cloudwatch_event_target.sample-cdktf-event-target","mode":"managed","type":"aws_cloudwatch_event_target","name":"sample-cdktf-event-target","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"batch_target":[],"ecs_target":[],"input":null,"input_path":null,"input_transformer":[],"kinesis_target":[],"role_arn":null,"rule":"capture-ecr-update","run_command_targets":[],"sqs_target":[],"target_id":"SendToSNS"},"after_unknown":{"arn":true,"batch_target":[],"ecs_target":[],"id":true,"input_transformer":[],"kinesis_target":[],"run_command_targets":[],"sqs_target":[]}}},{"address":"aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-notification-to-slack-log-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"kms_key_id":null,"name":"/aws/lambda/Sample-Lambda-Notification-to-Slack","name_prefix":null,"retention_in_days":0,"tags":null},"after_unknown":{"arn":true,"id":true}}},{"address":"aws_ecr_repository.sample-cdktf-repository","mode":"managed","type":"aws_ecr_repository","name":"sample-cdktf-repository","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"image_scanning_configuration":[],"image_tag_mutability":"MUTABLE","name":"project/sample-cdktf","tags":null,"timeouts":null},"after_unknown":{"arn":true,"id":true,"image_scanning_configuration":[],"registry_id":true,"repository_url":true}}},{"address":"aws_ecs_cluster.sample-cdktf-cluster","mode":"managed","type":"aws_ecs_cluster","name":"sample-cdktf-cluster","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"capacity_providers":null,"default_capacity_provider_strategy":[],"name":"sample-cdktf-cluster","tags":null},"after_unknown":{"arn":true,"default_capacity_provider_strategy":[],"id":true,"setting":true}}},{"address":"aws_ecs_service.sample-cdktf-ecs-service","mode":"managed","type":"aws_ecs_service","name":"sample-cdktf-ecs-service","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"capacity_provider_strategy":[],"deployment_controller":[],"deployment_maximum_percent":200,"deployment_minimum_healthy_percent":100,"desired_count":1,"enable_ecs_managed_tags":false,"force_new_deployment":null,"health_check_grace_period_seconds":null,"launch_type":"FARGATE","load_balancer":[{"container_name":"sample-cdktf-container","container_port":9000,"elb_name":""}],"name":"sample-cdktf-ecs-service","network_configuration":[{"assign_public_ip":false}],"ordered_placement_strategy":[],"placement_constraints":[],"platform_version":"LATEST","propagate_tags":null,"scheduling_strategy":"REPLICA","service_registries":[],"tags":null,"timeouts":null},"after_unknown":{"capacity_provider_strategy":[],"cluster":true,"deployment_controller":[],"iam_role":true,"id":true,"load_balancer":[{"target_group_arn":true}],"network_configuration":[{"security_groups":true,"subnets":true}],"ordered_placement_strategy":[],"placement_constraints":[],"placement_strategy":true,"service_registries":[],"task_definition":true}}},{"address":"aws_ecs_task_definition.sample-cdktf-task","mode":"managed","type":"aws_ecs_task_definition","name":"sample-cdktf-task","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cpu":"512","family":"task-for-cdktf","inference_accelerator":[],"ipc_mode":null,"memory":"1024","network_mode":"awsvpc","pid_mode":null,"placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":["FARGATE"],"tags":null,"volume":[]},"after_unknown":{"arn":true,"container_definitions":true,"execution_role_arn":true,"id":true,"inference_accelerator":[],"placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":[false],"revision":true,"task_role_arn":true,"volume":[]}}},{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"associate_with_private_ip":null,"customer_owned_ipv4_pool":null,"tags":null,"timeouts":null,"vpc":true},"after_unknown":{"allocation_id":true,"association_id":true,"customer_owned_ip":true,"domain":true,"id":true,"instance":true,"network_interface":true,"private_dns":true,"private_ip":true,"public_dns":true,"public_ip":true,"public_ipv4_pool":true}}},{"address":"aws_iam_policy.ecs-task-execution-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Policy for updating ECS tasks","name":"ecs-task-execution-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"},"after_unknown":{"arn":true,"id":true}}},{"address":"aws_iam_policy.ecs-task-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Policy for updating ECS tasks","name":"ecs-task-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecs:DescribeServices\",\n              \"ecs:CreateTaskSet\",\n              \"ecs:UpdateServicePrimaryTaskSet\",\n              \"ecs:DeleteTaskSet\",\n              \"elasticloadbalancing:DescribeTargetGroups\",\n              \"elasticloadbalancing:DescribeListeners\",\n              \"elasticloadbalancing:ModifyListener\",\n              \"elasticloadbalancing:DescribeRules\",\n              \"elasticloadbalancing:ModifyRule\",\n              \"lambda:InvokeFunction\",\n              \"cloudwatch:DescribeAlarms\",
[2022-11-16T17:56:07.646] [DEBUG] default - \n              \"sns:Publish\",\n              \"s3:GetObject\",\n              \"s3:GetObjectVersion\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"},"after_unknown":{"arn":true,"id":true}}},{"address":"aws_iam_policy.lambda-logging","mode":"managed","type":"aws_iam_policy","name":"lambda-logging","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"IAM policy for logging from a lambda","name":"sample-cdktf-lambda-logging","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"iam:PassRole\",\n              \"ecs:RegisterTaskDefinition\",\n              \"ecs:UpdateService\",\n              \"logs:CreateLogGroup\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\",\n              \"arn:aws:logs:*:*:*\",\n              \"arn:aws:ecs:*:*:*\",\n              \"arn:aws:iam::445682127642:role/sample-cdktf-ecsTaskExecutionRole\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"},"after_unknown":{"arn":true,"id":true}}},{"address":"aws_iam_role.ecsTaskExecutionRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\":    \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"sample-cdktf-ecsTaskExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"unique_id":true}}},{"address":"aws_iam_role.ecsTaskRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskRole","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\n        \"Version\": \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n          },\n          \"Effect\": \"Allow\",\n          \"Sid\": \"\"\n          }\n        ]\n      }","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"sample-cdktf-ecsTaskRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"unique_id":true}}},{"address":"aws_iam_role.lambdaExecutionRole","mode":"managed","type":"aws_iam_role","name":"lambdaExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": [\n                \"lambda.amazonaws.com\",\n                \"ecs-tasks.amazonaws.com\"\n              ]\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"sample-cdktf-lambdaExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"unique_id":true}}},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-execution-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"sample-cdktf-ecsTaskExecutionRole"},"after_unknown":{"id":true,"policy_arn":true}}},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"sample-cdktf-ecsTaskRole"},"after_unknown":{"id":true,"policy_arn":true}}},{"address":"aws_iam_role_policy_attachment.attach-lambda-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-lambda-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"sample-cdktf-lambdaExecutionRole"},"after_unknown":{"id":true,"policy_arn":true}}},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"tags":{"Name":"igw-production sample-cdktf"}},"after_unknown":{"arn":true,"id":true,"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"aws_lambda_function.Sample-Lambda-Notification-to-Slack","mode":"managed","type":"aws_lambda_function","name":"Sample-Lambda-Notification-to-Slack","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"dead_letter_config":[],"description":null,"environment":[{"variables":{"SLACK_API_TOKEN":"xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp","SLACK_CHANNEL":"C049CPNKHMJ"}}],"file_system_config":[],"filename":null,"function_name":"Sample-Lambda-Notification-to-Slack","handler":"index.handler","kms_key_arn":null,"layers":null,"memory_size":128,"publish":false,"reserved_concurrent_executions":-1,"runtime":"nodejs12.x","s3_bucket":"sample-cdktf-s3","s3_key":"notification-to-Slack-dist.zip","s3_object_version":null,"tags":null,"timeout":30,"timeouts":null,"vpc_config":[]},"after_unknown":{"arn":true,"dead_letter_config":[],"environment":[{"variables":{}}],"file_system_config":[],"id":true,"invoke_arn":true,"last_modified":true,"qualified_arn":true,"role":true,"source_code_hash":true,"source_code_size":true,"tracing_config":true,"version":true,"vpc_config":[]}}},{"address":"aws_lambda_permission.permission-to-sns","mode":"managed","type":"aws_lambda_permission","name":"permission-to-sns","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"Sample-Lambda-Notification-to-Slack","principal":"sns.amazonaws.com","qualifier":null,"source_account":null,"statement_id":"AllowExecutionFromSNS","statement_id_prefix":null},"after_unknown":{"id":true,"source_arn":true}}},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"tags":{"Name":"sample-cdktf nat-gateway-production"}},"after_unknown":{"allocation_id":true,"id":true,"network_interface_id":true,"private_ip":true,"public_ip":true,"subnet_id":true,"tags":{}}}},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Private rtb"}},"after_unknown":{"id":true,"owner_id":true,"propagating_vgws":true,"route":[{"nat_gateway_id":true}],"tags":{},"vpc_id":true}}},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name
[2022-11-16T17:56:07.646] [DEBUG] default - ":"sample-cdktf-public-rtb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Public rtb"}},"after_unknown":{"id":true,"owner_id":true,"propagating_vgws":true,"route":[{"gateway_id":true}],"tags":{},"vpc_id":true}}},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true}}},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true}}},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true}}},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true}}},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true}}},{"address":"aws_s3_bucket.sample-cdktf-s3","mode":"managed","type":"aws_s3_bucket","name":"sample-cdktf-s3","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"acl":"private","bucket":"sample-cdktf-s3","bucket_prefix":null,"cors_rule":[],"force_destroy":false,"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":null,"region":"ap-northeast-1","replication_configuration":[],"server_side_encryption_configuration":[],"tags":null,"website":[]},"after_unknown":{"acceleration_status":true,"arn":true,"bucket_domain_name":true,"bucket_regional_domain_name":true,"cors_rule":[],"grant":[],"hosted_zone_id":true,"id":true,"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"request_payer":true,"server_side_encryption_configuration":[],"versioning":true,"website":[],"website_domain":true,"website_endpoint":true}}},{"address":"aws_s3_bucket_object.notification-to-Slack-distzip","mode":"managed","type":"aws_s3_bucket_object","name":"notification-to-Slack-distzip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"acl":"private","bucket":"sample-cdktf-s3","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"content_type":"zip","force_destroy":false,"key":"notification-to-Slack-dist.zip","kms_key_id":null,"metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip","tags":null,"website_redirect":null},"after_unknown":{"etag":true,"id":true,"server_side_encryption":true,"storage_class":true,"version_id":true}}},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Managed by Terraform","name":"sample-cdktf","name_prefix":null,"revoke_rules_on_delete":false,"tags":{"Name":"sample-cdktf"},"timeouts":null},"after_unknown":{"arn":true,"egress":true,"id":true,"ingress":true,"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","self":false,"to_port":0,"type":"egress"},"after_unknown":{"cidr_blocks":[false],"id":true,"security_group_id":true,"source_security_group_id":true}}},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":80,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","self":false,"to_port":80,"type":"ingress"},"after_unknown":{"cidr_blocks":[false],"id":true,"security_group_id":true,"source_security_group_id":true}}},{"address":"aws_sns_topic.sample-cdktf-sns","mode":"managed","type":"aws_sns_topic","name":"sample-cdktf-sns","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"delivery_policy":null,"display_name":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"kms_master_key_id":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"sample-cdktf-sns","name_prefix":null,"sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":null},"after_unknown":{"arn":true,"id":true,"policy":true}}},{"address":"aws_sns_topic_policy.sample-cdktf-sns-policy","mode":"managed","type":"aws_sns_topic_policy","name":"sample-cdktf-sns-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": {\n          \"Effect\": \"Allow\",\n          \"Sid\":    \"\",\n          \"Principal\": {\n            \"Service\": \"events.amazonaws.com\"\n          },\n          \"Action\": [\n            \"SNS:Publish\"\n          ],\n          \"Resource\": [\n            \"*\"\n          ]\n        }\n      }"},"after_unknown":{"arn":true,"id":true}}},{"address":"aws_sns_topic_subscription.sample-cdktf-sns-subscription","mode":"managed","type":"aws_sns_topic_subscription","name":"sample-cdktf-sns-subscription","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"confirmation_timeout_in_minutes":1,"delivery_policy":null,"endpoint_auto_confirms":false,"filter_policy":null,"protocol":"lambda","raw_message_delivery":false},"after_unknown":{"arn":true,"endpoint":true,"id":true,"topic_arn":true}}},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_
[2022-11-16T17:56:07.646] [DEBUG] default - zone":"ap-northeast-1a","cidr_block":"10.0.128.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Private1 AZ1a sample-cdktf"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","cidr_block":"10.0.144.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Private2 AZ1c sample-cdktf"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","cidr_block":"10.0.0.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Public1 AZ1a sample-cdktf"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","cidr_block":"10.0.16.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Public2 AZ1c sample-cdktf"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","tags":{"Name":"sample-cdktf production"}},"after_unknown":{"arn":true,"default_network_acl_id":true,"default_route_table_id":true,"default_security_group_id":true,"dhcp_options_id":true,"enable_classiclink":true,"enable_classiclink_dns_support":true,"id":true,"ipv6_association_id":true,"ipv6_cidr_block":true,"main_route_table_id":true,"owner_id":true,"tags":{}}}}],"configuration":{"provider_config":{"aws":{"name":"aws","version_constraint":"~\u003e 2.0","expressions":{"region":{"constant_value":"ap-northeast-1"}}}},"root_module":{"resources":[{"address":"aws_alb.sample-cdktf-alb","mode":"managed","type":"aws_alb","name":"sample-cdktf-alb","provider_config_key":"aws","expressions":{"enable_deletion_protection":{"constant_value":false},"enable_http2":{"constant_value":true},"internal":{"constant_value":false},"ip_address_type":{"constant_value":"ipv4"},"load_balancer_type":{"constant_value":"application"},"name":{"constant_value":"sample-cdktf-alb"},"security_groups":{"constant_value":["${aws_security_group.sample-cdktf-security-group.id}","${aws_vpc.sample-cdktf-vpc.default_security_group_id}"],"references":["aws_security_group.sample-cdktf-security-group","aws_vpc.sample-cdktf-vpc"]},"subnets":{"constant_value":["${aws_subnet.sample-cdktf-public-subnet1.id}","${aws_subnet.sample-cdktf-public-subnet2.id}"],"references":["aws_subnet.sample-cdktf-public-subnet1","aws_subnet.sample-cdktf-public-subnet2"]}},"schema_version":0},{"address":"aws_alb_listener.sample-cdktf-alb-listener","mode":"managed","type":"aws_alb_listener","name":"sample-cdktf-alb-listener","provider_config_key":"aws","expressions":{"default_action":[{"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]},"type":{"constant_value":"forward"}}],"load_balancer_arn":{"constant_value":"${aws_alb.sample-cdktf-alb.arn}","references":["aws_alb.sample-cdktf-alb"]},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"}},"schema_version":0},{"address":"aws_alb_listener_rule.sample-cdktf-alb-listener-rule","mode":"managed","type":"aws_alb_listener_rule","name":"sample-cdktf-alb-listener-rule","provider_config_key":"aws","expressions":{"action":[{"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]},"type":{"constant_value":"forward"}}],"condition":[{"field":{"constant_value":"path-pattern"},"values":{"constant_value":["*"]}}],"listener_arn":{"constant_value":"${aws_alb_listener.sample-cdktf-alb-listener.arn}","references":["aws_alb_listener.sample-cdktf-alb-listener"]},"priority":{"constant_value":100}},"schema_version":0},{"address":"aws_alb_target_group.sample-cdktf-alb-target-group","mode":"managed","type":"aws_alb_target_group","name":"sample-cdktf-alb-target-group","provider_config_key":"aws","expressions":{"health_check":[{"interval":{"constant_value":30},"path":{"constant_value":"/"},"port":{"constant_value":"traffic-port"},"protocol":{"constant_value":"HTTP"},"timeout":{"constant_value":5},"unhealthy_threshold":{"constant_value":2}}],"name":{"constant_value":"sample-cdktf-alb-target-group"},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"},"target_type":{"constant_value":"ip"},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_cloudwatch_event_rule.sample-cdktf-event-rule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"sample-cdktf-event-rule","provider_config_key":"aws","expressions":{"description":{"constant_value":"Capture each AWS ECR Update"},"event_pattern":{"constant_value":"{\n        \"source\": [\"aws.ecr\"],\n        \"detail-type\": [\"ECR Image Action\"],\n        \"detail\": {\n          \"action-type\": [\"PUSH\"],\n          \"result\": [\"SUCCESS\"]\n        }\n      }"},"name":{"constant_value":"capture-ecr-update"}},"schema_version":0},{"address":"aws_cloudwatch_event_target.sample-cdktf-event-target","mode":"managed","type":"aws_cloudwatch_event_target","name":"sample-cdktf-event-target","provider_config_key":"aws","expressions":{"arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"rule":{"constant_value":"${aws_cloudwatch_event_rule.sample-cdktf-event-rule.name}","references":["aws_cloudwatch_event_rule.sample-cdktf-event-rule"]},"target_id":{"constant_value":"SendToSNS"}},"schema_version":0},{"address":"aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-notification-to-slack-log-group","provider_config_key":"aws","expressions":{"name":{"constant_value":"/aws/lambda/${aws_lambda_function.Sample-Lambda-Notification-to-Slack.function_name}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]}},"schema_version":0},{"address":"aws_ecr_repository.sample-cdktf-repository","mode":"managed","type":"aws_ecr_repository","name":"sample-cdktf-repository","provider_config_key":"aws","expressions":{"name":{"constant_value":"project/sample-cdktf"}},"schema_version":0},{"address":"aws_ecs_cluster.sample-cdktf-cluster","mode":"managed","type":"aws_ecs_cluster","name":"sample-cdktf-cluster","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf-cluster"}},"schema_version":0},{"address":"aws_ecs_service.sample-cdktf-ecs-service","mode":"managed","type":"aws_ecs_service","name":"sample-cdktf-ecs-service","provider_config_key"
[2022-11-16T17:56:07.646] [DEBUG] default - :"aws","expressions":{"cluster":{"constant_value":"${aws_ecs_cluster.sample-cdktf-cluster.id}","references":["aws_ecs_cluster.sample-cdktf-cluster"]},"deployment_maximum_percent":{"constant_value":200},"deployment_minimum_healthy_percent":{"constant_value":100},"desired_count":{"constant_value":1},"launch_type":{"constant_value":"FARGATE"},"load_balancer":[{"container_name":{"constant_value":"sample-cdktf-container"},"container_port":{"constant_value":9000},"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]}}],"name":{"constant_value":"sample-cdktf-ecs-service"},"network_configuration":[{"security_groups":{"constant_value":["${aws_vpc.sample-cdktf-vpc.default_security_group_id}"],"references":["aws_vpc.sample-cdktf-vpc"]},"subnets":{"constant_value":["${aws_subnet.sample-cdktf-private-subnet1.id}"],"references":["aws_subnet.sample-cdktf-private-subnet1"]}}],"platform_version":{"constant_value":"LATEST"},"task_definition":{"constant_value":"${aws_ecs_task_definition.sample-cdktf-task.id}","references":["aws_ecs_task_definition.sample-cdktf-task"]}},"schema_version":0},{"address":"aws_ecs_task_definition.sample-cdktf-task","mode":"managed","type":"aws_ecs_task_definition","name":"sample-cdktf-task","provider_config_key":"aws","expressions":{"container_definitions":{"constant_value":"[\n      {\n        \"essential\":    true,\n        \"name\":         \"sample-cdktf-container\",\n        \"image\":        \"${aws_ecr_repository.sample-cdktf-repository.repository_url}:latest\",\n        \"portMappings\": [\n          {\n            \"hostPort\":      9000,\n            \"protocol\":      \"tcp\",\n            \"containerPort\": 9000\n          }\n        ],\n        \"logConfiguration\": {\n          \"logDriver\": \"awslogs\",\n          \"options\": {\n            \"awslogs-group\":         \"/aws/ecs/sample-cdktf-task\",\n            \"awslogs-stream-prefix\": \"ecs\",\n            \"awslogs-region\":        \"ap-northeast-1\"\n          }\n        }\n      }\n    ]","references":["aws_ecr_repository.sample-cdktf-repository"]},"cpu":{"constant_value":"512"},"execution_role_arn":{"constant_value":"${aws_iam_role.ecsTaskExecutionRole.arn}","references":["aws_iam_role.ecsTaskExecutionRole"]},"family":{"constant_value":"task-for-cdktf"},"memory":{"constant_value":"1024"},"network_mode":{"constant_value":"awsvpc"},"requires_compatibilities":{"constant_value":["FARGATE"]},"task_role_arn":{"constant_value":"${aws_iam_role.ecsTaskRole.arn}","references":["aws_iam_role.ecsTaskRole"]}},"schema_version":1},{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_config_key":"aws","expressions":{"vpc":{"constant_value":true}},"schema_version":0},{"address":"aws_iam_policy.ecs-task-execution-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-execution-policy","provider_config_key":"aws","expressions":{"description":{"constant_value":"Policy for updating ECS tasks"},"name":{"constant_value":"ecs-task-execution-policy"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_policy.ecs-task-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-policy","provider_config_key":"aws","expressions":{"description":{"constant_value":"Policy for updating ECS tasks"},"name":{"constant_value":"ecs-task-policy"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecs:DescribeServices\",\n              \"ecs:CreateTaskSet\",\n              \"ecs:UpdateServicePrimaryTaskSet\",\n              \"ecs:DeleteTaskSet\",\n              \"elasticloadbalancing:DescribeTargetGroups\",\n              \"elasticloadbalancing:DescribeListeners\",\n              \"elasticloadbalancing:ModifyListener\",\n              \"elasticloadbalancing:DescribeRules\",\n              \"elasticloadbalancing:ModifyRule\",\n              \"lambda:InvokeFunction\",\n              \"cloudwatch:DescribeAlarms\",\n              \"sns:Publish\",\n              \"s3:GetObject\",\n              \"s3:GetObjectVersion\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_policy.lambda-logging","mode":"managed","type":"aws_iam_policy","name":"lambda-logging","provider_config_key":"aws","expressions":{"description":{"constant_value":"IAM policy for logging from a lambda"},"name":{"constant_value":"sample-cdktf-lambda-logging"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"iam:PassRole\",\n              \"ecs:RegisterTaskDefinition\",\n              \"ecs:UpdateService\",\n              \"logs:CreateLogGroup\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\",\n              \"arn:aws:logs:*:*:*\",\n              \"arn:aws:ecs:*:*:*\",\n              \"arn:aws:iam::445682127642:role/sample-cdktf-ecsTaskExecutionRole\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_role.ecsTaskExecutionRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskExecutionRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\":    \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-ecsTaskExecutionRole"}},"schema_version":0},{"address":"aws_iam_role.ecsTaskRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\": \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n          },\n          \"Effect\": \"Allow\",\n          \"Sid\": \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-ecsTaskRole"}},"schema_version":0},{"address":"aws_iam_role.lambdaExecutionRole","mode":"managed","type":"aws_iam_role","name":"lambdaExecutionRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": [\n                \"lambda.amazonaws.com\",\n                \"ecs-tasks.amazonaws.com\"\n              ]\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-lambdaExecutionRole"}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-execution-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-execution-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.ecs-task-execution-policy.arn}","references":["aws_iam_policy.ecs-task-execution-policy"]},"role":{"constant_value":"${aws_iam_role.ecsTas
[2022-11-16T17:56:07.646] [DEBUG] default - kExecutionRole.name}","references":["aws_iam_role.ecsTaskExecutionRole"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.ecs-task-policy.arn}","references":["aws_iam_policy.ecs-task-policy"]},"role":{"constant_value":"${aws_iam_role.ecsTaskRole.name}","references":["aws_iam_role.ecsTaskRole"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-lambda-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-lambda-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.lambda-logging.arn}","references":["aws_iam_policy.lambda-logging"]},"role":{"constant_value":"${aws_iam_role.lambdaExecutionRole.name}","references":["aws_iam_role.lambdaExecutionRole"]}},"schema_version":0},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_config_key":"aws","expressions":{"tags":{"constant_value":{"Name":"igw-production sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_lambda_function.Sample-Lambda-Notification-to-Slack","mode":"managed","type":"aws_lambda_function","name":"Sample-Lambda-Notification-to-Slack","provider_config_key":"aws","expressions":{"environment":[{"variables":{"constant_value":{"SLACK_API_TOKEN":"xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp","SLACK_CHANNEL":"C049CPNKHMJ"}}}],"function_name":{"constant_value":"Sample-Lambda-Notification-to-Slack"},"handler":{"constant_value":"index.handler"},"role":{"constant_value":"${aws_iam_role.lambdaExecutionRole.arn}","references":["aws_iam_role.lambdaExecutionRole"]},"runtime":{"constant_value":"nodejs12.x"},"s3_bucket":{"constant_value":"${aws_s3_bucket.sample-cdktf-s3.bucket}","references":["aws_s3_bucket.sample-cdktf-s3"]},"s3_key":{"constant_value":"${aws_s3_bucket_object.notification-to-Slack-distzip.key}","references":["aws_s3_bucket_object.notification-to-Slack-distzip"]},"timeout":{"constant_value":30}},"schema_version":0},{"address":"aws_lambda_permission.permission-to-sns","mode":"managed","type":"aws_lambda_permission","name":"permission-to-sns","provider_config_key":"aws","expressions":{"action":{"constant_value":"lambda:InvokeFunction"},"function_name":{"constant_value":"${aws_lambda_function.Sample-Lambda-Notification-to-Slack.function_name}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]},"principal":{"constant_value":"sns.amazonaws.com"},"source_arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"statement_id":{"constant_value":"AllowExecutionFromSNS"}},"schema_version":0},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_config_key":"aws","expressions":{"allocation_id":{"constant_value":"${aws_eip.sample-cdktf-eip.id}","references":["aws_eip.sample-cdktf-eip"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]},"tags":{"constant_value":{"Name":"sample-cdktf nat-gateway-production"}}},"schema_version":0},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_config_key":"aws","expressions":{"route":{"constant_value":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"${aws_nat_gateway.sample-cdktf-nat-gateway.id}","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"references":["aws_nat_gateway.sample-cdktf-nat-gateway"]},"tags":{"constant_value":{"Name":"sample-cdktf Private rtb"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_config_key":"aws","expressions":{"route":{"constant_value":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"${aws_internet_gateway.sample-cdktf-igw-production.id}","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"references":["aws_internet_gateway.sample-cdktf-igw-production"]},"tags":{"constant_value":{"Name":"sample-cdktf Public rtb"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-private-rtb.id}","references":["aws_route_table.sample-cdktf-private-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-private-subnet1.id}","references":["aws_subnet.sample-cdktf-private-subnet1"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-private-rtb.id}","references":["aws_route_table.sample-cdktf-private-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-private-subnet2.id}","references":["aws_subnet.sample-cdktf-private-subnet2"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet2.id}","references":["aws_subnet.sample-cdktf-public-subnet2"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]}},"schema_version":0},{"address":"aws_s3_bucket.sample-cdktf-s3","mode":"managed","type":"aws_s3_bucket","name":"sample-cdktf-s3","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"sample-cdktf-s3"},"region":{"constant_value":"ap-northeast-1"}},"schema_version":0},{"address":"aws_s3_bucket_object.notification-to-Slack-distzip","mode":"managed","type":"aws_s3_bucket_object","name":"notification-to-Slack-distzip","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"${aws_s3_bucket.sample-cdktf-s3.bucket}","references":["aws_s3_bucket.sample-cdktf-s3"]},"content_type":{"constant_value":"zip"},"key":{"constant_value":"notification-to-Slack-dist.zip"},"source":{"constant_value"
[2022-11-16T17:56:07.646] [DEBUG] default - :"/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip"}},"schema_version":0},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf"},"tags":{"constant_value":{"Name":"sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":0},"protocol":{"constant_value":"all"},"security_group_id":{"constant_value":"${aws_security_group.sample-cdktf-security-group.id}","references":["aws_security_group.sample-cdktf-security-group"]},"to_port":{"constant_value":0},"type":{"constant_value":"egress"}},"schema_version":2},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":80},"protocol":{"constant_value":"tcp"},"security_group_id":{"constant_value":"${aws_security_group.sample-cdktf-security-group.id}","references":["aws_security_group.sample-cdktf-security-group"]},"to_port":{"constant_value":80},"type":{"constant_value":"ingress"}},"schema_version":2},{"address":"aws_sns_topic.sample-cdktf-sns","mode":"managed","type":"aws_sns_topic","name":"sample-cdktf-sns","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf-sns"}},"schema_version":0},{"address":"aws_sns_topic_policy.sample-cdktf-sns-policy","mode":"managed","type":"aws_sns_topic_policy","name":"sample-cdktf-sns-policy","provider_config_key":"aws","expressions":{"arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": {\n          \"Effect\": \"Allow\",\n          \"Sid\":    \"\",\n          \"Principal\": {\n            \"Service\": \"events.amazonaws.com\"\n          },\n          \"Action\": [\n            \"SNS:Publish\"\n          ],\n          \"Resource\": [\n            \"*\"\n          ]\n        }\n      }"}},"schema_version":0},{"address":"aws_sns_topic_subscription.sample-cdktf-sns-subscription","mode":"managed","type":"aws_sns_topic_subscription","name":"sample-cdktf-sns-subscription","provider_config_key":"aws","expressions":{"endpoint":{"constant_value":"${aws_lambda_function.Sample-Lambda-Notification-to-Slack.arn}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]},"protocol":{"constant_value":"lambda"},"topic_arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]}},"schema_version":0},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1a"},"cidr_block":{"constant_value":"10.0.128.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Private1 AZ1a sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1c"},"cidr_block":{"constant_value":"10.0.144.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Private2 AZ1c sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1a"},"cidr_block":{"constant_value":"10.0.0.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Public1 AZ1a sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1c"},"cidr_block":{"constant_value":"10.0.16.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Public2 AZ1c sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_config_key":"aws","expressions":{"cidr_block":{"constant_value":"10.0.0.0/16"},"enable_dns_hostnames":{"constant_value":true},"tags":{"constant_value":{"Name":"sample-cdktf production"}}},"schema_version":1}]}}}

[2022-11-16T17:58:32.245] [DEBUG] default - [0m[1maws_sns_topic.sample-cdktf-sns: Creating...[0m[0m

[2022-11-16T17:58:32.347] [DEBUG] default - [0m[1maws_iam_policy.lambda-logging: Creating...[0m[0m
[0m[1maws_iam_policy.ecs-task-policy: Creating...[0m[0m
[0m[1maws_iam_policy.ecs-task-execution-policy: Creating...[0m[0m
[0m[1maws_ecs_cluster.sample-cdktf-cluster: Creating...[0m[0m
[0m[1maws_eip.sample-cdktf-eip: Creating...[0m[0m
[0m[1maws_cloudwatch_event_rule.sample-cdktf-event-rule: Creating...[0m[0m
[0m[1maws_ecr_repository.sample-cdktf-repository: Creating...[0m[0m
[0m[1maws_vpc.sample-cdktf-vpc: Creating...[0m[0m
[0m[1maws_iam_role.ecsTaskRole: Creating...[0m[0m

[2022-11-16T17:58:32.838] [DEBUG] default - [0m[1maws_sns_topic.sample-cdktf-sns: Creation complete after 1s [id=arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns][0m[0m

[2022-11-16T17:58:32.889] [DEBUG] default - [0m[1maws_ecr_repository.sample-cdktf-repository: Creation complete after 1s [id=project/sample-cdktf][0m[0m
[0m[1maws_iam_role.lambdaExecutionRole: Creating...[0m[0m
[0m[1maws_s3_bucket.sample-cdktf-s3: Creating...[0m[0m

[2022-11-16T17:58:33.074] [DEBUG] default - [0m[1maws_eip.sample-cdktf-eip: Creation complete after 1s [id=eipalloc-0322dadf2116f7386][0m[0m
[0m[1maws_sns_topic_policy.sample-cdktf-sns-policy: Creating...[0m[0m

[2022-11-16T17:58:33.213] [DEBUG] default - [0m[1maws_cloudwatch_event_rule.sample-cdktf-event-rule: Creation complete after 1s [id=capture-ecr-update][0m[0m
[0m[1maws_iam_role.ecsTaskExecutionRole: Creating...[0m[0m

[2022-11-16T17:58:33.413] [DEBUG] default - [0m[1maws_sns_topic_policy.sample-cdktf-sns-policy: Creation complete after 0s [id=arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns][0m[0m
[0m[1maws_cloudwatch_event_target.sample-cdktf-event-target: Creating...[0m[0m

[2022-11-16T17:58:33.717] [DEBUG] default - [0m[1maws_cloudwatch_event_target.sample-cdktf-event-target: Creation complete after 1s [id=capture-ecr-update-SendToSNS][0m[0m

[2022-11-16T17:58:33.968] [DEBUG] default - [0m[1maws_iam_role.ecsTaskRole: Creation complete after 2s [id=sample-cdktf-ecsTaskRole][0m[0m

[2022-11-16T17:58:34.544] [DEBUG] default - [0m[1maws_iam_role.lambdaExecutionRole: Creation complete after 2s [id=sample-cdktf-lambdaExecutionRole][0m[0m

[2022-11-16T17:58:34.742] [DEBUG] default - [0m[1maws_iam_policy.lambda-logging: Creation complete after 3s [id=arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging][0m[0m

[2022-11-16T17:58:34.838] [DEBUG] default - [0m[1maws_iam_policy.ecs-task-policy: Creation complete after 3s [id=arn:aws:iam::574185952087:policy/ecs-task-policy][0m[0m
[0m[1maws_iam_role_policy_attachment.attach-lambda-policy: Creating...[0m[0m
[0m[1maws_iam_role_policy_attachment.attach-ecs-task-policy: Creating...[0m[0m
[0m[1maws_iam_role.ecsTaskExecutionRole: Creation complete after 2s [id=sample-cdktf-ecsTaskExecutionRole][0m[0m
[0m[1maws_iam_policy.ecs-task-execution-policy: Creation complete after 3s [id=arn:aws:iam::574185952087:policy/ecs-task-execution-policy][0m[0m
[0m[1maws_iam_role_policy_attachment.attach-ecs-task-execution-policy: Creating...[0m[0m
[0m[1maws_ecs_task_definition.sample-cdktf-task: Creating...[0m[0m

[2022-11-16T17:58:35.257] [DEBUG] default - [0m[1maws_ecs_task_definition.sample-cdktf-task: Creation complete after 0s [id=task-for-cdktf][0m[0m

[2022-11-16T17:58:35.521] [DEBUG] default - [0m[1maws_vpc.sample-cdktf-vpc: Creation complete after 4s [id=vpc-0b995ccea4b7bda44][0m[0m

[2022-11-16T17:58:35.599] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Creating...[0m[0m
[0m[1maws_security_group.sample-cdktf-security-group: Creating...[0m[0m
[0m[1maws_subnet.sample-cdktf-public-subnet2: Creating...[0m[0m
[0m[1maws_subnet.sample-cdktf-private-subnet1: Creating...[0m[0m
[0m[1maws_alb_target_group.sample-cdktf-alb-target-group: Creating...[0m[0m

[2022-11-16T17:58:36.484] [DEBUG] default - [0m[1maws_iam_role_policy_attachment.attach-ecs-task-policy: Creation complete after 1s [id=sample-cdktf-ecsTaskRole-20221116085835650400000001][0m[0m
[0m[1maws_iam_role_policy_attachment.attach-lambda-policy: Creation complete after 1s [id=sample-cdktf-lambdaExecutionRole-20221116085835671800000002][0m[0m

[2022-11-16T17:58:36.505] [DEBUG] default - [0m[1maws_iam_role_policy_attachment.attach-ecs-task-execution-policy: Creation complete after 2s [id=sample-cdktf-ecsTaskExecutionRole-20221116085835713100000003][0m[0m

[2022-11-16T17:58:36.528] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Creating...[0m[0m
[0m[1maws_subnet.sample-cdktf-private-subnet2: Creating...[0m[0m
[0m[1maws_s3_bucket.sample-cdktf-s3: Creation complete after 4s [id=sample-cdktf-s3][0m[0m

[2022-11-16T17:58:36.576] [DEBUG] default - [0m[1maws_s3_bucket_object.notification-to-Slack-distzip: Creating...[0m[0m

[2022-11-16T17:58:36.820] [DEBUG] default - [0m[1maws_alb_target_group.sample-cdktf-alb-target-group: Creation complete after 1s [id=arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/177a26e2ed8cf4be][0m[0m

[2022-11-16T17:58:37.244] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Creation complete after 1s [id=subnet-0c4cae7c7d2a33683][0m[0m

[2022-11-16T17:58:37.303] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-private-subnet1: Creation complete after 1s [id=subnet-08560d0e42e0655ec][0m[0m

[2022-11-16T17:58:37.324] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Creation complete after 1s [id=subnet-069952d8278e62665][0m[0m

[2022-11-16T17:58:37.346] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Creating...[0m[0m

[2022-11-16T17:58:37.787] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Creation complete after 1s [id=igw-08e0f61b3044f25a0][0m[0m

[2022-11-16T17:58:37.852] [DEBUG] default - [0m[1maws_route_table.sample-cdktf-public-rtb: Creating...[0m[0m

[2022-11-16T17:58:38.143] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-private-subnet2: Creation complete after 1s [id=subnet-095aee6780f3f0457][0m[0m

[2022-11-16T17:58:38.399] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Creation complete after 2s [id=sg-0652911eecdd095cf][0m[0m

[2022-11-16T17:58:38.456] [DEBUG] default - [0m[1maws_security_group_rule.sample-cdktf-security-ingress: Creating...[0m[0m
[0m[1maws_security_group_rule.sample-cdktf-security-egress: Creating...[0m[0m
[0m[1maws_alb.sample-cdktf-alb: Creating...[0m[0m

[2022-11-16T17:58:39.135] [DEBUG] default - [0m[1maws_route_table.sample-cdktf-public-rtb: Creation complete after 1s [id=rtb-07ee36f8343503250][0m[0m

[2022-11-16T17:58:39.182] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-public-rtb-association1: Creating...[0m[0m
[0m[1maws_route_table_association.sample-cdktf-public-rtb-association2: Creating...[0m[0m
[0m[1maws_route_table_association.sample-cdktf-public-rtb1: Creating...[0m[0m

[2022-11-16T17:58:39.433] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-public-rtb1: Creation complete after 0s [id=rtbassoc-03fbc8dd559842c2b][0m[0m

[2022-11-16T17:58:39.506] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-public-rtb-association1: Creation complete after 0s [id=rtbassoc-03fbc8dd559842c2b][0m[0m

[2022-11-16T17:58:39.590] [DEBUG] default - [0m[1maws_security_group_rule.sample-cdktf-security-ingress: Creation complete after 2s [id=sgrule-3765135][0m[0m

[2022-11-16T17:58:39.622] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-public-rtb-association2: Creation complete after 1s [id=rtbassoc-0ebc1fd46f0b3bea3][0m[0m

[2022-11-16T17:58:40.810] [DEBUG] default - [0m[1maws_security_group_rule.sample-cdktf-security-egress: Creation complete after 3s [id=sgrule-3869762422][0m[0m

[2022-11-16T17:58:42.245] [DEBUG] default - [0m[1maws_ecs_cluster.sample-cdktf-cluster: Still creating... [10s elapsed][0m[0m

[2022-11-16T17:58:42.524] [DEBUG] default - [0m[1maws_s3_bucket_object.notification-to-Slack-distzip: Creation complete after 6s [id=notification-to-Slack-dist.zip][0m[0m

[2022-11-16T17:58:42.572] [DEBUG] default - [0m[1maws_lambda_function.Sample-Lambda-Notification-to-Slack: Creating...[0m[0m

[2022-11-16T17:58:42.866] [DEBUG] default - [0m[1maws_ecs_cluster.sample-cdktf-cluster: Creation complete after 11s [id=arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster][0m[0m

[2022-11-16T17:58:42.916] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Creating...[0m[0m

[2022-11-16T17:58:47.348] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [10s elapsed][0m[0m

[2022-11-16T17:58:48.423] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [10s elapsed][0m[0m

[2022-11-16T17:58:52.549] [DEBUG] default - [0m[1maws_lambda_function.Sample-Lambda-Notification-to-Slack: Still creating... [10s elapsed][0m[0m

[2022-11-16T17:58:52.895] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still creating... [10s elapsed][0m[0m

[2022-11-16T17:58:53.674] [DEBUG] default - [0m[1maws_lambda_function.Sample-Lambda-Notification-to-Slack: Creation complete after 11s [id=Sample-Lambda-Notification-to-Slack][0m[0m

[2022-11-16T17:58:53.696] [DEBUG] default - [0m[1maws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group: Creating...[0m[0m
[0m[1maws_sns_topic_subscription.sample-cdktf-sns-subscription: Creating...[0m[0m

[2022-11-16T17:58:53.715] [DEBUG] default - [0m[1maws_lambda_permission.permission-to-sns: Creating...[0m[0m

[2022-11-16T17:58:54.039] [DEBUG] default - [0m[1maws_lambda_permission.permission-to-sns: Creation complete after 0s [id=AllowExecutionFromSNS][0m[0m

[2022-11-16T17:58:54.201] [DEBUG] default - [0m[1maws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group: Creation complete after 0s [id=/aws/lambda/Sample-Lambda-Notification-to-Slack][0m[0m

[2022-11-16T17:58:54.277] [DEBUG] default - [0m[1maws_sns_topic_subscription.sample-cdktf-sns-subscription: Creation complete after 0s [id=arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:c1073e0b-bbc4-48ef-afae-1830f8a43c45][0m[0m

[2022-11-16T17:58:57.335] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [20s elapsed][0m[0m

[2022-11-16T17:58:58.424] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [20s elapsed][0m[0m

[2022-11-16T17:59:02.896] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still creating... [20s elapsed][0m[0m

[2022-11-16T17:59:07.360] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [30s elapsed][0m[0m

[2022-11-16T17:59:08.451] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [30s elapsed][0m[0m

[2022-11-16T17:59:12.919] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still creating... [30s elapsed][0m[0m

[2022-11-16T17:59:17.359] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [40s elapsed][0m[0m

[2022-11-16T17:59:18.425] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [40s elapsed][0m[0m

[2022-11-16T17:59:22.911] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still creating... [40s elapsed][0m[0m

[2022-11-16T17:59:27.363] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [50s elapsed][0m[0m

[2022-11-16T17:59:28.427] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [50s elapsed][0m[0m

[2022-11-16T17:59:32.900] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still creating... [50s elapsed][0m[0m

[2022-11-16T17:59:37.339] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [1m0s elapsed][0m[0m

[2022-11-16T17:59:38.442] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [1m0s elapsed][0m[0m

[2022-11-16T17:59:42.900] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still creating... [1m0s elapsed][0m[0m

[2022-11-16T17:59:47.340] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [1m10s elapsed][0m[0m

[2022-11-16T17:59:48.450] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [1m10s elapsed][0m[0m

[2022-11-16T17:59:52.901] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still creating... [1m10s elapsed][0m[0m

[2022-11-16T17:59:57.347] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [1m20s elapsed][0m[0m

[2022-11-16T17:59:58.429] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [1m20s elapsed][0m[0m

[2022-11-16T18:00:02.925] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still creating... [1m20s elapsed][0m[0m

[2022-11-16T18:00:07.342] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [1m30s elapsed][0m[0m

[2022-11-16T18:00:08.443] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [1m30s elapsed][0m[0m

[2022-11-16T18:00:12.903] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still creating... [1m30s elapsed][0m[0m

[2022-11-16T18:00:13.374] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Creation complete after 1m36s [id=nat-02c9a487963779d7c][0m[0m

[2022-11-16T18:00:13.397] [DEBUG] default - [0m[1maws_route_table.sample-cdktf-private-rtb: Creating...[0m[0m

[2022-11-16T18:00:14.809] [DEBUG] default - [0m[1maws_route_table.sample-cdktf-private-rtb: Creation complete after 2s [id=rtb-0eb523858fea93625][0m[0m

[2022-11-16T18:00:14.857] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-private-rtb-association1: Creating...[0m[0m
[0m[1maws_route_table_association.sample-cdktf-private-rtb-association2: Creating...[0m[0m

[2022-11-16T18:00:15.184] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-private-rtb-association2: Creation complete after 0s [id=rtbassoc-094f7981449b06948][0m[0m

[2022-11-16T18:00:15.223] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-private-rtb-association1: Creation complete after 0s [id=rtbassoc-0a18b12b12b5c8d40][0m[0m

[2022-11-16T18:00:18.431] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [1m40s elapsed][0m[0m

[2022-11-16T18:00:22.904] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still creating... [1m40s elapsed][0m[0m

[2022-11-16T18:00:28.459] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [1m50s elapsed][0m[0m

[2022-11-16T18:00:32.905] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still creating... [1m50s elapsed][0m[0m

[2022-11-16T18:00:38.434] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [2m0s elapsed][0m[0m

[2022-11-16T18:00:48.435] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [2m10s elapsed][0m[0m

[2022-11-16T18:00:58.459] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [2m20s elapsed][0m[0m

[2022-11-16T18:01:08.438] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [2m30s elapsed][0m[0m

[2022-11-16T18:01:18.453] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [2m40s elapsed][0m[0m

[2022-11-16T18:01:28.441] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [2m50s elapsed][0m[0m

[2022-11-16T18:01:38.441] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [3m0s elapsed][0m[0m

[2022-11-16T18:01:48.449] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [3m10s elapsed][0m[0m

[2022-11-16T18:01:58.467] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [3m20s elapsed][0m[0m

[2022-11-16T18:02:03.276] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Creation complete after 3m25s [id=arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:loadbalancer/app/sample-cdktf-alb/0b74862eca21277c][0m[0m

[2022-11-16T18:02:03.324] [DEBUG] default - [0m[1maws_alb_listener.sample-cdktf-alb-listener: Creating...[0m[0m

[2022-11-16T18:02:03.649] [DEBUG] default - [0m[1maws_alb_listener.sample-cdktf-alb-listener: Creation complete after 1s [id=arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener/app/sample-cdktf-alb/0b74862eca21277c/252c4eb9ae2f7019][0m[0m

[2022-11-16T18:02:03.671] [DEBUG] default - [0m[1maws_alb_listener_rule.sample-cdktf-alb-listener-rule: Creating...[0m[0m

[2022-11-16T18:02:03.996] [DEBUG] default - [0m[1maws_alb_listener_rule.sample-cdktf-alb-listener-rule: Creation complete after 0s [id=arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener-rule/app/sample-cdktf-alb/0b74862eca21277c/252c4eb9ae2f7019/691ce12008bdcef2][0m[0m

[2022-11-16T18:02:04.047] [DEBUG] default - [31m
[1m[31mError: [0m[0m[1mInvalidParameterException: The target group with targetGroupArn arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/177a26e2ed8cf4be does not have an associated load balancer. "sample-cdktf-ecs-service"[0m

[0m  on cdk.tf.json line 1017, in resource.aws_ecs_service.sample-cdktf-ecs-service:
1017:       [4m}[0m
[0m
[0m[0m

[2022-11-16T18:18:55.531] [DEBUG] default - Terraform v0.14.8


[2022-11-16T18:18:55.547] [DEBUG] default - Your version of Terraform is out of date! The latest version
is 1.3.4. You can update by downloading from https://www.terraform.io/downloads.html

[2022-11-16T18:19:46.239] [DEBUG] default - 

[2022-11-16T18:19:46.242] [DEBUG] default - [0m[1mInitializing the backend...[0m

[2022-11-16T18:19:46.696] [DEBUG] default - 

[2022-11-16T18:19:46.696] [DEBUG] default - [0m[1mInitializing provider plugins...[0m
- Reusing previous version of hashicorp/aws from the dependency lock file

[2022-11-16T18:19:47.701] [DEBUG] default - - Using previously-installed hashicorp/aws v2.70.1

[2022-11-16T18:19:47.702] [DEBUG] default - 

[2022-11-16T18:19:47.702] [DEBUG] default - [0m[1m[32mTerraform has been successfully initialized![0m[32m[0m
[0m[32m
You may now begin working with Terraform. Try running "terraform plan" to see

[2022-11-16T18:19:47.704] [DEBUG] default - any changes that are required for your infrastructure. All Terraform commands
should now work.


[2022-11-16T18:19:47.744] [DEBUG] default - If you ever set or change modules or backend configuration for Terraform,
rerun this command to reinitialize your working directory. If you forget, other
commands will detect it and remind you to do so if necessary.[0m

[2022-11-16T18:19:52.870] [DEBUG] default - 

[2022-11-16T18:19:52.870] [DEBUG] default - An execution plan has been generated and is shown below.
Resource actions are indicated with the following symbols:
  [32m+[0m create
[0m
Terraform will perform the following actions:


[2022-11-16T18:19:52.871] [DEBUG] default - [1m  # aws_alb.sample-cdktf-alb[0m will be created[0m[0m

[2022-11-16T18:19:52.893] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_alb" "sample-cdktf-alb" {
      [32m+[0m [0m[1m[0marn[0m[0m                        = (known after apply)
      [32m+[0m [0m[1m[0marn_suffix[0m[0m                 = (known after apply)
      [32m+[0m [0m[1m[0mdns_name[0m[0m                   = (known after apply)
      [32m+[0m [0m[1m[0mdrop_invalid_header_fields[0m[0m = false
      [32m+[0m [0m[1m[0menable_deletion_protection[0m[0m = false
      [32m+[0m [0m[1m[0menable_http2[0m[0m               = true
      [32m+[0m [0m[1m[0mid[0m[0m                         = (known after apply)
      [32m+[0m [0m[1m[0midle_timeout[0m[0m               = 60
      [32m+[0m [0m[1m[0minternal[0m[0m                   = false
      [32m+[0m [0m[1m[0mip_address_type[0m[0m            = "ipv4"
      [32m+[0m [0m[1m[0mload_balancer_type[0m[0m         = "application"
      [32m+[0m [0m[1m[0mname[0m[0m                       = "sample-cdktf-alb"
      [32m+[0m [0m[1m[0msecurity_groups[0m[0m            = (known after apply)
      [32m+[0m [0m[1m[0msubnets[0m[0m                    = (known after apply)
      [32m+[0m [0m[1m[0mvpc_id[0m[0m                     = (known after apply)
      [32m+[0m [0m[1m[0mzone_id[0m[0m                    = (known after apply)

      [32m+[0m [0msubnet_mapping {
          [32m+[0m [0m[1m[0mallocation_id[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0msubnet_id[0m[0m     = (known after apply)
        }
    }

[1m  # aws_alb_listener.sample-cdktf-alb-listener[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_alb_listener" "sample-cdktf-alb-listener" {
      [32m+[0m [0m[1m[0marn[0m[0m               = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m                = (known after apply)
      [32m+[0m [0m[1m[0mload_balancer_arn[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mport[0m[0m              = 80
      [32m+[0m [0m[1m[0mprotocol[0m[0m          = "HTTP"
      [32m+[0m [0m[1m[0mssl_policy[0m[0m        = (known after apply)

      [32m+[0m [0mdefault_action {
          [32m+[0m [0m[1m[0morder[0m[0m            = (known after apply)
          [32m+[0m [0m[1m[0mtarget_group_arn[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0mtype[0m[0m             = "forward"
        }
    }

[1m  # aws_alb_listener_rule.sample-cdktf-alb-listener-rule[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_alb_listener_rule" "sample-cdktf-alb-listener-rule" {
      [32m+[0m [0m[1m[0marn[0m[0m          = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m           = (known after apply)
      [32m+[0m [0m[1m[0mlistener_arn[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mpriority[0m[0m     = 100

      [32m+[0m [0maction {
          [32m+[0m [0m[1m[0morder[0m[0m            = (known after apply)
          [32m+[0m [0m[1m[0mtarget_group_arn[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0mtype[0m[0m             = "forward"
        }

      [32m+[0m [0mcondition {
          [32m+[0m [0m[1m[0mfield[0m[0m  = "path-pattern"
          [32m+[0m [0m[1m[0mvalues[0m[0m = [
              [32m+[0m [0m"*",
            ]

          [32m+[0m [0mhost_header {
              [32m+[0m [0m[1m[0mvalues[0m[0m = (known after apply)
            }

          [32m+[0m [0mpath_pattern {
              [32m+[0m [0m[1m[0mvalues[0m[0m = (known after apply)
            }
        }
    }

[1m  # aws_alb_target_group.sample-cdktf-alb-target-group[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_alb_target_group" "sample-cdktf-alb-target-group" {
      [32m+[0m [0m[1m[0marn[0m[0m                                = (known after apply)
      [32m+[0m [0m[1m[0marn_suffix[0m[0m                         = (known after apply)
      [32m+[0m [0m[1m[0mderegistration_delay[0m[0m               = 300
      [32m+[0m [0m[1m[0mid[0m[0m                                 = (known after apply)
      [32m+[0m [0m[1m[0mlambda_multi_value_headers_enabled[0m[0m = false
      [32m+[0m [0m[1m[0mload_balancing_algorithm_type[0m[0m      = (known after apply)
      [32m+[0m [0m[1m[0mname[0m[0m                               = "sample-cdktf-alb-target-group"
      [32m+[0m [0m[1m[0mport[0m[0m                               = 80
      [32m+[0m [0m[1m[0mprotocol[0m[0m                           = "HTTP"
      [32m+[0m [0m[1m[0mproxy_protocol_v2[0m[0m                  = false
      [32m+[0m [0m[1m[0mslow_start[0m[0m                         = 0
      [32m+[0m [0m[1m[0mtarget_type[0m[0m                        = "ip"
      [32m+[0m [0m[1m[0mvpc_id[0m[0m                             = (known after apply)

      [32m+[0m [0mhealth_check {
          [32m+[0m [0m[1m[0menabled[0m[0m             = true
          [32m+[0m [0m[1m[0mhealthy_threshold[0m[0m   = 3
          [32m+[0m [0m[1m[0minterval[0m[0m            = 30
          [32m+[0m [0m[1m[0mmatcher[0m[0m             = (known after apply)
          [32m+[0m [0m[1m[0mpath[0m[0m                = "/"
          [32m+[0m [0m[1m[0mport[0m[0m                = "traffic-port"
          [32m+[0m [0m[1m[0mprotocol[0m[0m            = "HTTP"
          [32m+[0m [0m[1m[0mtimeout[0m[0m             = 5
          [32m+[0m [0m[1m[0munhealthy_threshold[0m[0m = 2
        }

      [32m+[0m [0mstickiness {
          [32m+[0m [0m[1m[0mcookie_duration[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0menabled[0m[0m         = (known after apply)
          [32m+[0m [0m[1m[0mtype[0m[0m            = (known after apply)
        }
    }

[1m  # aws_cloudwatch_event_rule.sample-cdktf-event-rule[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_cloudwatch_event_rule" "sample-cdktf-event-rule" {
      [32m+[0m [0m[1m[0marn[0m[0m           = (known after apply)
      [32m+[0m [0m[1m[0mdescription[0m[0m   = "Capture each AWS ECR Update"
      [32m+[0m [0m[1m[0mevent_pattern[0m[0m = jsonencode(
            {
              [32m+[0m [0mdetail      = {
                  [32m+[0m [0maction-type = [
                      [32m+[0m [0m"PUSH",
                    ]
                  [32m+[0m [0mresult      = [
                      [32m+[0m [0m"SUCCESS",
                    ]
                }
              [32m+[0m [0mdetail-type = [
                  [32m+[0m [0m"ECR Image Action",
                ]
              [32m+[0m [0msource      = [
                  [32m+[0m [0m"aws.ecr",
                ]
            }
        )
      [32m+[0m [0m[1m[0mid[0m[0m            = (known after apply)
      [32m+[0m [0m[1m[0mis_enabled[0m[0m    = true
      [32m+[0m [0m[1m[0mname[0m[0m          = "capture-ecr-update"
    }

[1m  # aws_cloudwatch_event_target.sample-cdktf-event-target[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_cloudwatch_event_target" "sample-cdktf-event-target" {
      [32m+[0m [0m[1m[0marn[0m[0m       = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m        = (known after apply)
      [32m+[0m [0m[1m[0mrule[0m[0m      = "capture-ecr-update"
      [32m+[0m [0m[1m[0mtarget_id[0m[0m = "SendToSNS"
    }

[1m  # aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_cloudwatch_log_group" "sample-cdktf-notification-to-slack-log-group" {
      [32m+[0m [0m[1m[0marn[0m[0m               = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m                = (known after apply)
      [32m+[0m [0m[1m[0mname[0m[0m              = "/aws/lambda/Sample-Lambda-Notification-to-Slack"
      [32m+[0m [0m[1m[0mretention_in_days[0m[0m = 0
    }

[1m  # aws_ecr_repository.sample-cdktf-repository[0m will be created[0m[0m

[2022-11-16T18:19:52.893] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_ecr_repository" "sample-cdktf-repository" {
      [32m+[0m [0m[1m[0marn[0m[0m                  = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m                   = (known after apply)
      [32m+[0m [0m[1m[0mimage_tag_mutability[0m[0m = "MUTABLE"

[2022-11-16T18:19:52.894] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m                 = "project/sample-cdktf"
      [32m+[0m [0m[1m[0mregistry_id[0m[0m          = (known after apply)
      [32m+[0m [0m[1m[0mrepository_url[0m[0m       = (known after apply)
    }

[1m  # aws_ecs_cluster.sample-cdktf-cluster[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_ecs_cluster" "sample-cdktf-cluster" {
      [32m+[0m [0m[1m[0marn[0m[0m  = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m   = (known after apply)
      [32m+[0m [0m[1m[0mname[0m[0m = "sample-cdktf-cluster"

      [32m+[0m [0msetting {
          [32m+[0m [0m[1m[0mname[0m[0m  = (known after apply)

[2022-11-16T18:19:52.894] [DEBUG] default -           [32m+[0m [0m[1m[0mvalue[0m[0m = (known after apply)
        }
    }

[1m  # aws_ecs_service.sample-cdktf-ecs-service[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_ecs_service" "sample-cdktf-ecs-service" {
      [32m+[0m [0m[1m[0mcluster[0m[0m                            = (known after apply)

[2022-11-16T18:19:52.895] [DEBUG] default -       [32m+[0m [0m[1m[0mdeployment_maximum_percent[0m[0m         = 200
      [32m+[0m [0m[1m[0mdeployment_minimum_healthy_percent[0m[0m = 100
      [32m+[0m [0m[1m[0mdesired_count[0m[0m                      = 1

[2022-11-16T18:19:52.895] [DEBUG] default -       [32m+[0m [0m[1m[0menable_ecs_managed_tags[0m[0m            = false

[2022-11-16T18:19:52.895] [DEBUG] default -       [32m+[0m [0m[1m[0miam_role[0m[0m                           = (known after apply)

[2022-11-16T18:19:52.895] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                                 = (known after apply)
      [32m+[0m [0m[1m[0mlaunch_type[0m[0m                        = "FARGATE"
      [32m+[0m [0m[1m[0mname[0m[0m                               = "sample-cdktf-ecs-service"
      [32m+[0m [0m[1m[0mplatform_version[0m[0m                   = "LATEST"

[2022-11-16T18:19:52.895] [DEBUG] default -       [32m+[0m [0m[1m[0mscheduling_strategy[0m[0m                = "REPLICA"

[2022-11-16T18:19:52.895] [DEBUG] default -       [32m+[0m [0m[1m[0mtask_definition[0m[0m                    = (known after apply)

      [32m+[0m [0mload_balancer {

[2022-11-16T18:19:52.895] [DEBUG] default -           [32m+[0m [0m[1m[0mcontainer_name[0m[0m   = "sample-cdktf-container"

[2022-11-16T18:19:52.895] [DEBUG] default -           [32m+[0m [0m[1m[0mcontainer_port[0m[0m   = 9000

[2022-11-16T18:19:52.896] [DEBUG] default -           [32m+[0m [0m[1m[0mtarget_group_arn[0m[0m = (known after apply)
        }

      [32m+[0m [0mnetwork_configuration {
          [32m+[0m [0m[1m[0massign_public_ip[0m[0m = false
          [32m+[0m [0m[1m[0msecurity_groups[0m[0m  = (known after apply)
          [32m+[0m [0m[1m[0msubnets[0m[0m          = (known after apply)
        }

      [32m+[0m [0mplacement_strategy {

[2022-11-16T18:19:52.896] [DEBUG] default -           [32m+[0m [0m[1m[0mfield[0m[0m = (known after apply)

[2022-11-16T18:19:52.896] [DEBUG] default -           [32m+[0m [0m[1m[0mtype[0m[0m  = (known after apply)
        }
    }


[2022-11-16T18:19:52.896] [DEBUG] default - [1m  # aws_ecs_task_definition.sample-cdktf-task[0m will be created[0m[0m

[2022-11-16T18:19:52.896] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_ecs_task_definition" "sample-cdktf-task" {
      [32m+[0m [0m[1m[0marn[0m[0m                      = (known after apply)

[2022-11-16T18:19:52.896] [DEBUG] default -       [32m+[0m [0m[1m[0mcontainer_definitions[0m[0m    = (known after apply)

[2022-11-16T18:19:52.896] [DEBUG] default -       [32m+[0m [0m[1m[0mcpu[0m[0m                      = "512"

[2022-11-16T18:19:52.896] [DEBUG] default -       [32m+[0m [0m[1m[0mexecution_role_arn[0m[0m       = (known after apply)

[2022-11-16T18:19:52.897] [DEBUG] default -       [32m+[0m [0m[1m[0mfamily[0m[0m                   = "task-for-cdktf"
      [32m+[0m [0m[1m[0mid[0m[0m                       = (known after apply)
      [32m+[0m [0m[1m[0mmemory[0m[0m                   = "1024"
      [32m+[0m [0m[1m[0mnetwork_mode[0m[0m             = "awsvpc"
      [32m+[0m [0m[1m[0mrequires_compatibilities[0m[0m = [

[2022-11-16T18:19:52.897] [DEBUG] default -           [32m+[0m [0m"FARGATE",
        ]

[2022-11-16T18:19:52.897] [DEBUG] default -       [32m+[0m [0m[1m[0mrevision[0m[0m                 = (known after apply)

[2022-11-16T18:19:52.897] [DEBUG] default -       [32m+[0m [0m[1m[0mtask_role_arn[0m[0m            = (known after apply)
    }


[2022-11-16T18:19:52.897] [DEBUG] default - [1m  # aws_eip.sample-cdktf-eip[0m will be created[0m[0m

[2022-11-16T18:19:52.897] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_eip" "sample-cdktf-eip" {

[2022-11-16T18:19:52.897] [DEBUG] default -       [32m+[0m [0m[1m[0mallocation_id[0m[0m     = (known after apply)

[2022-11-16T18:19:52.897] [DEBUG] default -       [32m+[0m [0m[1m[0massociation_id[0m[0m    = (known after apply)

[2022-11-16T18:19:52.897] [DEBUG] default -       [32m+[0m [0m[1m[0mcustomer_owned_ip[0m[0m = (known after apply)

[2022-11-16T18:19:52.897] [DEBUG] default -       [32m+[0m [0m[1m[0mdomain[0m[0m            = (known after apply)

[2022-11-16T18:19:52.897] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                = (known after apply)

[2022-11-16T18:19:52.898] [DEBUG] default -       [32m+[0m [0m[1m[0minstance[0m[0m          = (known after apply)

[2022-11-16T18:19:52.898] [DEBUG] default -       [32m+[0m [0m[1m[0mnetwork_interface[0m[0m = (known after apply)

[2022-11-16T18:19:52.898] [DEBUG] default -       [32m+[0m [0m[1m[0mprivate_dns[0m[0m       = (known after apply)
      [32m+[0m [0m[1m[0mprivate_ip[0m[0m        = (known after apply)

[2022-11-16T18:19:52.898] [DEBUG] default -       [32m+[0m [0m[1m[0mpublic_dns[0m[0m        = (known after apply)

[2022-11-16T18:19:52.898] [DEBUG] default -       [32m+[0m [0m[1m[0mpublic_ip[0m[0m         = (known after apply)
      [32m+[0m [0m[1m[0mpublic_ipv4_pool[0m[0m  = (known after apply)

[2022-11-16T18:19:52.898] [DEBUG] default -       [32m+[0m [0m[1m[0mvpc[0m[0m               = true
    }

[1m  # aws_iam_policy.ecs-task-execution-policy[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_iam_policy" "ecs-task-execution-policy" {

[2022-11-16T18:19:52.898] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m         = (known after apply)
      [32m+[0m [0m[1m[0mdescription[0m[0m = "Policy for updating ECS tasks"

[2022-11-16T18:19:52.899] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m          = (known after apply)

[2022-11-16T18:19:52.899] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m        = "ecs-task-execution-policy"
      [32m+[0m [0m[1m[0mpath[0m[0m        = "/"

[2022-11-16T18:19:52.899] [DEBUG] default -       [32m+[0m [0m[1m[0mpolicy[0m[0m      = jsonencode(
            {

[2022-11-16T18:19:52.899] [DEBUG] default -               [32m+[0m [0mStatement = [
                  [32m+[0m [0m{

[2022-11-16T18:19:52.899] [DEBUG] default -                       [32m+[0m [0mAction   = [
                          [32m+[0m [0m"ecr:GetAuthorizationToken",
                          [32m+[0m [0m"ecr:BatchCheckLayerAvailability",
                          [32m+[0m [0m"ecr:GetDownloadUrlForLayer",
                          [32m+[0m [0m"ecr:BatchGetImage",
                          [32m+[0m [0m"logs:CreateLogStream",
                          [32m+[0m [0m"logs:PutLogEvents",
                        ]

[2022-11-16T18:19:52.899] [DEBUG] default -                       [32m+[0m [0mEffect   = "Allow"
                      [32m+[0m [0mResource = [

[2022-11-16T18:19:52.899] [DEBUG] default -                           [32m+[0m [0m"*",
                        ]
                    },

[2022-11-16T18:19:52.899] [DEBUG] default -                 ]

[2022-11-16T18:19:52.899] [DEBUG] default -               [32m+[0m [0mVersion   = "2012-10-17"
            }
        )
    }


[2022-11-16T18:19:52.899] [DEBUG] default - [1m  # aws_iam_policy.ecs-task-policy[0m will be created[0m[0m

[2022-11-16T18:19:52.900] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_iam_policy" "ecs-task-policy" {

[2022-11-16T18:19:52.900] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m         = (known after apply)
      [32m+[0m [0m[1m[0mdescription[0m[0m = "Policy for updating ECS tasks"
      [32m+[0m [0m[1m[0mid[0m[0m          = (known after apply)
      [32m+[0m [0m[1m[0mname[0m[0m        = "ecs-task-policy"

[2022-11-16T18:19:52.900] [DEBUG] default -       [32m+[0m [0m[1m[0mpath[0m[0m        = "/"

[2022-11-16T18:19:52.900] [DEBUG] default -       [32m+[0m [0m[1m[0mpolicy[0m[0m      = jsonencode(
            {
              [32m+[0m [0mStatement = [
                  [32m+[0m [0m{

[2022-11-16T18:19:52.900] [DEBUG] default -                       [32m+[0m [0mAction   = [

[2022-11-16T18:19:52.900] [DEBUG] default -                           [32m+[0m [0m"ecs:DescribeServices",

[2022-11-16T18:19:52.900] [DEBUG] default -                           [32m+[0m [0m"ecs:CreateTaskSet",

[2022-11-16T18:19:52.900] [DEBUG] default -                           [32m+[0m [0m"ecs:UpdateServicePrimaryTaskSet",

[2022-11-16T18:19:52.900] [DEBUG] default -                           [32m+[0m [0m"ecs:DeleteTaskSet",

[2022-11-16T18:19:52.900] [DEBUG] default -                           [32m+[0m [0m"elasticloadbalancing:DescribeTargetGroups",

[2022-11-16T18:19:52.900] [DEBUG] default -                           [32m+[0m [0m"elasticloadbalancing:DescribeListeners",

[2022-11-16T18:19:52.901] [DEBUG] default -                           [32m+[0m [0m"elasticloadbalancing:ModifyListener",

[2022-11-16T18:19:52.901] [DEBUG] default -                           [32m+[0m [0m"elasticloadbalancing:DescribeRules",
                          [32m+[0m [0m"elasticloadbalancing:ModifyRule",
                          [32m+[0m [0m"lambda:InvokeFunction",
                          [32m+[0m [0m"cloudwatch:DescribeAlarms",

[2022-11-16T18:19:52.901] [DEBUG] default -                           [32m+[0m [0m"sns:Publish",
                          [32m+[0m [0m"s3:GetObject",

[2022-11-16T18:19:52.901] [DEBUG] default -                           [32m+[0m [0m"s3:GetObjectVersion",
                        ]

[2022-11-16T18:19:52.901] [DEBUG] default -                       [32m+[0m [0mEffect   = "Allow"

[2022-11-16T18:19:52.901] [DEBUG] default -                       [32m+[0m [0mResource = [

[2022-11-16T18:19:52.901] [DEBUG] default -                           [32m+[0m [0m"*",
                        ]

[2022-11-16T18:19:52.901] [DEBUG] default -                     },
                ]

[2022-11-16T18:19:52.901] [DEBUG] default -               [32m+[0m [0mVersion   = "2012-10-17"
            }
        )
    }


[2022-11-16T18:19:52.901] [DEBUG] default - [1m  # aws_iam_policy.lambda-logging[0m will be created[0m[0m

[2022-11-16T18:19:52.901] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_iam_policy" "lambda-logging" {

[2022-11-16T18:19:52.901] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m         = (known after apply)

[2022-11-16T18:19:52.902] [DEBUG] default -       [32m+[0m [0m[1m[0mdescription[0m[0m = "IAM policy for logging from a lambda"

[2022-11-16T18:19:52.902] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m          = (known after apply)

[2022-11-16T18:19:52.902] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m        = "sample-cdktf-lambda-logging"

[2022-11-16T18:19:52.902] [DEBUG] default -       [32m+[0m [0m[1m[0mpath[0m[0m        = "/"

[2022-11-16T18:19:52.902] [DEBUG] default -       [32m+[0m [0m[1m[0mpolicy[0m[0m      = jsonencode(

[2022-11-16T18:19:52.902] [DEBUG] default -             {
              [32m+[0m [0mStatement = [
                  [32m+[0m [0m{

[2022-11-16T18:19:52.902] [DEBUG] default -                       [32m+[0m [0mAction   = [

[2022-11-16T18:19:52.902] [DEBUG] default -                           [32m+[0m [0m"iam:PassRole",

[2022-11-16T18:19:52.902] [DEBUG] default -                           [32m+[0m [0m"ecs:RegisterTaskDefinition",

[2022-11-16T18:19:52.902] [DEBUG] default -                           [32m+[0m [0m"ecs:UpdateService",

[2022-11-16T18:19:52.902] [DEBUG] default -                           [32m+[0m [0m"logs:CreateLogGroup",

[2022-11-16T18:19:52.902] [DEBUG] default -                           [32m+[0m [0m"logs:CreateLogStream",

[2022-11-16T18:19:52.902] [DEBUG] default -                           [32m+[0m [0m"logs:PutLogEvents",

[2022-11-16T18:19:52.902] [DEBUG] default -                         ]

[2022-11-16T18:19:52.903] [DEBUG] default -                       [32m+[0m [0mEffect   = "Allow"
                      [32m+[0m [0mResource = [

[2022-11-16T18:19:52.903] [DEBUG] default -                           [32m+[0m [0m"*",

[2022-11-16T18:19:52.903] [DEBUG] default -                           [32m+[0m [0m"arn:aws:logs:*:*:*",

[2022-11-16T18:19:52.903] [DEBUG] default -                           [32m+[0m [0m"arn:aws:ecs:*:*:*",

[2022-11-16T18:19:52.903] [DEBUG] default -                           [32m+[0m [0m"arn:aws:iam::445682127642:role/sample-cdktf-ecsTaskExecutionRole",

[2022-11-16T18:19:52.903] [DEBUG] default -                         ]
                    },

[2022-11-16T18:19:52.903] [DEBUG] default -                 ]
              [32m+[0m [0mVersion   = "2012-10-17"

[2022-11-16T18:19:52.903] [DEBUG] default -             }
        )
    }


[2022-11-16T18:19:52.903] [DEBUG] default - [1m  # aws_iam_role.ecsTaskExecutionRole[0m will be created[0m[0m

[2022-11-16T18:19:52.903] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_iam_role" "ecsTaskExecutionRole" {

[2022-11-16T18:19:52.903] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                   = (known after apply)

[2022-11-16T18:19:52.903] [DEBUG] default -       [32m+[0m [0m[1m[0massume_role_policy[0m[0m    = jsonencode(
            {

[2022-11-16T18:19:52.903] [DEBUG] default -               [32m+[0m [0mStatement = [
                  [32m+[0m [0m{

[2022-11-16T18:19:52.903] [DEBUG] default -                       [32m+[0m [0mAction    = "sts:AssumeRole"

[2022-11-16T18:19:52.903] [DEBUG] default -                       [32m+[0m [0mEffect    = "Allow"

[2022-11-16T18:19:52.904] [DEBUG] default -                       [32m+[0m [0mPrincipal = {

[2022-11-16T18:19:52.904] [DEBUG] default -                           [32m+[0m [0mService = "ecs-tasks.amazonaws.com"
                        }

[2022-11-16T18:19:52.904] [DEBUG] default -                       [32m+[0m [0mSid       = ""

[2022-11-16T18:19:52.904] [DEBUG] default -                     },
                ]

[2022-11-16T18:19:52.904] [DEBUG] default -               [32m+[0m [0mVersion   = "2012-10-17"
            }
        )

[2022-11-16T18:19:52.904] [DEBUG] default -       [32m+[0m [0m[1m[0mcreate_date[0m[0m           = (known after apply)

[2022-11-16T18:19:52.904] [DEBUG] default -       [32m+[0m [0m[1m[0mforce_detach_policies[0m[0m = false

[2022-11-16T18:19:52.904] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                    = (known after apply)

[2022-11-16T18:19:52.904] [DEBUG] default -       [32m+[0m [0m[1m[0mmax_session_duration[0m[0m  = 3600

[2022-11-16T18:19:52.904] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m                  = "sample-cdktf-ecsTaskExecutionRole"

[2022-11-16T18:19:52.904] [DEBUG] default -       [32m+[0m [0m[1m[0mpath[0m[0m                  = "/"

[2022-11-16T18:19:52.904] [DEBUG] default -       [32m+[0m [0m[1m[0munique_id[0m[0m             = (known after apply)

[2022-11-16T18:19:52.904] [DEBUG] default -     }


[2022-11-16T18:19:52.904] [DEBUG] default - [1m  # aws_iam_role.ecsTaskRole[0m will be created[0m[0m

[2022-11-16T18:19:52.904] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_iam_role" "ecsTaskRole" {

[2022-11-16T18:19:52.905] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                   = (known after apply)

[2022-11-16T18:19:52.905] [DEBUG] default -       [32m+[0m [0m[1m[0massume_role_policy[0m[0m    = jsonencode(
            {

[2022-11-16T18:19:52.905] [DEBUG] default -               [32m+[0m [0mStatement = [
                  [32m+[0m [0m{

[2022-11-16T18:19:52.905] [DEBUG] default -                       [32m+[0m [0mAction    = "sts:AssumeRole"

[2022-11-16T18:19:52.905] [DEBUG] default -                       [32m+[0m [0mEffect    = "Allow"

[2022-11-16T18:19:52.905] [DEBUG] default -                       [32m+[0m [0mPrincipal = {

[2022-11-16T18:19:52.905] [DEBUG] default -                           [32m+[0m [0mService = "ecs-tasks.amazonaws.com"

[2022-11-16T18:19:52.905] [DEBUG] default -                         }

[2022-11-16T18:19:52.905] [DEBUG] default -                       [32m+[0m [0mSid       = ""

[2022-11-16T18:19:52.905] [DEBUG] default -                     },
                ]

[2022-11-16T18:19:52.905] [DEBUG] default -               [32m+[0m [0mVersion   = "2012-10-17"
            }

[2022-11-16T18:19:52.905] [DEBUG] default -         )

[2022-11-16T18:19:52.905] [DEBUG] default -       [32m+[0m [0m[1m[0mcreate_date[0m[0m           = (known after apply)

[2022-11-16T18:19:52.905] [DEBUG] default -       [32m+[0m [0m[1m[0mforce_detach_policies[0m[0m = false

[2022-11-16T18:19:52.906] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                    = (known after apply)
      [32m+[0m [0m[1m[0mmax_session_duration[0m[0m  = 3600
      [32m+[0m [0m[1m[0mname[0m[0m                  = "sample-cdktf-ecsTaskRole"
      [32m+[0m [0m[1m[0mpath[0m[0m                  = "/"
      [32m+[0m [0m[1m[0munique_id[0m[0m             = (known after apply)
    }


[2022-11-16T18:19:52.906] [DEBUG] default - [1m  # aws_iam_role.lambdaExecutionRole[0m will be created[0m[0m

[2022-11-16T18:19:52.906] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_iam_role" "lambdaExecutionRole" {

[2022-11-16T18:19:52.906] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                   = (known after apply)

[2022-11-16T18:19:52.906] [DEBUG] default -       [32m+[0m [0m[1m[0massume_role_policy[0m[0m    = jsonencode(
            {

[2022-11-16T18:19:52.906] [DEBUG] default -               [32m+[0m [0mStatement = [

[2022-11-16T18:19:52.906] [DEBUG] default -                   [32m+[0m [0m{

[2022-11-16T18:19:52.906] [DEBUG] default -                       [32m+[0m [0mAction    = "sts:AssumeRole"

[2022-11-16T18:19:52.906] [DEBUG] default -                       [32m+[0m [0mEffect    = "Allow"
                      [32m+[0m [0mPrincipal = {

[2022-11-16T18:19:52.906] [DEBUG] default -                           [32m+[0m [0mService = [

[2022-11-16T18:19:52.906] [DEBUG] default -                               [32m+[0m [0m"lambda.amazonaws.com",

[2022-11-16T18:19:52.906] [DEBUG] default -                               [32m+[0m [0m"ecs-tasks.amazonaws.com",

[2022-11-16T18:19:52.906] [DEBUG] default -                             ]
                        }

[2022-11-16T18:19:52.906] [DEBUG] default -                       [32m+[0m [0mSid       = ""

[2022-11-16T18:19:52.907] [DEBUG] default -                     },
                ]
              [32m+[0m [0mVersion   = "2012-10-17"

[2022-11-16T18:19:52.907] [DEBUG] default -             }
        )

[2022-11-16T18:19:52.907] [DEBUG] default -       [32m+[0m [0m[1m[0mcreate_date[0m[0m           = (known after apply)

[2022-11-16T18:19:52.907] [DEBUG] default -       [32m+[0m [0m[1m[0mforce_detach_policies[0m[0m = false

[2022-11-16T18:19:52.907] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                    = (known after apply)

[2022-11-16T18:19:52.907] [DEBUG] default -       [32m+[0m [0m[1m[0mmax_session_duration[0m[0m  = 3600

[2022-11-16T18:19:52.907] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m                  = "sample-cdktf-lambdaExecutionRole"

[2022-11-16T18:19:52.907] [DEBUG] default -       [32m+[0m [0m[1m[0mpath[0m[0m                  = "/"

[2022-11-16T18:19:52.907] [DEBUG] default -       [32m+[0m [0m[1m[0munique_id[0m[0m             = (known after apply)
    }


[2022-11-16T18:19:52.907] [DEBUG] default - [1m  # aws_iam_role_policy_attachment.attach-ecs-task-execution-policy[0m will be created[0m[0m

[2022-11-16T18:19:52.907] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_iam_role_policy_attachment" "attach-ecs-task-execution-policy" {

[2022-11-16T18:19:52.907] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m         = (known after apply)

[2022-11-16T18:19:52.907] [DEBUG] default -       [32m+[0m [0m[1m[0mpolicy_arn[0m[0m = (known after apply)

[2022-11-16T18:19:52.908] [DEBUG] default -       [32m+[0m [0m[1m[0mrole[0m[0m       = "sample-cdktf-ecsTaskExecutionRole"
    }


[2022-11-16T18:19:52.908] [DEBUG] default - [1m  # aws_iam_role_policy_attachment.attach-ecs-task-policy[0m will be created[0m[0m

[2022-11-16T18:19:52.908] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_iam_role_policy_attachment" "attach-ecs-task-policy" {

[2022-11-16T18:19:52.908] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m         = (known after apply)

[2022-11-16T18:19:52.908] [DEBUG] default -       [32m+[0m [0m[1m[0mpolicy_arn[0m[0m = (known after apply)

[2022-11-16T18:19:52.908] [DEBUG] default -       [32m+[0m [0m[1m[0mrole[0m[0m       = "sample-cdktf-ecsTaskRole"
    }


[2022-11-16T18:19:52.908] [DEBUG] default - [1m  # aws_iam_role_policy_attachment.attach-lambda-policy[0m will be created[0m[0m

[2022-11-16T18:19:52.908] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_iam_role_policy_attachment" "attach-lambda-policy" {

[2022-11-16T18:19:52.908] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m         = (known after apply)

[2022-11-16T18:19:52.908] [DEBUG] default -       [32m+[0m [0m[1m[0mpolicy_arn[0m[0m = (known after apply)

[2022-11-16T18:19:52.908] [DEBUG] default -       [32m+[0m [0m[1m[0mrole[0m[0m       = "sample-cdktf-lambdaExecutionRole"
    }


[2022-11-16T18:19:52.908] [DEBUG] default - [1m  # aws_internet_gateway.sample-cdktf-igw-production[0m will be created[0m[0m

[2022-11-16T18:19:52.909] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_internet_gateway" "sample-cdktf-igw-production" {

[2022-11-16T18:19:52.909] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m      = (known after apply)

[2022-11-16T18:19:52.909] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m       = (known after apply)

[2022-11-16T18:19:52.909] [DEBUG] default -       [32m+[0m [0m[1m[0mowner_id[0m[0m = (known after apply)

[2022-11-16T18:19:52.909] [DEBUG] default -       [32m+[0m [0m[1m[0mtags[0m[0m     = {

[2022-11-16T18:19:52.909] [DEBUG] default -           [32m+[0m [0m"Name" = "igw-production sample-cdktf"
        }

[2022-11-16T18:19:52.909] [DEBUG] default -       [32m+[0m [0m[1m[0mvpc_id[0m[0m   = (known after apply)

[2022-11-16T18:19:52.909] [DEBUG] default -     }


[2022-11-16T18:19:52.909] [DEBUG] default - [1m  # aws_lambda_function.Sample-Lambda-Notification-to-Slack[0m will be created[0m[0m

[2022-11-16T18:19:52.909] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_lambda_function" "Sample-Lambda-Notification-to-Slack" {

[2022-11-16T18:19:52.909] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                            = (known after apply)

[2022-11-16T18:19:52.909] [DEBUG] default -       [32m+[0m [0m[1m[0mfunction_name[0m[0m                  = "Sample-Lambda-Notification-to-Slack"

[2022-11-16T18:19:52.909] [DEBUG] default -       [32m+[0m [0m[1m[0mhandler[0m[0m                        = "index.handler"

[2022-11-16T18:19:52.910] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                             = (known after apply)

[2022-11-16T18:19:52.911] [DEBUG] default -       [32m+[0m [0m[1m[0minvoke_arn[0m[0m                     = (known after apply)

[2022-11-16T18:19:52.911] [DEBUG] default -       [32m+[0m [0m[1m[0mlast_modified[0m[0m                  = (known after apply)

[2022-11-16T18:19:52.911] [DEBUG] default -       [32m+[0m [0m[1m[0mmemory_size[0m[0m                    = 128

[2022-11-16T18:19:52.911] [DEBUG] default -       [32m+[0m [0m[1m[0mpublish[0m[0m                        = false

[2022-11-16T18:19:52.911] [DEBUG] default -       [32m+[0m [0m[1m[0mqualified_arn[0m[0m                  = (known after apply)

[2022-11-16T18:19:52.911] [DEBUG] default -       [32m+[0m [0m[1m[0mreserved_concurrent_executions[0m[0m = -1

[2022-11-16T18:19:52.911] [DEBUG] default -       [32m+[0m [0m[1m[0mrole[0m[0m                           = (known after apply)

[2022-11-16T18:19:52.911] [DEBUG] default -       [32m+[0m [0m[1m[0mruntime[0m[0m                        = "nodejs12.x"

[2022-11-16T18:19:52.911] [DEBUG] default -       [32m+[0m [0m[1m[0ms3_bucket[0m[0m                      = "sample-cdktf-s3"

[2022-11-16T18:19:52.912] [DEBUG] default -       [32m+[0m [0m[1m[0ms3_key[0m[0m                         = "notification-to-Slack-dist.zip"

[2022-11-16T18:19:52.912] [DEBUG] default -       [32m+[0m [0m[1m[0msource_code_hash[0m[0m               = (known after apply)

[2022-11-16T18:19:52.912] [DEBUG] default -       [32m+[0m [0m[1m[0msource_code_size[0m[0m               = (known after apply)

[2022-11-16T18:19:52.912] [DEBUG] default -       [32m+[0m [0m[1m[0mtimeout[0m[0m                        = 30

[2022-11-16T18:19:52.912] [DEBUG] default -       [32m+[0m [0m[1m[0mversion[0m[0m                        = (known after apply)


[2022-11-16T18:19:52.912] [DEBUG] default -       [32m+[0m [0menvironment {

[2022-11-16T18:19:52.912] [DEBUG] default -           [32m+[0m [0m[1m[0mvariables[0m[0m = {

[2022-11-16T18:19:52.912] [DEBUG] default -               [32m+[0m [0m"SLACK_API_TOKEN" = "xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp"

[2022-11-16T18:19:52.912] [DEBUG] default -               [32m+[0m [0m"SLACK_CHANNEL"   = "C049CPNKHMJ"
            }
        }


[2022-11-16T18:19:52.912] [DEBUG] default -       [32m+[0m [0mtracing_config {

[2022-11-16T18:19:52.912] [DEBUG] default -           [32m+[0m [0m[1m[0mmode[0m[0m = (known after apply)
        }
    }


[2022-11-16T18:19:52.912] [DEBUG] default - [1m  # aws_lambda_permission.permission-to-sns[0m will be created[0m[0m

[2022-11-16T18:19:52.912] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_lambda_permission" "permission-to-sns" {

[2022-11-16T18:19:52.913] [DEBUG] default -       [32m+[0m [0m[1m[0maction[0m[0m        = "lambda:InvokeFunction"

[2022-11-16T18:19:52.913] [DEBUG] default -       [32m+[0m [0m[1m[0mfunction_name[0m[0m = "Sample-Lambda-Notification-to-Slack"

[2022-11-16T18:19:52.913] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m            = (known after apply)

[2022-11-16T18:19:52.913] [DEBUG] default -       [32m+[0m [0m[1m[0mprincipal[0m[0m     = "sns.amazonaws.com"

[2022-11-16T18:19:52.913] [DEBUG] default -       [32m+[0m [0m[1m[0msource_arn[0m[0m    = (known after apply)

[2022-11-16T18:19:52.913] [DEBUG] default -       [32m+[0m [0m[1m[0mstatement_id[0m[0m  = "AllowExecutionFromSNS"
    }

[2022-11-16T18:19:52.913] [DEBUG] default - 

[2022-11-16T18:19:52.913] [DEBUG] default - [1m  # aws_nat_gateway.sample-cdktf-nat-gateway[0m will be created[0m[0m

[2022-11-16T18:19:52.913] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_nat_gateway" "sample-cdktf-nat-gateway" {

[2022-11-16T18:19:52.913] [DEBUG] default -       [32m+[0m [0m[1m[0mallocation_id[0m[0m        = (known after apply)

[2022-11-16T18:19:52.913] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                   = (known after apply)

[2022-11-16T18:19:52.913] [DEBUG] default -       [32m+[0m [0m[1m[0mnetwork_interface_id[0m[0m = (known after apply)

[2022-11-16T18:19:52.913] [DEBUG] default -       [32m+[0m [0m[1m[0mprivate_ip[0m[0m           = (known after apply)

[2022-11-16T18:19:52.913] [DEBUG] default -       [32m+[0m [0m[1m[0mpublic_ip[0m[0m            = (known after apply)

[2022-11-16T18:19:52.913] [DEBUG] default -       [32m+[0m [0m[1m[0msubnet_id[0m[0m            = (known after apply)

[2022-11-16T18:19:52.914] [DEBUG] default -       [32m+[0m [0m[1m[0mtags[0m[0m                 = {

[2022-11-16T18:19:52.914] [DEBUG] default -           [32m+[0m [0m"Name" = "sample-cdktf nat-gateway-production"
        }
    }


[2022-11-16T18:19:52.914] [DEBUG] default - [1m  # aws_route_table.sample-cdktf-private-rtb[0m will be created[0m[0m

[2022-11-16T18:19:52.914] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_route_table" "sample-cdktf-private-rtb" {

[2022-11-16T18:19:52.914] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m               = (known after apply)

[2022-11-16T18:19:52.914] [DEBUG] default -       [32m+[0m [0m[1m[0mowner_id[0m[0m         = (known after apply)

[2022-11-16T18:19:52.914] [DEBUG] default -       [32m+[0m [0m[1m[0mpropagating_vgws[0m[0m = (known after apply)

[2022-11-16T18:19:52.914] [DEBUG] default -       [32m+[0m [0m[1m[0mroute[0m[0m            = [

[2022-11-16T18:19:52.914] [DEBUG] default -           [32m+[0m [0m{

[2022-11-16T18:19:52.914] [DEBUG] default -               [32m+[0m [0mcidr_block                = "0.0.0.0/0"

[2022-11-16T18:19:52.914] [DEBUG] default -               [32m+[0m [0megress_only_gateway_id    = ""

[2022-11-16T18:19:52.914] [DEBUG] default -               [32m+[0m [0mgateway_id                = ""

[2022-11-16T18:19:52.914] [DEBUG] default -               [32m+[0m [0minstance_id               = ""
              [32m+[0m [0mipv6_cidr_block           = ""

[2022-11-16T18:19:52.914] [DEBUG] default -               [32m+[0m [0mnat_gateway_id            = (known after apply)

[2022-11-16T18:19:52.914] [DEBUG] default -               [32m+[0m [0mnetwork_interface_id      = ""

[2022-11-16T18:19:52.915] [DEBUG] default -               [32m+[0m [0mtransit_gateway_id        = ""

[2022-11-16T18:19:52.915] [DEBUG] default -               [32m+[0m [0mvpc_peering_connection_id = ""
            },
        ]

[2022-11-16T18:19:52.915] [DEBUG] default -       [32m+[0m [0m[1m[0mtags[0m[0m             = {

[2022-11-16T18:19:52.915] [DEBUG] default -           [32m+[0m [0m"Name" = "sample-cdktf Private rtb"
        }

[2022-11-16T18:19:52.915] [DEBUG] default -       [32m+[0m [0m[1m[0mvpc_id[0m[0m           = (known after apply)
    }


[2022-11-16T18:19:52.915] [DEBUG] default - [1m  # aws_route_table.sample-cdktf-public-rtb[0m will be created[0m[0m

[2022-11-16T18:19:52.915] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_route_table" "sample-cdktf-public-rtb" {

[2022-11-16T18:19:52.915] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m               = (known after apply)

[2022-11-16T18:19:52.915] [DEBUG] default -       [32m+[0m [0m[1m[0mowner_id[0m[0m         = (known after apply)

[2022-11-16T18:19:52.915] [DEBUG] default -       [32m+[0m [0m[1m[0mpropagating_vgws[0m[0m = (known after apply)

[2022-11-16T18:19:52.915] [DEBUG] default -       [32m+[0m [0m[1m[0mroute[0m[0m            = [
          [32m+[0m [0m{

[2022-11-16T18:19:52.915] [DEBUG] default -               [32m+[0m [0mcidr_block                = "0.0.0.0/0"

[2022-11-16T18:19:52.915] [DEBUG] default -               [32m+[0m [0megress_only_gateway_id    = ""

[2022-11-16T18:19:52.915] [DEBUG] default -               [32m+[0m [0mgateway_id                = (known after apply)

[2022-11-16T18:19:52.915] [DEBUG] default -               [32m+[0m [0minstance_id               = ""

[2022-11-16T18:19:52.916] [DEBUG] default -               [32m+[0m [0mipv6_cidr_block           = ""

[2022-11-16T18:19:52.916] [DEBUG] default -               [32m+[0m [0mnat_gateway_id            = ""

[2022-11-16T18:19:52.916] [DEBUG] default -               [32m+[0m [0mnetwork_interface_id      = ""

[2022-11-16T18:19:52.916] [DEBUG] default -               [32m+[0m [0mtransit_gateway_id        = ""

[2022-11-16T18:19:52.916] [DEBUG] default -               [32m+[0m [0mvpc_peering_connection_id = ""
            },
        ]

[2022-11-16T18:19:52.916] [DEBUG] default -       [32m+[0m [0m[1m[0mtags[0m[0m             = {

[2022-11-16T18:19:52.916] [DEBUG] default -           [32m+[0m [0m"Name" = "sample-cdktf Public rtb"
        }

[2022-11-16T18:19:52.916] [DEBUG] default -       [32m+[0m [0m[1m[0mvpc_id[0m[0m           = (known after apply)
    }


[2022-11-16T18:19:52.916] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-private-rtb-association1[0m will be created[0m[0m

[2022-11-16T18:19:52.916] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_route_table_association" "sample-cdktf-private-rtb-association1" {

[2022-11-16T18:19:52.916] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)

[2022-11-16T18:19:52.916] [DEBUG] default -       [32m+[0m [0m[1m[0mroute_table_id[0m[0m = (known after apply)

[2022-11-16T18:19:52.916] [DEBUG] default -       [32m+[0m [0m[1m[0msubnet_id[0m[0m      = (known after apply)
    }

[2022-11-16T18:19:52.916] [DEBUG] default - 

[2022-11-16T18:19:52.916] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-private-rtb-association2[0m will be created[0m[0m

[2022-11-16T18:19:52.917] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_route_table_association" "sample-cdktf-private-rtb-association2" {

[2022-11-16T18:19:52.917] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)

[2022-11-16T18:19:52.917] [DEBUG] default -       [32m+[0m [0m[1m[0mroute_table_id[0m[0m = (known after apply)

[2022-11-16T18:19:52.917] [DEBUG] default -       [32m+[0m [0m[1m[0msubnet_id[0m[0m      = (known after apply)
    }


[2022-11-16T18:19:52.917] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-public-rtb-association1[0m will be created[0m[0m

[2022-11-16T18:19:52.917] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_route_table_association" "sample-cdktf-public-rtb-association1" {

[2022-11-16T18:19:52.917] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)

[2022-11-16T18:19:52.917] [DEBUG] default -       [32m+[0m [0m[1m[0mroute_table_id[0m[0m = (known after apply)

[2022-11-16T18:19:52.917] [DEBUG] default -       [32m+[0m [0m[1m[0msubnet_id[0m[0m      = (known after apply)
    }


[2022-11-16T18:19:52.917] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-public-rtb-association2[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_route_table_association" "sample-cdktf-public-rtb-association2" {
      [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)
      [32m+[0m [0m[1m[0mroute_table_id[0m[0m = (known after apply)

[2022-11-16T18:19:52.917] [DEBUG] default -       [32m+[0m [0m[1m[0msubnet_id[0m[0m      = (known after apply)
    }


[2022-11-16T18:19:52.918] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-public-rtb1[0m will be created[0m[0m

[2022-11-16T18:19:52.918] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_route_table_association" "sample-cdktf-public-rtb1" {

[2022-11-16T18:19:52.918] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)

[2022-11-16T18:19:52.918] [DEBUG] default -       [32m+[0m [0m[1m[0mroute_table_id[0m[0m = (known after apply)

[2022-11-16T18:19:52.918] [DEBUG] default -       [32m+[0m [0m[1m[0msubnet_id[0m[0m      = (known after apply)
    }


[2022-11-16T18:19:52.918] [DEBUG] default - [1m  # aws_s3_bucket.sample-cdktf-s3[0m will be created[0m[0m

[2022-11-16T18:19:52.918] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_s3_bucket" "sample-cdktf-s3" {

[2022-11-16T18:19:52.918] [DEBUG] default -       [32m+[0m [0m[1m[0macceleration_status[0m[0m         = (known after apply)

[2022-11-16T18:19:52.918] [DEBUG] default -       [32m+[0m [0m[1m[0macl[0m[0m                         = "private"

[2022-11-16T18:19:52.918] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                         = (known after apply)

[2022-11-16T18:19:52.918] [DEBUG] default -       [32m+[0m [0m[1m[0mbucket[0m[0m                      = "sample-cdktf-s3"

[2022-11-16T18:19:52.918] [DEBUG] default -       [32m+[0m [0m[1m[0mbucket_domain_name[0m[0m          = (known after apply)

[2022-11-16T18:19:52.918] [DEBUG] default -       [32m+[0m [0m[1m[0mbucket_regional_domain_name[0m[0m = (known after apply)

[2022-11-16T18:19:52.918] [DEBUG] default -       [32m+[0m [0m[1m[0mforce_destroy[0m[0m               = false

[2022-11-16T18:19:52.918] [DEBUG] default -       [32m+[0m [0m[1m[0mhosted_zone_id[0m[0m              = (known after apply)

[2022-11-16T18:19:52.919] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                          = (known after apply)

[2022-11-16T18:19:52.919] [DEBUG] default -       [32m+[0m [0m[1m[0mregion[0m[0m                      = "ap-northeast-1"

[2022-11-16T18:19:52.919] [DEBUG] default -       [32m+[0m [0m[1m[0mrequest_payer[0m[0m               = (known after apply)

[2022-11-16T18:19:52.919] [DEBUG] default -       [32m+[0m [0m[1m[0mwebsite_domain[0m[0m              = (known after apply)

[2022-11-16T18:19:52.919] [DEBUG] default -       [32m+[0m [0m[1m[0mwebsite_endpoint[0m[0m            = (known after apply)


[2022-11-16T18:19:52.919] [DEBUG] default -       [32m+[0m [0mversioning {

[2022-11-16T18:19:52.919] [DEBUG] default -           [32m+[0m [0m[1m[0menabled[0m[0m    = (known after apply)

[2022-11-16T18:19:52.919] [DEBUG] default -           [32m+[0m [0m[1m[0mmfa_delete[0m[0m = (known after apply)
        }
    }


[2022-11-16T18:19:52.919] [DEBUG] default - [1m  # aws_s3_bucket_object.notification-to-Slack-distzip[0m will be created[0m[0m

[2022-11-16T18:19:52.919] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_s3_bucket_object" "notification-to-Slack-distzip" {

[2022-11-16T18:19:52.919] [DEBUG] default -       [32m+[0m [0m[1m[0macl[0m[0m                    = "private"

[2022-11-16T18:19:52.919] [DEBUG] default -       [32m+[0m [0m[1m[0mbucket[0m[0m                 = "sample-cdktf-s3"

[2022-11-16T18:19:52.919] [DEBUG] default -       [32m+[0m [0m[1m[0mcontent_type[0m[0m           = "zip"

[2022-11-16T18:19:52.919] [DEBUG] default -       [32m+[0m [0m[1m[0metag[0m[0m                   = (known after apply)

[2022-11-16T18:19:52.920] [DEBUG] default -       [32m+[0m [0m[1m[0mforce_destroy[0m[0m          = false

[2022-11-16T18:19:52.920] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                     = (known after apply)

[2022-11-16T18:19:52.920] [DEBUG] default -       [32m+[0m [0m[1m[0mkey[0m[0m                    = "notification-to-Slack-dist.zip"

[2022-11-16T18:19:52.920] [DEBUG] default -       [32m+[0m [0m[1m[0mserver_side_encryption[0m[0m = (known after apply)

[2022-11-16T18:19:52.920] [DEBUG] default -       [32m+[0m [0m[1m[0msource[0m[0m                 = "/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip"

[2022-11-16T18:19:52.920] [DEBUG] default -       [32m+[0m [0m[1m[0mstorage_class[0m[0m          = (known after apply)

[2022-11-16T18:19:52.920] [DEBUG] default -       [32m+[0m [0m[1m[0mversion_id[0m[0m             = (known after apply)
    }

[2022-11-16T18:19:52.920] [DEBUG] default - 

[2022-11-16T18:19:52.920] [DEBUG] default - [1m  # aws_security_group.sample-cdktf-security-group[0m will be created[0m[0m

[2022-11-16T18:19:52.920] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_security_group" "sample-cdktf-security-group" {

[2022-11-16T18:19:52.920] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                    = (known after apply)

[2022-11-16T18:19:52.920] [DEBUG] default -       [32m+[0m [0m[1m[0mdescription[0m[0m            = "Managed by Terraform"

[2022-11-16T18:19:52.920] [DEBUG] default -       [32m+[0m [0m[1m[0megress[0m[0m                 = (known after apply)

[2022-11-16T18:19:52.921] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                     = (known after apply)

[2022-11-16T18:19:52.921] [DEBUG] default -       [32m+[0m [0m[1m[0mingress[0m[0m                = (known after apply)

[2022-11-16T18:19:52.921] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m                   = "sample-cdktf"

[2022-11-16T18:19:52.921] [DEBUG] default -       [32m+[0m [0m[1m[0mowner_id[0m[0m               = (known after apply)

[2022-11-16T18:19:52.921] [DEBUG] default -       [32m+[0m [0m[1m[0mrevoke_rules_on_delete[0m[0m = false

[2022-11-16T18:19:52.921] [DEBUG] default -       [32m+[0m [0m[1m[0mtags[0m[0m                   = {

[2022-11-16T18:19:52.921] [DEBUG] default -           [32m+[0m [0m"Name" = "sample-cdktf"

[2022-11-16T18:19:52.921] [DEBUG] default -         }

[2022-11-16T18:19:52.921] [DEBUG] default -       [32m+[0m [0m[1m[0mvpc_id[0m[0m                 = (known after apply)
    }


[2022-11-16T18:19:52.921] [DEBUG] default - [1m  # aws_security_group_rule.sample-cdktf-security-egress[0m will be created[0m[0m

[2022-11-16T18:19:52.921] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_security_group_rule" "sample-cdktf-security-egress" {

[2022-11-16T18:19:52.921] [DEBUG] default -       [32m+[0m [0m[1m[0mcidr_blocks[0m[0m              = [

[2022-11-16T18:19:52.921] [DEBUG] default -           [32m+[0m [0m"0.0.0.0/0",
        ]

[2022-11-16T18:19:52.921] [DEBUG] default -       [32m+[0m [0m[1m[0mfrom_port[0m[0m                = 0

[2022-11-16T18:19:52.921] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                       = (known after apply)

[2022-11-16T18:19:52.922] [DEBUG] default -       [32m+[0m [0m[1m[0mprotocol[0m[0m                 = "-1"

[2022-11-16T18:19:52.922] [DEBUG] default -       [32m+[0m [0m[1m[0msecurity_group_id[0m[0m        = (known after apply)

[2022-11-16T18:19:52.922] [DEBUG] default -       [32m+[0m [0m[1m[0mself[0m[0m                     = false

[2022-11-16T18:19:52.922] [DEBUG] default -       [32m+[0m [0m[1m[0msource_security_group_id[0m[0m = (known after apply)

[2022-11-16T18:19:52.922] [DEBUG] default -       [32m+[0m [0m[1m[0mto_port[0m[0m                  = 0

[2022-11-16T18:19:52.922] [DEBUG] default -       [32m+[0m [0m[1m[0mtype[0m[0m                     = "egress"
    }


[2022-11-16T18:19:52.922] [DEBUG] default - [1m  # aws_security_group_rule.sample-cdktf-security-ingress[0m will be created[0m[0m

[2022-11-16T18:19:52.922] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_security_group_rule" "sample-cdktf-security-ingress" {

[2022-11-16T18:19:52.922] [DEBUG] default -       [32m+[0m [0m[1m[0mcidr_blocks[0m[0m              = [

[2022-11-16T18:19:52.922] [DEBUG] default -           [32m+[0m [0m"0.0.0.0/0",
        ]

[2022-11-16T18:19:52.922] [DEBUG] default -       [32m+[0m [0m[1m[0mfrom_port[0m[0m                = 80

[2022-11-16T18:19:52.922] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                       = (known after apply)

[2022-11-16T18:19:52.922] [DEBUG] default -       [32m+[0m [0m[1m[0mprotocol[0m[0m                 = "tcp"

[2022-11-16T18:19:52.922] [DEBUG] default -       [32m+[0m [0m[1m[0msecurity_group_id[0m[0m        = (known after apply)

[2022-11-16T18:19:52.922] [DEBUG] default -       [32m+[0m [0m[1m[0mself[0m[0m                     = false

[2022-11-16T18:19:52.923] [DEBUG] default -       [32m+[0m [0m[1m[0msource_security_group_id[0m[0m = (known after apply)

[2022-11-16T18:19:52.923] [DEBUG] default -       [32m+[0m [0m[1m[0mto_port[0m[0m                  = 80

[2022-11-16T18:19:52.923] [DEBUG] default -       [32m+[0m [0m[1m[0mtype[0m[0m                     = "ingress"
    }


[2022-11-16T18:19:52.923] [DEBUG] default - [1m  # aws_sns_topic.sample-cdktf-sns[0m will be created[0m[0m

[2022-11-16T18:19:52.923] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_sns_topic" "sample-cdktf-sns" {

[2022-11-16T18:19:52.923] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m    = (known after apply)

[2022-11-16T18:19:52.923] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m     = (known after apply)

[2022-11-16T18:19:52.923] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m   = "sample-cdktf-sns"

[2022-11-16T18:19:52.923] [DEBUG] default -       [32m+[0m [0m[1m[0mpolicy[0m[0m = (known after apply)

[2022-11-16T18:19:52.923] [DEBUG] default -     }


[2022-11-16T18:19:52.923] [DEBUG] default - [1m  # aws_sns_topic_policy.sample-cdktf-sns-policy[0m will be created[0m[0m

[2022-11-16T18:19:52.923] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_sns_topic_policy" "sample-cdktf-sns-policy" {

[2022-11-16T18:19:52.923] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m    = (known after apply)

[2022-11-16T18:19:52.923] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m     = (known after apply)

[2022-11-16T18:19:52.923] [DEBUG] default -       [32m+[0m [0m[1m[0mpolicy[0m[0m = jsonencode(
            {

[2022-11-16T18:19:52.923] [DEBUG] default -               [32m+[0m [0mStatement = {

[2022-11-16T18:19:52.923] [DEBUG] default -                   [32m+[0m [0mAction    = [
                      [32m+[0m [0m"SNS:Publish",

[2022-11-16T18:19:52.924] [DEBUG] default -                     ]
                  [32m+[0m [0mEffect    = "Allow"

[2022-11-16T18:19:52.924] [DEBUG] default -                   [32m+[0m [0mPrincipal = {

[2022-11-16T18:19:52.924] [DEBUG] default -                       [32m+[0m [0mService = "events.amazonaws.com"
                    }

[2022-11-16T18:19:52.924] [DEBUG] default -                   [32m+[0m [0mResource  = [

[2022-11-16T18:19:52.924] [DEBUG] default -                       [32m+[0m [0m"*",
                    ]

[2022-11-16T18:19:52.924] [DEBUG] default -                   [32m+[0m [0mSid       = ""

[2022-11-16T18:19:52.924] [DEBUG] default -                 }

[2022-11-16T18:19:52.924] [DEBUG] default -               [32m+[0m [0mVersion   = "2012-10-17"
            }
        )

[2022-11-16T18:19:52.924] [DEBUG] default -     }


[2022-11-16T18:19:52.924] [DEBUG] default - [1m  # aws_sns_topic_subscription.sample-cdktf-sns-subscription[0m will be created[0m[0m

[2022-11-16T18:19:52.924] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_sns_topic_subscription" "sample-cdktf-sns-subscription" {

[2022-11-16T18:19:52.924] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                             = (known after apply)

[2022-11-16T18:19:52.924] [DEBUG] default -       [32m+[0m [0m[1m[0mconfirmation_timeout_in_minutes[0m[0m = 1

[2022-11-16T18:19:52.924] [DEBUG] default -       [32m+[0m [0m[1m[0mendpoint[0m[0m                        = (known after apply)

[2022-11-16T18:19:52.924] [DEBUG] default -       [32m+[0m [0m[1m[0mendpoint_auto_confirms[0m[0m          = false

[2022-11-16T18:19:52.925] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                              = (known after apply)

[2022-11-16T18:19:52.925] [DEBUG] default -       [32m+[0m [0m[1m[0mprotocol[0m[0m                        = "lambda"

[2022-11-16T18:19:52.925] [DEBUG] default -       [32m+[0m [0m[1m[0mraw_message_delivery[0m[0m            = false

[2022-11-16T18:19:52.925] [DEBUG] default -       [32m+[0m [0m[1m[0mtopic_arn[0m[0m                       = (known after apply)
    }


[2022-11-16T18:19:52.925] [DEBUG] default - [1m  # aws_subnet.sample-cdktf-private-subnet1[0m will be created[0m[0m

[2022-11-16T18:19:52.925] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_subnet" "sample-cdktf-private-subnet1" {

[2022-11-16T18:19:52.925] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                             = (known after apply)

[2022-11-16T18:19:52.925] [DEBUG] default -       [32m+[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false

[2022-11-16T18:19:52.925] [DEBUG] default -       [32m+[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1a"

[2022-11-16T18:19:52.925] [DEBUG] default -       [32m+[0m [0m[1m[0mavailability_zone_id[0m[0m            = (known after apply)

[2022-11-16T18:19:52.925] [DEBUG] default -       [32m+[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.128.0/20"

[2022-11-16T18:19:52.925] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                              = (known after apply)

[2022-11-16T18:19:52.926] [DEBUG] default -       [32m+[0m [0m[1m[0mipv6_cidr_block[0m[0m                 = (known after apply)

[2022-11-16T18:19:52.926] [DEBUG] default -       [32m+[0m [0m[1m[0mipv6_cidr_block_association_id[0m[0m  = (known after apply)

[2022-11-16T18:19:52.926] [DEBUG] default -       [32m+[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true

[2022-11-16T18:19:52.926] [DEBUG] default -       [32m+[0m [0m[1m[0mowner_id[0m[0m                        = (known after apply)

[2022-11-16T18:19:52.926] [DEBUG] default -       [32m+[0m [0m[1m[0mtags[0m[0m                            = {

[2022-11-16T18:19:52.926] [DEBUG] default -           [32m+[0m [0m"Name" = "Private1 AZ1a sample-cdktf"

[2022-11-16T18:19:52.926] [DEBUG] default -         }

[2022-11-16T18:19:52.926] [DEBUG] default -       [32m+[0m [0m[1m[0mvpc_id[0m[0m                          = (known after apply)
    }


[2022-11-16T18:19:52.926] [DEBUG] default - [1m  # aws_subnet.sample-cdktf-private-subnet2[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_subnet" "sample-cdktf-private-subnet2" {
      [32m+[0m [0m[1m[0marn[0m[0m                             = (known after apply)
      [32m+[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false
      [32m+[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1c"
      [32m+[0m [0m[1m[0mavailability_zone_id[0m[0m            = (known after apply)

[2022-11-16T18:19:52.926] [DEBUG] default -       [32m+[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.144.0/20"

[2022-11-16T18:19:52.927] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                              = (known after apply)

[2022-11-16T18:19:52.927] [DEBUG] default -       [32m+[0m [0m[1m[0mipv6_cidr_block[0m[0m                 = (known after apply)

[2022-11-16T18:19:52.927] [DEBUG] default -       [32m+[0m [0m[1m[0mipv6_cidr_block_association_id[0m[0m  = (known after apply)

[2022-11-16T18:19:52.927] [DEBUG] default -       [32m+[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true

[2022-11-16T18:19:52.927] [DEBUG] default -       [32m+[0m [0m[1m[0mowner_id[0m[0m                        = (known after apply)

[2022-11-16T18:19:52.927] [DEBUG] default -       [32m+[0m [0m[1m[0mtags[0m[0m                            = {

[2022-11-16T18:19:52.927] [DEBUG] default -           [32m+[0m [0m"Name" = "Private2 AZ1c sample-cdktf"

[2022-11-16T18:19:52.927] [DEBUG] default -         }

[2022-11-16T18:19:52.927] [DEBUG] default -       [32m+[0m [0m[1m[0mvpc_id[0m[0m                          = (known after apply)
    }


[2022-11-16T18:19:52.927] [DEBUG] default - [1m  # aws_subnet.sample-cdktf-public-subnet1[0m will be created[0m[0m

[2022-11-16T18:19:52.927] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_subnet" "sample-cdktf-public-subnet1" {

[2022-11-16T18:19:52.927] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                             = (known after apply)

[2022-11-16T18:19:52.927] [DEBUG] default -       [32m+[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false

[2022-11-16T18:19:52.928] [DEBUG] default -       [32m+[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1a"

[2022-11-16T18:19:52.928] [DEBUG] default -       [32m+[0m [0m[1m[0mavailability_zone_id[0m[0m            = (known after apply)
      [32m+[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.0.0/20"
      [32m+[0m [0m[1m[0mid[0m[0m                              = (known after apply)
      [32m+[0m [0m[1m[0mipv6_cidr_block[0m[0m                 = (known after apply)

[2022-11-16T18:19:52.928] [DEBUG] default -       [32m+[0m [0m[1m[0mipv6_cidr_block_association_id[0m[0m  = (known after apply)

[2022-11-16T18:19:52.928] [DEBUG] default -       [32m+[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true

[2022-11-16T18:19:52.928] [DEBUG] default -       [32m+[0m [0m[1m[0mowner_id[0m[0m                        = (known after apply)

[2022-11-16T18:19:52.928] [DEBUG] default -       [32m+[0m [0m[1m[0mtags[0m[0m                            = {

[2022-11-16T18:19:52.928] [DEBUG] default -           [32m+[0m [0m"Name" = "Public1 AZ1a sample-cdktf"
        }

[2022-11-16T18:19:52.928] [DEBUG] default -       [32m+[0m [0m[1m[0mvpc_id[0m[0m                          = (known after apply)
    }

[2022-11-16T18:19:52.928] [DEBUG] default - 

[2022-11-16T18:19:52.928] [DEBUG] default - [1m  # aws_subnet.sample-cdktf-public-subnet2[0m will be created[0m[0m

[2022-11-16T18:19:52.928] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_subnet" "sample-cdktf-public-subnet2" {

[2022-11-16T18:19:52.928] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                             = (known after apply)

[2022-11-16T18:19:52.928] [DEBUG] default -       [32m+[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false

[2022-11-16T18:19:52.928] [DEBUG] default -       [32m+[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1c"

[2022-11-16T18:19:52.929] [DEBUG] default -       [32m+[0m [0m[1m[0mavailability_zone_id[0m[0m            = (known after apply)

[2022-11-16T18:19:52.929] [DEBUG] default -       [32m+[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.16.0/20"

[2022-11-16T18:19:52.942] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                              = (known after apply)

[2022-11-16T18:19:52.943] [DEBUG] default -       [32m+[0m [0m[1m[0mipv6_cidr_block[0m[0m                 = (known after apply)
      [32m+[0m [0m[1m[0mipv6_cidr_block_association_id[0m[0m  = (known after apply)
      [32m+[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true
      [32m+[0m [0m[1m[0mowner_id[0m[0m                        = (known after apply)
      [32m+[0m [0m[1m[0mtags[0m[0m                            = {
          [32m+[0m [0m"Name" = "Public2 AZ1c sample-cdktf"
        }
      [32m+[0m [0m[1m[0mvpc_id[0m[0m                          = (known after apply)
    }

[1m  # aws_vpc.sample-cdktf-vpc[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_vpc" "sample-cdktf-vpc" {
      [32m+[0m [0m[1m[0marn[0m[0m                              = (known after apply)
      [32m+[0m [0m[1m[0massign_generated_ipv6_cidr_block[0m[0m = false
      [32m+[0m [0m[1m[0mcidr_block[0m[0m                       = "10.0.0.0/16"
      [32m+[0m [0m[1m[0mdefault_network_acl_id[0m[0m           = (known after apply)
      [32m+[0m [0m[1m[0mdefault_route_table_id[0m[0m           = (known after apply)
      [32m+[0m [0m[1m[0mdefault_security_group_id[0m[0m        = (known after apply)
      [32m+[0m [0m[1m[0mdhcp_options_id[0m[0m                  = (known after apply)
      [32m+[0m [0m[1m[0menable_classiclink[0m[0m               = (known after apply)
      [32m+[0m [0m[1m[0menable_classiclink_dns_support[0m[0m   = (known after apply)
      [32m+[0m [0m[1m[0menable_dns_hostnames[0m[0m             = true
      [32m+[0m [0m[1m[0menable_dns_support[0m[0m               = true
      [32m+[0m [0m[1m[0mid[0m[0m                               = (known after apply)
      [32m+[0m [0m[1m[0minstance_tenancy[0m[0m                 = "default"
      [32m+[0m [0m[1m[0mipv6_association_id[0m[0m              = (known after apply)
      [32m+[0m [0m[1m[0mipv6_cidr_block[0m[0m                  = (known after apply)
      [32m+[0m [0m[1m[0mmain_route_table_id[0m[0m              = (known after apply)
      [32m+[0m [0m[1m[0mowner_id[0m[0m                         = (known after apply)
      [32m+[0m [0m[1m[0mtags[0m[0m                             = {
          [32m+[0m [0m"Name" = "sample-cdktf production"
        }
    }

[0m[1mPlan:[0m 45 to add, 0 to change, 0 to destroy.[0m
[33m
[1m[33mWarning: [0m[0m[1m"condition.0.values": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m

[0m  on cdk.tf.json line 675, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:
 675:       [4m}[0m
[0m
[0m[0m
[33m
[1m[33mWarning: [0m[0m[1m"condition.0.field": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m

[0m  on cdk.tf.json line 675, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:
 675:       [4m}[0m
[0m
[0m[0m

------------------------------------------------------------------------

This plan was saved to: /Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/cdktf.out/plan

To perform exactly these actions, run the following command to apply:
    terraform apply "/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/cdktf.out/plan"


[2022-11-16T18:19:53.876] [DEBUG] default - {"format_version":"0.1","terraform_version":"0.14.8","planned_values":{"root_module":{"resources":[{"address":"aws_alb.sample-cdktf-alb","mode":"managed","type":"aws_alb","name":"sample-cdktf-alb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"access_logs":[],"drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":null,"enable_deletion_protection":false,"enable_http2":true,"idle_timeout":60,"internal":false,"ip_address_type":"ipv4","load_balancer_type":"application","name":"sample-cdktf-alb","name_prefix":null,"tags":null,"timeouts":null}},{"address":"aws_alb_listener.sample-cdktf-alb-listener","mode":"managed","type":"aws_alb_listener","name":"sample-cdktf-alb-listener","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[],"type":"forward"}],"port":80,"protocol":"HTTP","timeouts":null}},{"address":"aws_alb_listener_rule.sample-cdktf-alb-listener-rule","mode":"managed","type":"aws_alb_listener_rule","name":"sample-cdktf-alb-listener-rule","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[],"type":"forward"}],"condition":[{"field":"path-pattern","http_header":[],"http_request_method":[],"query_string":[],"source_ip":[],"values":["*"]}],"priority":100}},{"address":"aws_alb_target_group.sample-cdktf-alb-target-group","mode":"managed","type":"aws_alb_target_group","name":"sample-cdktf-alb-target-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"deregistration_delay":300,"health_check":[{"enabled":true,"healthy_threshold":3,"interval":30,"path":"/","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"lambda_multi_value_headers_enabled":false,"name":"sample-cdktf-alb-target-group","name_prefix":null,"port":80,"protocol":"HTTP","proxy_protocol_v2":false,"slow_start":0,"tags":null,"target_type":"ip"}},{"address":"aws_cloudwatch_event_rule.sample-cdktf-event-rule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"sample-cdktf-event-rule","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Capture each AWS ECR Update","event_pattern":"{\"detail\":{\"action-type\":[\"PUSH\"],\"result\":[\"SUCCESS\"]},\"detail-type\":[\"ECR Image Action\"],\"source\":[\"aws.ecr\"]}","is_enabled":true,"name":"capture-ecr-update","name_prefix":null,"role_arn":null,"schedule_expression":null,"tags":null}},{"address":"aws_cloudwatch_event_target.sample-cdktf-event-target","mode":"managed","type":"aws_cloudwatch_event_target","name":"sample-cdktf-event-target","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"batch_target":[],"ecs_target":[],"input":null,"input_path":null,"input_transformer":[],"kinesis_target":[],"role_arn":null,"rule":"capture-ecr-update","run_command_targets":[],"sqs_target":[],"target_id":"SendToSNS"}},{"address":"aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-notification-to-slack-log-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"kms_key_id":null,"name":"/aws/lambda/Sample-Lambda-Notification-to-Slack","name_prefix":null,"retention_in_days":0,"tags":null}},{"address":"aws_ecr_repository.sample-cdktf-repository","mode":"managed","type":"aws_ecr_repository","name":"sample-cdktf-repository","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"image_scanning_configuration":[],"image_tag_mutability":"MUTABLE","name":"project/sample-cdktf","tags":null,"timeouts":null}},{"address":"aws_ecs_cluster.sample-cdktf-cluster","mode":"managed","type":"aws_ecs_cluster","name":"sample-cdktf-cluster","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"capacity_providers":null,"default_capacity_provider_strategy":[],"name":"sample-cdktf-cluster","tags":null}},{"address":"aws_ecs_service.sample-cdktf-ecs-service","mode":"managed","type":"aws_ecs_service","name":"sample-cdktf-ecs-service","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"capacity_provider_strategy":[],"deployment_controller":[],"deployment_maximum_percent":200,"deployment_minimum_healthy_percent":100,"desired_count":1,"enable_ecs_managed_tags":false,"force_new_deployment":null,"health_check_grace_period_seconds":null,"launch_type":"FARGATE","load_balancer":[{"container_name":"sample-cdktf-container","container_port":9000,"elb_name":""}],"name":"sample-cdktf-ecs-service","network_configuration":[{"assign_public_ip":false}],"ordered_placement_strategy":[],"placement_constraints":[],"platform_version":"LATEST","propagate_tags":null,"scheduling_strategy":"REPLICA","service_registries":[],"tags":null,"timeouts":null}},{"address":"aws_ecs_task_definition.sample-cdktf-task","mode":"managed","type":"aws_ecs_task_definition","name":"sample-cdktf-task","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"cpu":"512","family":"task-for-cdktf","inference_accelerator":[],"ipc_mode":null,"memory":"1024","network_mode":"awsvpc","pid_mode":null,"placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":["FARGATE"],"tags":null,"volume":[]}},{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"associate_with_private_ip":null,"customer_owned_ipv4_pool":null,"tags":null,"timeouts":null,"vpc":true}},{"address":"aws_iam_policy.ecs-task-execution-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Policy for updating ECS tasks","name":"ecs-task-execution-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},{"address":"aws_iam_policy.ecs-task-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Policy for updating ECS tasks","name":"ecs-task-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecs:DescribeServices\",\n              \"ecs:CreateTaskSet\",\n              \"ecs:UpdateServicePrimaryTaskSet\",\n              \"ecs:DeleteTaskSet\",\n              \"elasticloadbalancing:DescribeTargetGroups\",\n              \"elasticloadbalancing:DescribeListeners\",\n              \"elasticloadbalancing:ModifyListener\",\n              \"elasticloadbalancing:DescribeRules\",\n              \"elasticloadbalancing:ModifyRule\",\n              \"lambda:InvokeFunction\",\n              \"cloudwatch:DescribeAlarms\",\n              \"sns:Publish\",\n              \"s3:GetObject\",\n              \"s3:GetObjectVersion\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},{"address":"aws_iam_policy.lambda-logging","mode":"managed","type":"aws_iam_policy","name":"lambda-logging","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"IAM policy for logging from a lambda","name":"sample-cdktf-lambda-logging","name_pref
[2022-11-16T18:19:53.876] [DEBUG] default - ix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"iam:PassRole\",\n              \"ecs:RegisterTaskDefinition\",\n              \"ecs:UpdateService\",\n              \"logs:CreateLogGroup\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\",\n              \"arn:aws:logs:*:*:*\",\n              \"arn:aws:ecs:*:*:*\",\n              \"arn:aws:iam::445682127642:role/sample-cdktf-ecsTaskExecutionRole\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},{"address":"aws_iam_role.ecsTaskExecutionRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\":    \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"sample-cdktf-ecsTaskExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null}},{"address":"aws_iam_role.ecsTaskRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskRole","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\n        \"Version\": \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n          },\n          \"Effect\": \"Allow\",\n          \"Sid\": \"\"\n          }\n        ]\n      }","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"sample-cdktf-ecsTaskRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null}},{"address":"aws_iam_role.lambdaExecutionRole","mode":"managed","type":"aws_iam_role","name":"lambdaExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": [\n                \"lambda.amazonaws.com\",\n                \"ecs-tasks.amazonaws.com\"\n              ]\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"sample-cdktf-lambdaExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null}},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-execution-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"sample-cdktf-ecsTaskExecutionRole"}},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"sample-cdktf-ecsTaskRole"}},{"address":"aws_iam_role_policy_attachment.attach-lambda-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-lambda-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"sample-cdktf-lambdaExecutionRole"}},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"tags":{"Name":"igw-production sample-cdktf"}}},{"address":"aws_lambda_function.Sample-Lambda-Notification-to-Slack","mode":"managed","type":"aws_lambda_function","name":"Sample-Lambda-Notification-to-Slack","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"dead_letter_config":[],"description":null,"environment":[{"variables":{"SLACK_API_TOKEN":"xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp","SLACK_CHANNEL":"C049CPNKHMJ"}}],"file_system_config":[],"filename":null,"function_name":"Sample-Lambda-Notification-to-Slack","handler":"index.handler","kms_key_arn":null,"layers":null,"memory_size":128,"publish":false,"reserved_concurrent_executions":-1,"runtime":"nodejs12.x","s3_bucket":"sample-cdktf-s3","s3_key":"notification-to-Slack-dist.zip","s3_object_version":null,"tags":null,"timeout":30,"timeouts":null,"vpc_config":[]}},{"address":"aws_lambda_permission.permission-to-sns","mode":"managed","type":"aws_lambda_permission","name":"permission-to-sns","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"Sample-Lambda-Notification-to-Slack","principal":"sns.amazonaws.com","qualifier":null,"source_account":null,"statement_id":"AllowExecutionFromSNS","statement_id_prefix":null}},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"tags":{"Name":"sample-cdktf nat-gateway-production"}}},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Private rtb"}}},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Public rtb"}}},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null}},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null}},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null}},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null}},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null}},{"address":"aws_s3_bucket.sample-cdktf-s3","mode":"managed","type":"aws_s3_bucket","name":"sample-cdktf-s3","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","bucket":"sample-cdktf-s3","bucket_
[2022-11-16T18:19:53.876] [DEBUG] default - prefix":null,"cors_rule":[],"force_destroy":false,"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":null,"region":"ap-northeast-1","replication_configuration":[],"server_side_encryption_configuration":[],"tags":null,"website":[]}},{"address":"aws_s3_bucket_object.notification-to-Slack-distzip","mode":"managed","type":"aws_s3_bucket_object","name":"notification-to-Slack-distzip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","bucket":"sample-cdktf-s3","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"content_type":"zip","force_destroy":false,"key":"notification-to-Slack-dist.zip","kms_key_id":null,"metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip","tags":null,"website_redirect":null}},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Managed by Terraform","name":"sample-cdktf","name_prefix":null,"revoke_rules_on_delete":false,"tags":{"Name":"sample-cdktf"},"timeouts":null}},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","self":false,"to_port":0,"type":"egress"}},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":80,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","self":false,"to_port":80,"type":"ingress"}},{"address":"aws_sns_topic.sample-cdktf-sns","mode":"managed","type":"aws_sns_topic","name":"sample-cdktf-sns","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"delivery_policy":null,"display_name":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"kms_master_key_id":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"sample-cdktf-sns","name_prefix":null,"sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":null}},{"address":"aws_sns_topic_policy.sample-cdktf-sns-policy","mode":"managed","type":"aws_sns_topic_policy","name":"sample-cdktf-sns-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": {\n          \"Effect\": \"Allow\",\n          \"Sid\":    \"\",\n          \"Principal\": {\n            \"Service\": \"events.amazonaws.com\"\n          },\n          \"Action\": [\n            \"SNS:Publish\"\n          ],\n          \"Resource\": [\n            \"*\"\n          ]\n        }\n      }"}},{"address":"aws_sns_topic_subscription.sample-cdktf-sns-subscription","mode":"managed","type":"aws_sns_topic_subscription","name":"sample-cdktf-sns-subscription","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"confirmation_timeout_in_minutes":1,"delivery_policy":null,"endpoint_auto_confirms":false,"filter_policy":null,"protocol":"lambda","raw_message_delivery":false}},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","cidr_block":"10.0.128.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Private1 AZ1a sample-cdktf"},"timeouts":null}},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","cidr_block":"10.0.144.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Private2 AZ1c sample-cdktf"},"timeouts":null}},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","cidr_block":"10.0.0.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Public1 AZ1a sample-cdktf"},"timeouts":null}},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","cidr_block":"10.0.16.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Public2 AZ1c sample-cdktf"},"timeouts":null}},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","tags":{"Name":"sample-cdktf production"}}}]}},"resource_changes":[{"address":"aws_alb.sample-cdktf-alb","mode":"managed","type":"aws_alb","name":"sample-cdktf-alb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"access_logs":[],"drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":null,"enable_deletion_protection":false,"enable_http2":true,"idle_timeout":60,"internal":false,"ip_address_type":"ipv4","load_balancer_type":"application","name":"sample-cdktf-alb","name_prefix":null,"tags":null,"timeouts":null},"after_unknown":{"access_logs":[],"arn":true,"arn_suffix":true,"dns_name":true,"id":true,"security_groups":true,"subnet_mapping":true,"subnets":true,"vpc_id":true,"zone_id":true}}},{"address":"aws_alb_listener.sample-cdktf-alb-listener","mode":"managed","type":"aws_alb_listener","name":"sample-cdktf-alb-listener","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[],"type":"forward"}],"port":80,"protocol":"HTTP","timeouts":null},"after_unknown":{"arn":true,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"order":true,"redirect":[],"target_group_arn":true}],"id":true,"load_balancer_arn":true,"ssl_policy":true}}},{"address":"aws_alb_listener_rule.sample-cdktf-alb-listener-rule","mode":"managed","type":"aws_alb_listener_rule","name":"sample-cdktf-alb-listener-rule","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[],"type":"forward"}],"condition":[{"field":"path-pattern","http_header":[],"http_request_method":[],"query_string":[],"source_ip":[],"values":["*"]}],"priority":100},"after_unknown":{"action":[{"authenticate_cognito":[],"authenticate_oi
[2022-11-16T18:19:53.877] [DEBUG] default - dc":[],"fixed_response":[],"forward":[],"order":true,"redirect":[],"target_group_arn":true}],"arn":true,"condition":[{"host_header":true,"http_header":[],"http_request_method":[],"path_pattern":true,"query_string":[],"source_ip":[],"values":[false]}],"id":true,"listener_arn":true}}},{"address":"aws_alb_target_group.sample-cdktf-alb-target-group","mode":"managed","type":"aws_alb_target_group","name":"sample-cdktf-alb-target-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"deregistration_delay":300,"health_check":[{"enabled":true,"healthy_threshold":3,"interval":30,"path":"/","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"lambda_multi_value_headers_enabled":false,"name":"sample-cdktf-alb-target-group","name_prefix":null,"port":80,"protocol":"HTTP","proxy_protocol_v2":false,"slow_start":0,"tags":null,"target_type":"ip"},"after_unknown":{"arn":true,"arn_suffix":true,"health_check":[{"matcher":true}],"id":true,"load_balancing_algorithm_type":true,"stickiness":true,"vpc_id":true}}},{"address":"aws_cloudwatch_event_rule.sample-cdktf-event-rule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"sample-cdktf-event-rule","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Capture each AWS ECR Update","event_pattern":"{\"detail\":{\"action-type\":[\"PUSH\"],\"result\":[\"SUCCESS\"]},\"detail-type\":[\"ECR Image Action\"],\"source\":[\"aws.ecr\"]}","is_enabled":true,"name":"capture-ecr-update","name_prefix":null,"role_arn":null,"schedule_expression":null,"tags":null},"after_unknown":{"arn":true,"id":true}}},{"address":"aws_cloudwatch_event_target.sample-cdktf-event-target","mode":"managed","type":"aws_cloudwatch_event_target","name":"sample-cdktf-event-target","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"batch_target":[],"ecs_target":[],"input":null,"input_path":null,"input_transformer":[],"kinesis_target":[],"role_arn":null,"rule":"capture-ecr-update","run_command_targets":[],"sqs_target":[],"target_id":"SendToSNS"},"after_unknown":{"arn":true,"batch_target":[],"ecs_target":[],"id":true,"input_transformer":[],"kinesis_target":[],"run_command_targets":[],"sqs_target":[]}}},{"address":"aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-notification-to-slack-log-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"kms_key_id":null,"name":"/aws/lambda/Sample-Lambda-Notification-to-Slack","name_prefix":null,"retention_in_days":0,"tags":null},"after_unknown":{"arn":true,"id":true}}},{"address":"aws_ecr_repository.sample-cdktf-repository","mode":"managed","type":"aws_ecr_repository","name":"sample-cdktf-repository","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"image_scanning_configuration":[],"image_tag_mutability":"MUTABLE","name":"project/sample-cdktf","tags":null,"timeouts":null},"after_unknown":{"arn":true,"id":true,"image_scanning_configuration":[],"registry_id":true,"repository_url":true}}},{"address":"aws_ecs_cluster.sample-cdktf-cluster","mode":"managed","type":"aws_ecs_cluster","name":"sample-cdktf-cluster","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"capacity_providers":null,"default_capacity_provider_strategy":[],"name":"sample-cdktf-cluster","tags":null},"after_unknown":{"arn":true,"default_capacity_provider_strategy":[],"id":true,"setting":true}}},{"address":"aws_ecs_service.sample-cdktf-ecs-service","mode":"managed","type":"aws_ecs_service","name":"sample-cdktf-ecs-service","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"capacity_provider_strategy":[],"deployment_controller":[],"deployment_maximum_percent":200,"deployment_minimum_healthy_percent":100,"desired_count":1,"enable_ecs_managed_tags":false,"force_new_deployment":null,"health_check_grace_period_seconds":null,"launch_type":"FARGATE","load_balancer":[{"container_name":"sample-cdktf-container","container_port":9000,"elb_name":""}],"name":"sample-cdktf-ecs-service","network_configuration":[{"assign_public_ip":false}],"ordered_placement_strategy":[],"placement_constraints":[],"platform_version":"LATEST","propagate_tags":null,"scheduling_strategy":"REPLICA","service_registries":[],"tags":null,"timeouts":null},"after_unknown":{"capacity_provider_strategy":[],"cluster":true,"deployment_controller":[],"iam_role":true,"id":true,"load_balancer":[{"target_group_arn":true}],"network_configuration":[{"security_groups":true,"subnets":true}],"ordered_placement_strategy":[],"placement_constraints":[],"placement_strategy":true,"service_registries":[],"task_definition":true}}},{"address":"aws_ecs_task_definition.sample-cdktf-task","mode":"managed","type":"aws_ecs_task_definition","name":"sample-cdktf-task","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cpu":"512","family":"task-for-cdktf","inference_accelerator":[],"ipc_mode":null,"memory":"1024","network_mode":"awsvpc","pid_mode":null,"placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":["FARGATE"],"tags":null,"volume":[]},"after_unknown":{"arn":true,"container_definitions":true,"execution_role_arn":true,"id":true,"inference_accelerator":[],"placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":[false],"revision":true,"task_role_arn":true,"volume":[]}}},{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"associate_with_private_ip":null,"customer_owned_ipv4_pool":null,"tags":null,"timeouts":null,"vpc":true},"after_unknown":{"allocation_id":true,"association_id":true,"customer_owned_ip":true,"domain":true,"id":true,"instance":true,"network_interface":true,"private_dns":true,"private_ip":true,"public_dns":true,"public_ip":true,"public_ipv4_pool":true}}},{"address":"aws_iam_policy.ecs-task-execution-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Policy for updating ECS tasks","name":"ecs-task-execution-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"},"after_unknown":{"arn":true,"id":true}}},{"address":"aws_iam_policy.ecs-task-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Policy for updating ECS tasks","name":"ecs-task-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecs:DescribeServices\",\n              \"ecs:CreateTaskSet\",\n              \"ecs:UpdateServicePrimaryTaskSet\",\n              \"ecs:DeleteTaskSet\",\n              \"elasticloadbalancing:DescribeTargetGroups\",\n              \"elasticloadbalancing:DescribeListeners\",\n              \"elasticloadbalancing:ModifyListener\",\n              \"elasticloadbalancing:DescribeRules\",\n              \"elasticloadbalancing:ModifyRule\",\n              \"lambda:InvokeFunction\",\n              \"cloudwatch:DescribeAlarms\",
[2022-11-16T18:19:53.877] [DEBUG] default - \n              \"sns:Publish\",\n              \"s3:GetObject\",\n              \"s3:GetObjectVersion\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"},"after_unknown":{"arn":true,"id":true}}},{"address":"aws_iam_policy.lambda-logging","mode":"managed","type":"aws_iam_policy","name":"lambda-logging","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"IAM policy for logging from a lambda","name":"sample-cdktf-lambda-logging","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"iam:PassRole\",\n              \"ecs:RegisterTaskDefinition\",\n              \"ecs:UpdateService\",\n              \"logs:CreateLogGroup\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\",\n              \"arn:aws:logs:*:*:*\",\n              \"arn:aws:ecs:*:*:*\",\n              \"arn:aws:iam::445682127642:role/sample-cdktf-ecsTaskExecutionRole\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"},"after_unknown":{"arn":true,"id":true}}},{"address":"aws_iam_role.ecsTaskExecutionRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\":    \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"sample-cdktf-ecsTaskExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"unique_id":true}}},{"address":"aws_iam_role.ecsTaskRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskRole","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\n        \"Version\": \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n          },\n          \"Effect\": \"Allow\",\n          \"Sid\": \"\"\n          }\n        ]\n      }","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"sample-cdktf-ecsTaskRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"unique_id":true}}},{"address":"aws_iam_role.lambdaExecutionRole","mode":"managed","type":"aws_iam_role","name":"lambdaExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": [\n                \"lambda.amazonaws.com\",\n                \"ecs-tasks.amazonaws.com\"\n              ]\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"sample-cdktf-lambdaExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"unique_id":true}}},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-execution-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"sample-cdktf-ecsTaskExecutionRole"},"after_unknown":{"id":true,"policy_arn":true}}},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"sample-cdktf-ecsTaskRole"},"after_unknown":{"id":true,"policy_arn":true}}},{"address":"aws_iam_role_policy_attachment.attach-lambda-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-lambda-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"sample-cdktf-lambdaExecutionRole"},"after_unknown":{"id":true,"policy_arn":true}}},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"tags":{"Name":"igw-production sample-cdktf"}},"after_unknown":{"arn":true,"id":true,"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"aws_lambda_function.Sample-Lambda-Notification-to-Slack","mode":"managed","type":"aws_lambda_function","name":"Sample-Lambda-Notification-to-Slack","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"dead_letter_config":[],"description":null,"environment":[{"variables":{"SLACK_API_TOKEN":"xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp","SLACK_CHANNEL":"C049CPNKHMJ"}}],"file_system_config":[],"filename":null,"function_name":"Sample-Lambda-Notification-to-Slack","handler":"index.handler","kms_key_arn":null,"layers":null,"memory_size":128,"publish":false,"reserved_concurrent_executions":-1,"runtime":"nodejs12.x","s3_bucket":"sample-cdktf-s3","s3_key":"notification-to-Slack-dist.zip","s3_object_version":null,"tags":null,"timeout":30,"timeouts":null,"vpc_config":[]},"after_unknown":{"arn":true,"dead_letter_config":[],"environment":[{"variables":{}}],"file_system_config":[],"id":true,"invoke_arn":true,"last_modified":true,"qualified_arn":true,"role":true,"source_code_hash":true,"source_code_size":true,"tracing_config":true,"version":true,"vpc_config":[]}}},{"address":"aws_lambda_permission.permission-to-sns","mode":"managed","type":"aws_lambda_permission","name":"permission-to-sns","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"Sample-Lambda-Notification-to-Slack","principal":"sns.amazonaws.com","qualifier":null,"source_account":null,"statement_id":"AllowExecutionFromSNS","statement_id_prefix":null},"after_unknown":{"id":true,"source_arn":true}}},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"tags":{"Name":"sample-cdktf nat-gateway-production"}},"after_unknown":{"allocation_id":true,"id":true,"network_interface_id":true,"private_ip":true,"public_ip":true,"subnet_id":true,"tags":{}}}},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Private rtb"}},"after_unknown":{"id":true,"owner_id":true,"propagating_vgws":true,"route":[{"nat_gateway_id":true}],"tags":{},"vpc_id":true}}},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name
[2022-11-16T18:19:53.877] [DEBUG] default - ":"sample-cdktf-public-rtb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Public rtb"}},"after_unknown":{"id":true,"owner_id":true,"propagating_vgws":true,"route":[{"gateway_id":true}],"tags":{},"vpc_id":true}}},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true}}},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true}}},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true}}},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true}}},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true}}},{"address":"aws_s3_bucket.sample-cdktf-s3","mode":"managed","type":"aws_s3_bucket","name":"sample-cdktf-s3","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"acl":"private","bucket":"sample-cdktf-s3","bucket_prefix":null,"cors_rule":[],"force_destroy":false,"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":null,"region":"ap-northeast-1","replication_configuration":[],"server_side_encryption_configuration":[],"tags":null,"website":[]},"after_unknown":{"acceleration_status":true,"arn":true,"bucket_domain_name":true,"bucket_regional_domain_name":true,"cors_rule":[],"grant":[],"hosted_zone_id":true,"id":true,"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"request_payer":true,"server_side_encryption_configuration":[],"versioning":true,"website":[],"website_domain":true,"website_endpoint":true}}},{"address":"aws_s3_bucket_object.notification-to-Slack-distzip","mode":"managed","type":"aws_s3_bucket_object","name":"notification-to-Slack-distzip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"acl":"private","bucket":"sample-cdktf-s3","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"content_type":"zip","force_destroy":false,"key":"notification-to-Slack-dist.zip","kms_key_id":null,"metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip","tags":null,"website_redirect":null},"after_unknown":{"etag":true,"id":true,"server_side_encryption":true,"storage_class":true,"version_id":true}}},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Managed by Terraform","name":"sample-cdktf","name_prefix":null,"revoke_rules_on_delete":false,"tags":{"Name":"sample-cdktf"},"timeouts":null},"after_unknown":{"arn":true,"egress":true,"id":true,"ingress":true,"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","self":false,"to_port":0,"type":"egress"},"after_unknown":{"cidr_blocks":[false],"id":true,"security_group_id":true,"source_security_group_id":true}}},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":80,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","self":false,"to_port":80,"type":"ingress"},"after_unknown":{"cidr_blocks":[false],"id":true,"security_group_id":true,"source_security_group_id":true}}},{"address":"aws_sns_topic.sample-cdktf-sns","mode":"managed","type":"aws_sns_topic","name":"sample-cdktf-sns","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"delivery_policy":null,"display_name":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"kms_master_key_id":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"sample-cdktf-sns","name_prefix":null,"sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":null},"after_unknown":{"arn":true,"id":true,"policy":true}}},{"address":"aws_sns_topic_policy.sample-cdktf-sns-policy","mode":"managed","type":"aws_sns_topic_policy","name":"sample-cdktf-sns-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": {\n          \"Effect\": \"Allow\",\n          \"Sid\":    \"\",\n          \"Principal\": {\n            \"Service\": \"events.amazonaws.com\"\n          },\n          \"Action\": [\n            \"SNS:Publish\"\n          ],\n          \"Resource\": [\n            \"*\"\n          ]\n        }\n      }"},"after_unknown":{"arn":true,"id":true}}},{"address":"aws_sns_topic_subscription.sample-cdktf-sns-subscription","mode":"managed","type":"aws_sns_topic_subscription","name":"sample-cdktf-sns-subscription","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"confirmation_timeout_in_minutes":1,"delivery_policy":null,"endpoint_auto_confirms":false,"filter_policy":null,"protocol":"lambda","raw_message_delivery":false},"after_unknown":{"arn":true,"endpoint":true,"id":true,"topic_arn":true}}},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_
[2022-11-16T18:19:53.877] [DEBUG] default - zone":"ap-northeast-1a","cidr_block":"10.0.128.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Private1 AZ1a sample-cdktf"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","cidr_block":"10.0.144.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Private2 AZ1c sample-cdktf"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","cidr_block":"10.0.0.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Public1 AZ1a sample-cdktf"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","cidr_block":"10.0.16.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Public2 AZ1c sample-cdktf"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","tags":{"Name":"sample-cdktf production"}},"after_unknown":{"arn":true,"default_network_acl_id":true,"default_route_table_id":true,"default_security_group_id":true,"dhcp_options_id":true,"enable_classiclink":true,"enable_classiclink_dns_support":true,"id":true,"ipv6_association_id":true,"ipv6_cidr_block":true,"main_route_table_id":true,"owner_id":true,"tags":{}}}}],"configuration":{"provider_config":{"aws":{"name":"aws","version_constraint":"~\u003e 2.0","expressions":{"region":{"constant_value":"ap-northeast-1"}}}},"root_module":{"resources":[{"address":"aws_alb.sample-cdktf-alb","mode":"managed","type":"aws_alb","name":"sample-cdktf-alb","provider_config_key":"aws","expressions":{"enable_deletion_protection":{"constant_value":false},"enable_http2":{"constant_value":true},"internal":{"constant_value":false},"ip_address_type":{"constant_value":"ipv4"},"load_balancer_type":{"constant_value":"application"},"name":{"constant_value":"sample-cdktf-alb"},"security_groups":{"constant_value":["${aws_security_group.sample-cdktf-security-group.id}","${aws_vpc.sample-cdktf-vpc.default_security_group_id}"],"references":["aws_security_group.sample-cdktf-security-group","aws_vpc.sample-cdktf-vpc"]},"subnets":{"constant_value":["${aws_subnet.sample-cdktf-public-subnet1.id}","${aws_subnet.sample-cdktf-public-subnet2.id}"],"references":["aws_subnet.sample-cdktf-public-subnet1","aws_subnet.sample-cdktf-public-subnet2"]}},"schema_version":0},{"address":"aws_alb_listener.sample-cdktf-alb-listener","mode":"managed","type":"aws_alb_listener","name":"sample-cdktf-alb-listener","provider_config_key":"aws","expressions":{"default_action":[{"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]},"type":{"constant_value":"forward"}}],"load_balancer_arn":{"constant_value":"${aws_alb.sample-cdktf-alb.arn}","references":["aws_alb.sample-cdktf-alb"]},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"}},"schema_version":0},{"address":"aws_alb_listener_rule.sample-cdktf-alb-listener-rule","mode":"managed","type":"aws_alb_listener_rule","name":"sample-cdktf-alb-listener-rule","provider_config_key":"aws","expressions":{"action":[{"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]},"type":{"constant_value":"forward"}}],"condition":[{"field":{"constant_value":"path-pattern"},"values":{"constant_value":["*"]}}],"listener_arn":{"constant_value":"${aws_alb_listener.sample-cdktf-alb-listener.arn}","references":["aws_alb_listener.sample-cdktf-alb-listener"]},"priority":{"constant_value":100}},"schema_version":0},{"address":"aws_alb_target_group.sample-cdktf-alb-target-group","mode":"managed","type":"aws_alb_target_group","name":"sample-cdktf-alb-target-group","provider_config_key":"aws","expressions":{"health_check":[{"interval":{"constant_value":30},"path":{"constant_value":"/"},"port":{"constant_value":"traffic-port"},"protocol":{"constant_value":"HTTP"},"timeout":{"constant_value":5},"unhealthy_threshold":{"constant_value":2}}],"name":{"constant_value":"sample-cdktf-alb-target-group"},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"},"target_type":{"constant_value":"ip"},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0,"depends_on":["aws_alb.sample-cdktf-alb"]},{"address":"aws_cloudwatch_event_rule.sample-cdktf-event-rule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"sample-cdktf-event-rule","provider_config_key":"aws","expressions":{"description":{"constant_value":"Capture each AWS ECR Update"},"event_pattern":{"constant_value":"{\n        \"source\": [\"aws.ecr\"],\n        \"detail-type\": [\"ECR Image Action\"],\n        \"detail\": {\n          \"action-type\": [\"PUSH\"],\n          \"result\": [\"SUCCESS\"]\n        }\n      }"},"name":{"constant_value":"capture-ecr-update"}},"schema_version":0},{"address":"aws_cloudwatch_event_target.sample-cdktf-event-target","mode":"managed","type":"aws_cloudwatch_event_target","name":"sample-cdktf-event-target","provider_config_key":"aws","expressions":{"arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"rule":{"constant_value":"${aws_cloudwatch_event_rule.sample-cdktf-event-rule.name}","references":["aws_cloudwatch_event_rule.sample-cdktf-event-rule"]},"target_id":{"constant_value":"SendToSNS"}},"schema_version":0},{"address":"aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-notification-to-slack-log-group","provider_config_key":"aws","expressions":{"name":{"constant_value":"/aws/lambda/${aws_lambda_function.Sample-Lambda-Notification-to-Slack.function_name}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]}},"schema_version":0},{"address":"aws_ecr_repository.sample-cdktf-repository","mode":"managed","type":"aws_ecr_repository","name":"sample-cdktf-repository","provider_config_key":"aws","expressions":{"name":{"constant_value":"project/sample-cdktf"}},"schema_version":0},{"address":"aws_ecs_cluster.sample-cdktf-cluster","mode":"managed","type":"aws_ecs_cluster","name":"sample-cdktf-cluster","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf-cluster"}},"schema_version":0},{"address":"aws_ecs_service.sample-cdktf-ecs-service","mode":"managed","type":"aws_ecs_service","name":"sampl
[2022-11-16T18:19:53.877] [DEBUG] default - e-cdktf-ecs-service","provider_config_key":"aws","expressions":{"cluster":{"constant_value":"${aws_ecs_cluster.sample-cdktf-cluster.id}","references":["aws_ecs_cluster.sample-cdktf-cluster"]},"deployment_maximum_percent":{"constant_value":200},"deployment_minimum_healthy_percent":{"constant_value":100},"desired_count":{"constant_value":1},"launch_type":{"constant_value":"FARGATE"},"load_balancer":[{"container_name":{"constant_value":"sample-cdktf-container"},"container_port":{"constant_value":9000},"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]}}],"name":{"constant_value":"sample-cdktf-ecs-service"},"network_configuration":[{"security_groups":{"constant_value":["${aws_vpc.sample-cdktf-vpc.default_security_group_id}"],"references":["aws_vpc.sample-cdktf-vpc"]},"subnets":{"constant_value":["${aws_subnet.sample-cdktf-private-subnet1.id}"],"references":["aws_subnet.sample-cdktf-private-subnet1"]}}],"platform_version":{"constant_value":"LATEST"},"task_definition":{"constant_value":"${aws_ecs_task_definition.sample-cdktf-task.id}","references":["aws_ecs_task_definition.sample-cdktf-task"]}},"schema_version":0},{"address":"aws_ecs_task_definition.sample-cdktf-task","mode":"managed","type":"aws_ecs_task_definition","name":"sample-cdktf-task","provider_config_key":"aws","expressions":{"container_definitions":{"constant_value":"[\n      {\n        \"essential\":    true,\n        \"name\":         \"sample-cdktf-container\",\n        \"image\":        \"${aws_ecr_repository.sample-cdktf-repository.repository_url}:latest\",\n        \"portMappings\": [\n          {\n            \"hostPort\":      9000,\n            \"protocol\":      \"tcp\",\n            \"containerPort\": 9000\n          }\n        ],\n        \"logConfiguration\": {\n          \"logDriver\": \"awslogs\",\n          \"options\": {\n            \"awslogs-group\":         \"/aws/ecs/sample-cdktf-task\",\n            \"awslogs-stream-prefix\": \"ecs\",\n            \"awslogs-region\":        \"ap-northeast-1\"\n          }\n        }\n      }\n    ]","references":["aws_ecr_repository.sample-cdktf-repository"]},"cpu":{"constant_value":"512"},"execution_role_arn":{"constant_value":"${aws_iam_role.ecsTaskExecutionRole.arn}","references":["aws_iam_role.ecsTaskExecutionRole"]},"family":{"constant_value":"task-for-cdktf"},"memory":{"constant_value":"1024"},"network_mode":{"constant_value":"awsvpc"},"requires_compatibilities":{"constant_value":["FARGATE"]},"task_role_arn":{"constant_value":"${aws_iam_role.ecsTaskRole.arn}","references":["aws_iam_role.ecsTaskRole"]}},"schema_version":1},{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_config_key":"aws","expressions":{"vpc":{"constant_value":true}},"schema_version":0},{"address":"aws_iam_policy.ecs-task-execution-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-execution-policy","provider_config_key":"aws","expressions":{"description":{"constant_value":"Policy for updating ECS tasks"},"name":{"constant_value":"ecs-task-execution-policy"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_policy.ecs-task-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-policy","provider_config_key":"aws","expressions":{"description":{"constant_value":"Policy for updating ECS tasks"},"name":{"constant_value":"ecs-task-policy"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecs:DescribeServices\",\n              \"ecs:CreateTaskSet\",\n              \"ecs:UpdateServicePrimaryTaskSet\",\n              \"ecs:DeleteTaskSet\",\n              \"elasticloadbalancing:DescribeTargetGroups\",\n              \"elasticloadbalancing:DescribeListeners\",\n              \"elasticloadbalancing:ModifyListener\",\n              \"elasticloadbalancing:DescribeRules\",\n              \"elasticloadbalancing:ModifyRule\",\n              \"lambda:InvokeFunction\",\n              \"cloudwatch:DescribeAlarms\",\n              \"sns:Publish\",\n              \"s3:GetObject\",\n              \"s3:GetObjectVersion\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_policy.lambda-logging","mode":"managed","type":"aws_iam_policy","name":"lambda-logging","provider_config_key":"aws","expressions":{"description":{"constant_value":"IAM policy for logging from a lambda"},"name":{"constant_value":"sample-cdktf-lambda-logging"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"iam:PassRole\",\n              \"ecs:RegisterTaskDefinition\",\n              \"ecs:UpdateService\",\n              \"logs:CreateLogGroup\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\",\n              \"arn:aws:logs:*:*:*\",\n              \"arn:aws:ecs:*:*:*\",\n              \"arn:aws:iam::445682127642:role/sample-cdktf-ecsTaskExecutionRole\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_role.ecsTaskExecutionRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskExecutionRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\":    \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-ecsTaskExecutionRole"}},"schema_version":0},{"address":"aws_iam_role.ecsTaskRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\": \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n          },\n          \"Effect\": \"Allow\",\n          \"Sid\": \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-ecsTaskRole"}},"schema_version":0},{"address":"aws_iam_role.lambdaExecutionRole","mode":"managed","type":"aws_iam_role","name":"lambdaExecutionRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": [\n                \"lambda.amazonaws.com\",\n                \"ecs-tasks.amazonaws.com\"\n              ]\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-lambdaExecutionRole"}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-execution-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-execution-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.ecs-task-execution-policy.arn}","references":["aws_iam_policy.ecs-task-execution-policy"]},"role
[2022-11-16T18:19:53.877] [DEBUG] default - ":{"constant_value":"${aws_iam_role.ecsTaskExecutionRole.name}","references":["aws_iam_role.ecsTaskExecutionRole"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.ecs-task-policy.arn}","references":["aws_iam_policy.ecs-task-policy"]},"role":{"constant_value":"${aws_iam_role.ecsTaskRole.name}","references":["aws_iam_role.ecsTaskRole"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-lambda-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-lambda-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.lambda-logging.arn}","references":["aws_iam_policy.lambda-logging"]},"role":{"constant_value":"${aws_iam_role.lambdaExecutionRole.name}","references":["aws_iam_role.lambdaExecutionRole"]}},"schema_version":0},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_config_key":"aws","expressions":{"tags":{"constant_value":{"Name":"igw-production sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_lambda_function.Sample-Lambda-Notification-to-Slack","mode":"managed","type":"aws_lambda_function","name":"Sample-Lambda-Notification-to-Slack","provider_config_key":"aws","expressions":{"environment":[{"variables":{"constant_value":{"SLACK_API_TOKEN":"xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp","SLACK_CHANNEL":"C049CPNKHMJ"}}}],"function_name":{"constant_value":"Sample-Lambda-Notification-to-Slack"},"handler":{"constant_value":"index.handler"},"role":{"constant_value":"${aws_iam_role.lambdaExecutionRole.arn}","references":["aws_iam_role.lambdaExecutionRole"]},"runtime":{"constant_value":"nodejs12.x"},"s3_bucket":{"constant_value":"${aws_s3_bucket.sample-cdktf-s3.bucket}","references":["aws_s3_bucket.sample-cdktf-s3"]},"s3_key":{"constant_value":"${aws_s3_bucket_object.notification-to-Slack-distzip.key}","references":["aws_s3_bucket_object.notification-to-Slack-distzip"]},"timeout":{"constant_value":30}},"schema_version":0},{"address":"aws_lambda_permission.permission-to-sns","mode":"managed","type":"aws_lambda_permission","name":"permission-to-sns","provider_config_key":"aws","expressions":{"action":{"constant_value":"lambda:InvokeFunction"},"function_name":{"constant_value":"${aws_lambda_function.Sample-Lambda-Notification-to-Slack.function_name}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]},"principal":{"constant_value":"sns.amazonaws.com"},"source_arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"statement_id":{"constant_value":"AllowExecutionFromSNS"}},"schema_version":0},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_config_key":"aws","expressions":{"allocation_id":{"constant_value":"${aws_eip.sample-cdktf-eip.id}","references":["aws_eip.sample-cdktf-eip"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]},"tags":{"constant_value":{"Name":"sample-cdktf nat-gateway-production"}}},"schema_version":0},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_config_key":"aws","expressions":{"route":{"constant_value":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"${aws_nat_gateway.sample-cdktf-nat-gateway.id}","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"references":["aws_nat_gateway.sample-cdktf-nat-gateway"]},"tags":{"constant_value":{"Name":"sample-cdktf Private rtb"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_config_key":"aws","expressions":{"route":{"constant_value":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"${aws_internet_gateway.sample-cdktf-igw-production.id}","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"references":["aws_internet_gateway.sample-cdktf-igw-production"]},"tags":{"constant_value":{"Name":"sample-cdktf Public rtb"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-private-rtb.id}","references":["aws_route_table.sample-cdktf-private-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-private-subnet1.id}","references":["aws_subnet.sample-cdktf-private-subnet1"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-private-rtb.id}","references":["aws_route_table.sample-cdktf-private-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-private-subnet2.id}","references":["aws_subnet.sample-cdktf-private-subnet2"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet2.id}","references":["aws_subnet.sample-cdktf-public-subnet2"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]}},"schema_version":0},{"address":"aws_s3_bucket.sample-cdktf-s3","mode":"managed","type":"aws_s3_bucket","name":"sample-cdktf-s3","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"sample-cdktf-s3"},"region":{"constant_value":"ap-northeast-1"}},"schema_version":0},{"address":"aws_s3_bucket_object.notification-to-Slack-distzip","mode":"managed","type":"aws_s3_bucket_object","name":"notification-to-Slack-distzip","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"${aws_s3_bucket.sample-cdktf-s3.bucket}","references":["aws_s3_bucket.sample-cdktf-s3"]},"content_type":{"constant_value":"zip"},"key":{"constant_value":"notification-to-S
[2022-11-16T18:19:53.877] [DEBUG] default - lack-dist.zip"},"source":{"constant_value":"/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip"}},"schema_version":0},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf"},"tags":{"constant_value":{"Name":"sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":0},"protocol":{"constant_value":"all"},"security_group_id":{"constant_value":"${aws_security_group.sample-cdktf-security-group.id}","references":["aws_security_group.sample-cdktf-security-group"]},"to_port":{"constant_value":0},"type":{"constant_value":"egress"}},"schema_version":2},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":80},"protocol":{"constant_value":"tcp"},"security_group_id":{"constant_value":"${aws_security_group.sample-cdktf-security-group.id}","references":["aws_security_group.sample-cdktf-security-group"]},"to_port":{"constant_value":80},"type":{"constant_value":"ingress"}},"schema_version":2},{"address":"aws_sns_topic.sample-cdktf-sns","mode":"managed","type":"aws_sns_topic","name":"sample-cdktf-sns","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf-sns"}},"schema_version":0},{"address":"aws_sns_topic_policy.sample-cdktf-sns-policy","mode":"managed","type":"aws_sns_topic_policy","name":"sample-cdktf-sns-policy","provider_config_key":"aws","expressions":{"arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": {\n          \"Effect\": \"Allow\",\n          \"Sid\":    \"\",\n          \"Principal\": {\n            \"Service\": \"events.amazonaws.com\"\n          },\n          \"Action\": [\n            \"SNS:Publish\"\n          ],\n          \"Resource\": [\n            \"*\"\n          ]\n        }\n      }"}},"schema_version":0},{"address":"aws_sns_topic_subscription.sample-cdktf-sns-subscription","mode":"managed","type":"aws_sns_topic_subscription","name":"sample-cdktf-sns-subscription","provider_config_key":"aws","expressions":{"endpoint":{"constant_value":"${aws_lambda_function.Sample-Lambda-Notification-to-Slack.arn}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]},"protocol":{"constant_value":"lambda"},"topic_arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]}},"schema_version":0},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1a"},"cidr_block":{"constant_value":"10.0.128.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Private1 AZ1a sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1c"},"cidr_block":{"constant_value":"10.0.144.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Private2 AZ1c sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1a"},"cidr_block":{"constant_value":"10.0.0.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Public1 AZ1a sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1c"},"cidr_block":{"constant_value":"10.0.16.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Public2 AZ1c sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_config_key":"aws","expressions":{"cidr_block":{"constant_value":"10.0.0.0/16"},"enable_dns_hostnames":{"constant_value":true},"tags":{"constant_value":{"Name":"sample-cdktf production"}}},"schema_version":1}]}}}

[2022-11-16T18:24:16.245] [DEBUG] default - [0m[1maws_vpc.sample-cdktf-vpc: Creating...[0m[0m
[0m[1maws_iam_policy.ecs-task-execution-policy: Creating...[0m[0m
[0m[1maws_eip.sample-cdktf-eip: Creating...[0m[0m
[0m[1maws_sns_topic.sample-cdktf-sns: Creating...[0m[0m
[0m[1maws_iam_role.ecsTaskRole: Creating...[0m[0m
[0m[1maws_ecs_cluster.sample-cdktf-cluster: Creating...[0m[0m
[0m[1maws_cloudwatch_event_rule.sample-cdktf-event-rule: Creating...[0m[0m
[0m[1maws_iam_role.lambdaExecutionRole: Creating...[0m[0m
[0m[1maws_iam_policy.lambda-logging: Creating...[0m[0m
[0m[1maws_iam_policy.ecs-task-policy: Creating...[0m[0m

[2022-11-16T18:24:16.778] [DEBUG] default - [0m[1maws_cloudwatch_event_rule.sample-cdktf-event-rule: Creation complete after 1s [id=capture-ecr-update][0m[0m

[2022-11-16T18:24:16.881] [DEBUG] default - [0m[1maws_sns_topic.sample-cdktf-sns: Creation complete after 1s [id=arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns][0m[0m
[0m[1maws_ecr_repository.sample-cdktf-repository: Creating...[0m[0m
[0m[1maws_s3_bucket.sample-cdktf-s3: Creating...[0m[0m

[2022-11-16T18:24:16.986] [DEBUG] default - [0m[1maws_eip.sample-cdktf-eip: Creation complete after 1s [id=eipalloc-0bd25815a9b536abe][0m[0m
[0m[1maws_sns_topic_policy.sample-cdktf-sns-policy: Creating...[0m[0m

[2022-11-16T18:24:17.303] [DEBUG] default - [0m[1maws_sns_topic_policy.sample-cdktf-sns-policy: Creation complete after 0s [id=arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns][0m[0m

[2022-11-16T18:24:17.350] [DEBUG] default - [0m[1maws_cloudwatch_event_target.sample-cdktf-event-target: Creating...[0m[0m

[2022-11-16T18:24:17.487] [DEBUG] default - [0m[1maws_ecr_repository.sample-cdktf-repository: Creation complete after 0s [id=project/sample-cdktf][0m[0m

[2022-11-16T18:24:17.576] [DEBUG] default - [0m[1maws_iam_role.ecsTaskExecutionRole: Creating...[0m[0m

[2022-11-16T18:24:17.659] [DEBUG] default - [0m[1maws_cloudwatch_event_target.sample-cdktf-event-target: Creation complete after 1s [id=capture-ecr-update-SendToSNS][0m[0m

[2022-11-16T18:24:17.827] [DEBUG] default - [0m[1maws_iam_role.lambdaExecutionRole: Creation complete after 2s [id=sample-cdktf-lambdaExecutionRole][0m[0m

[2022-11-16T18:24:17.964] [DEBUG] default - [0m[1maws_iam_role.ecsTaskRole: Creation complete after 2s [id=sample-cdktf-ecsTaskRole][0m[0m

[2022-11-16T18:24:18.608] [DEBUG] default - [0m[1maws_iam_policy.lambda-logging: Creation complete after 3s [id=arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging][0m[0m

[2022-11-16T18:24:18.680] [DEBUG] default - [0m[1maws_iam_policy.ecs-task-execution-policy: Creation complete after 3s [id=arn:aws:iam::574185952087:policy/ecs-task-execution-policy][0m[0m
[0m[1maws_iam_policy.ecs-task-policy: Creation complete after 3s [id=arn:aws:iam::574185952087:policy/ecs-task-policy][0m[0m
[0m[1maws_iam_role_policy_attachment.attach-lambda-policy: Creating...[0m[0m
[0m[1maws_iam_role_policy_attachment.attach-ecs-task-policy: Creating...[0m[0m

[2022-11-16T18:24:19.090] [DEBUG] default - [0m[1maws_iam_role.ecsTaskExecutionRole: Creation complete after 2s [id=sample-cdktf-ecsTaskExecutionRole][0m[0m

[2022-11-16T18:24:19.144] [DEBUG] default - [0m[1maws_iam_role_policy_attachment.attach-ecs-task-execution-policy: Creating...[0m[0m
[0m[1maws_ecs_task_definition.sample-cdktf-task: Creating...[0m[0m

[2022-11-16T18:24:19.469] [DEBUG] default - [0m[1maws_vpc.sample-cdktf-vpc: Creation complete after 3s [id=vpc-0124a9ee8412e1d9b][0m[0m

[2022-11-16T18:24:19.491] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-private-subnet1: Creating...[0m[0m
[0m[1maws_subnet.sample-cdktf-private-subnet2: Creating...[0m[0m
[0m[1maws_security_group.sample-cdktf-security-group: Creating...[0m[0m
[0m[1maws_subnet.sample-cdktf-public-subnet1: Creating...[0m[0m

[2022-11-16T18:24:19.513] [DEBUG] default - [0m[1maws_ecs_task_definition.sample-cdktf-task: Creation complete after 1s [id=task-for-cdktf][0m[0m

[2022-11-16T18:24:19.584] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Creating...[0m[0m

[2022-11-16T18:24:20.149] [DEBUG] default - [0m[1maws_s3_bucket.sample-cdktf-s3: Creation complete after 3s [id=sample-cdktf-s3][0m[0m

[2022-11-16T18:24:20.171] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Creating...[0m[0m

[2022-11-16T18:24:20.238] [DEBUG] default - [0m[1maws_iam_role_policy_attachment.attach-lambda-policy: Creation complete after 1s [id=sample-cdktf-lambdaExecutionRole-20221116092419465600000001][0m[0m

[2022-11-16T18:24:20.259] [DEBUG] default - [0m[1maws_iam_role_policy_attachment.attach-ecs-task-policy: Creation complete after 1s [id=sample-cdktf-ecsTaskRole-20221116092419490100000002][0m[0m

[2022-11-16T18:24:20.281] [DEBUG] default - [0m[1maws_s3_bucket_object.notification-to-Slack-distzip: Creating...[0m[0m

[2022-11-16T18:24:20.665] [DEBUG] default - [0m[1maws_iam_role_policy_attachment.attach-ecs-task-execution-policy: Creation complete after 2s [id=sample-cdktf-ecsTaskExecutionRole-20221116092419890400000003][0m[0m

[2022-11-16T18:24:20.739] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Creation complete after 1s [id=igw-05ef7fb8a54648a63][0m[0m

[2022-11-16T18:24:20.761] [DEBUG] default - [0m[1maws_route_table.sample-cdktf-public-rtb: Creating...[0m[0m

[2022-11-16T18:24:20.995] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-private-subnet2: Creation complete after 2s [id=subnet-08c4deb7be1b5ee4b][0m[0m

[2022-11-16T18:24:21.016] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Creation complete after 2s [id=subnet-0e45f721f19d52e0f][0m[0m

[2022-11-16T18:24:21.038] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Creating...[0m[0m

[2022-11-16T18:24:21.246] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-private-subnet1: Creation complete after 2s [id=subnet-0743c220739ac7691][0m[0m

[2022-11-16T18:24:21.745] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Creation complete after 2s [id=subnet-01a15eef674d6d393][0m[0m

[2022-11-16T18:24:21.906] [DEBUG] default - [0m[1maws_route_table.sample-cdktf-public-rtb: Creation complete after 1s [id=rtb-01300728c476b4aa8][0m[0m

[2022-11-16T18:24:21.928] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-public-rtb-association2: Creating...[0m[0m

[2022-11-16T18:24:21.973] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-public-rtb-association1: Creating...[0m[0m
[0m[1maws_route_table_association.sample-cdktf-public-rtb1: Creating...[0m[0m

[2022-11-16T18:24:22.083] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Creation complete after 3s [id=sg-0d6d5af2d88a65cba][0m[0m

[2022-11-16T18:24:22.104] [DEBUG] default - [0m[1maws_security_group_rule.sample-cdktf-security-egress: Creating...[0m[0m
[0m[1maws_security_group_rule.sample-cdktf-security-ingress: Creating...[0m[0m
[0m[1maws_alb.sample-cdktf-alb: Creating...[0m[0m

[2022-11-16T18:24:22.234] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-public-rtb1: Creation complete after 0s [id=rtbassoc-0b5bc62b8cfda0c82][0m[0m

[2022-11-16T18:24:22.309] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-public-rtb-association2: Creation complete after 0s [id=rtbassoc-087fea5aae1dae3b1][0m[0m

[2022-11-16T18:24:22.331] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-public-rtb-association1: Creation complete after 0s [id=rtbassoc-0b5bc62b8cfda0c82][0m[0m

[2022-11-16T18:24:23.368] [DEBUG] default - [0m[1maws_security_group_rule.sample-cdktf-security-egress: Creation complete after 1s [id=sgrule-953716971][0m[0m

[2022-11-16T18:24:24.487] [DEBUG] default - [0m[1maws_security_group_rule.sample-cdktf-security-ingress: Creation complete after 2s [id=sgrule-2777507381][0m[0m

[2022-11-16T18:24:24.649] [DEBUG] default - [0m[1maws_s3_bucket_object.notification-to-Slack-distzip: Creation complete after 5s [id=notification-to-Slack-dist.zip][0m[0m

[2022-11-16T18:24:24.674] [DEBUG] default - [0m[1maws_lambda_function.Sample-Lambda-Notification-to-Slack: Creating...[0m[0m

[2022-11-16T18:24:26.224] [DEBUG] default - [0m[1maws_ecs_cluster.sample-cdktf-cluster: Still creating... [10s elapsed][0m[0m

[2022-11-16T18:24:26.958] [DEBUG] default - [0m[1maws_ecs_cluster.sample-cdktf-cluster: Creation complete after 11s [id=arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster][0m[0m

[2022-11-16T18:24:31.020] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [10s elapsed][0m[0m

[2022-11-16T18:24:32.120] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [10s elapsed][0m[0m

[2022-11-16T18:24:34.675] [DEBUG] default - [0m[1maws_lambda_function.Sample-Lambda-Notification-to-Slack: Still creating... [10s elapsed][0m[0m

[2022-11-16T18:24:40.341] [DEBUG] default - [0m[1maws_lambda_function.Sample-Lambda-Notification-to-Slack: Creation complete after 15s [id=Sample-Lambda-Notification-to-Slack][0m[0m

[2022-11-16T18:24:40.387] [DEBUG] default - [0m[1maws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group: Creating...[0m[0m
[0m[1maws_sns_topic_subscription.sample-cdktf-sns-subscription: Creating...[0m[0m
[0m[1maws_lambda_permission.permission-to-sns: Creating...[0m[0m

[2022-11-16T18:24:40.710] [DEBUG] default - [0m[1maws_lambda_permission.permission-to-sns: Creation complete after 1s [id=AllowExecutionFromSNS][0m[0m

[2022-11-16T18:24:40.837] [DEBUG] default - [0m[1maws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group: Creation complete after 1s [id=/aws/lambda/Sample-Lambda-Notification-to-Slack][0m[0m

[2022-11-16T18:24:40.931] [DEBUG] default - [0m[1maws_sns_topic_subscription.sample-cdktf-sns-subscription: Creation complete after 1s [id=arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:69445dc8-254a-4d5b-a6f5-939b5d97662d][0m[0m

[2022-11-16T18:24:41.021] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [20s elapsed][0m[0m

[2022-11-16T18:24:42.121] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [20s elapsed][0m[0m

[2022-11-16T18:24:51.022] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [30s elapsed][0m[0m

[2022-11-16T18:24:52.095] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [30s elapsed][0m[0m

[2022-11-16T18:25:01.024] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [40s elapsed][0m[0m

[2022-11-16T18:25:02.096] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [40s elapsed][0m[0m

[2022-11-16T18:25:11.025] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [50s elapsed][0m[0m

[2022-11-16T18:25:12.097] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [50s elapsed][0m[0m

[2022-11-16T18:25:21.027] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [1m0s elapsed][0m[0m

[2022-11-16T18:25:22.098] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [1m0s elapsed][0m[0m

[2022-11-16T18:25:31.040] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [1m10s elapsed][0m[0m

[2022-11-16T18:25:32.099] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [1m10s elapsed][0m[0m

[2022-11-16T18:25:41.027] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [1m20s elapsed][0m[0m

[2022-11-16T18:25:42.100] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [1m20s elapsed][0m[0m

[2022-11-16T18:25:51.035] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [1m30s elapsed][0m[0m

[2022-11-16T18:25:52.101] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [1m30s elapsed][0m[0m

[2022-11-16T18:26:01.029] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [1m40s elapsed][0m[0m

[2022-11-16T18:26:02.101] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [1m40s elapsed][0m[0m

[2022-11-16T18:26:11.038] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [1m50s elapsed][0m[0m

[2022-11-16T18:26:12.102] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [1m50s elapsed][0m[0m

[2022-11-16T18:26:17.538] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Creation complete after 1m57s [id=nat-0dfe6ef7ac5a83c7c][0m[0m

[2022-11-16T18:26:17.585] [DEBUG] default - [0m[1maws_route_table.sample-cdktf-private-rtb: Creating...[0m[0m

[2022-11-16T18:26:18.911] [DEBUG] default - [0m[1maws_route_table.sample-cdktf-private-rtb: Creation complete after 1s [id=rtb-0284a91de70be2e39][0m[0m

[2022-11-16T18:26:18.960] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-private-rtb-association2: Creating...[0m[0m
[0m[1maws_route_table_association.sample-cdktf-private-rtb-association1: Creating...[0m[0m

[2022-11-16T18:26:19.254] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-private-rtb-association1: Creation complete after 0s [id=rtbassoc-003904c78d715ab92][0m[0m

[2022-11-16T18:26:19.302] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-private-rtb-association2: Creation complete after 0s [id=rtbassoc-03dbdaf89fa976118][0m[0m

[2022-11-16T18:26:22.103] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [2m0s elapsed][0m[0m

[2022-11-16T18:26:32.120] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [2m10s elapsed][0m[0m

[2022-11-16T18:26:36.158] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Creation complete after 2m14s [id=arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:loadbalancer/app/sample-cdktf-alb/7e2e9330b1fba9da][0m[0m

[2022-11-16T18:26:36.180] [DEBUG] default - [0m[1maws_alb_target_group.sample-cdktf-alb-target-group: Creating...[0m[0m

[2022-11-16T18:26:37.501] [DEBUG] default - [0m[1maws_alb_target_group.sample-cdktf-alb-target-group: Creation complete after 2s [id=arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/969e4021562599b2][0m[0m

[2022-11-16T18:26:37.549] [DEBUG] default - [0m[1maws_alb_listener.sample-cdktf-alb-listener: Creating...[0m[0m
[0m[1maws_ecs_service.sample-cdktf-ecs-service: Creating...[0m[0m

[2022-11-16T18:26:37.840] [DEBUG] default - [0m[1maws_alb_listener.sample-cdktf-alb-listener: Creation complete after 0s [id=arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener/app/sample-cdktf-alb/7e2e9330b1fba9da/0d1c67af53115f96][0m[0m

[2022-11-16T18:26:37.904] [DEBUG] default - [0m[1maws_alb_listener_rule.sample-cdktf-alb-listener-rule: Creating...[0m[0m

[2022-11-16T18:26:38.216] [DEBUG] default - [0m[1maws_alb_listener_rule.sample-cdktf-alb-listener-rule: Creation complete after 0s [id=arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener-rule/app/sample-cdktf-alb/7e2e9330b1fba9da/0d1c67af53115f96/7cd145dae2183fd1][0m[0m

[2022-11-16T18:26:38.418] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Creation complete after 0s [id=arn:aws:ecs:ap-northeast-1:574185952087:service/sample-cdktf-cluster/sample-cdktf-ecs-service][0m[0m

[2022-11-16T18:26:38.474] [DEBUG] default - [0m[1m[32m
Apply complete! Resources: 45 added, 0 changed, 0 destroyed.[0m
[0m
The state of your infrastructure has been saved to the path
below. This state is required to modify and destroy your
infrastructure, so keep it safe. To inspect the complete state
use the `terraform show` command.

State path: terraform.tfstate[0m

[2022-11-16T18:26:39.155] [DEBUG] default - {}

[2022-11-17T18:17:15.318] [DEBUG] default - Terraform v0.14.8

[2022-11-17T18:17:15.343] [DEBUG] default - 
Your version of Terraform is out of date! The latest version
is 1.3.4. You can update by downloading from https://www.terraform.io/downloads.html

[2022-11-17T18:18:05.138] [DEBUG] default - 

[2022-11-17T18:18:05.140] [DEBUG] default - [0m[1mInitializing the backend...[0m

[2022-11-17T18:18:05.584] [DEBUG] default - 

[2022-11-17T18:18:05.584] [DEBUG] default - [0m[1mInitializing provider plugins...[0m
- Reusing previous version of hashicorp/aws from the dependency lock file

[2022-11-17T18:18:06.356] [DEBUG] default - - Using previously-installed hashicorp/aws v2.70.1

[2022-11-17T18:18:06.358] [DEBUG] default - 

[2022-11-17T18:18:06.388] [DEBUG] default - [0m[1m[32mTerraform has been successfully initialized![0m[32m[0m
[0m[32m
You may now begin working with Terraform. Try running "terraform plan" to see
any changes that are required for your infrastructure. All Terraform commands
should now work.

If you ever set or change modules or backend configuration for Terraform,
rerun this command to reinitialize your working directory. If you forget, other
commands will detect it and remind you to do so if necessary.[0m

[2022-11-17T18:18:07.814] [DEBUG] default - 

[2022-11-17T18:18:07.837] [DEBUG] default - An execution plan has been generated and is shown below.
Resource actions are indicated with the following symbols:
  [31m-[0m destroy
[0m
Terraform will perform the following actions:

[1m  # aws_alb.sample-cdktf-alb[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_alb" "sample-cdktf-alb" {
      [31m-[0m [0m[1m[0marn[0m[0m                              = "arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:loadbalancer/app/sample-cdktf-alb/0eca6de622d833c2" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0marn_suffix[0m[0m                       = "app/sample-cdktf-alb/0eca6de622d833c2" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdns_name[0m[0m                         = "sample-cdktf-alb-2045913788.ap-northeast-1.elb.amazonaws.com" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdrop_invalid_header_fields[0m[0m       = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0menable_cross_zone_load_balancing[0m[0m = true [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0menable_deletion_protection[0m[0m       = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0menable_http2[0m[0m                     = true [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                               = "arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:loadbalancer/app/sample-cdktf-alb/0eca6de622d833c2" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0midle_timeout[0m[0m                     = 60 [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0minternal[0m[0m                         = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mip_address_type[0m[0m                  = "ipv4" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mload_balancer_type[0m[0m               = "application" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mname[0m[0m                             = "sample-cdktf-alb" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0msecurity_groups[0m[0m                  = [
          [31m-[0m [0m"sg-0d458544e0f1956ee",
          [31m-[0m [0m"sg-0f297dde9009b5c3d",
        ] [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0msubnets[0m[0m                          = [
          [31m-[0m [0m"subnet-05196b679129de40b",
          [31m-[0m [0m"subnet-091a68b1faba0e60e",
        ] [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mvpc_id[0m[0m                           = "vpc-0f797854d0261cf19" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mzone_id[0m[0m                          = "Z14GRHDCWA56QT" [90m->[0m [0m[90mnull[0m[0m

      [31m-[0m [0maccess_logs {
          [31m-[0m [0m[1m[0menabled[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
        }

      [31m-[0m [0msubnet_mapping {
          [31m-[0m [0m[1m[0msubnet_id[0m[0m = "subnet-05196b679129de40b" [90m->[0m [0m[90mnull[0m[0m
        }
      [31m-[0m [0msubnet_mapping {
          [31m-[0m [0m[1m[0msubnet_id[0m[0m = "subnet-091a68b1faba0e60e" [90m->[0m [0m[90mnull[0m[0m
        }
    }

[1m  # aws_alb_listener.sample-cdktf-alb-listener[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_alb_listener" "sample-cdktf-alb-listener" {
      [31m-[0m [0m[1m[0marn[0m[0m               = "arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener/app/sample-cdktf-alb/0eca6de622d833c2/716b5b014394fcee" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                = "arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener/app/sample-cdktf-alb/0eca6de622d833c2/716b5b014394fcee" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mload_balancer_arn[0m[0m = "arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:loadbalancer/app/sample-cdktf-alb/0eca6de622d833c2" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mport[0m[0m              = 80 [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mprotocol[0m[0m          = "HTTP" [90m->[0m [0m[90mnull[0m[0m

      [31m-[0m [0mdefault_action {
          [31m-[0m [0m[1m[0morder[0m[0m = 1 [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0mtype[0m[0m  = "fixed-response" [90m->[0m [0m[90mnull[0m[0m

          [31m-[0m [0mfixed_response {
              [31m-[0m [0m[1m[0mcontent_type[0m[0m = "text/plain" [90m->[0m [0m[90mnull[0m[0m
              [31m-[0m [0m[1m[0mmessage_body[0m[0m = "OK" [90m->[0m [0m[90mnull[0m[0m
              [31m-[0m [0m[1m[0mstatus_code[0m[0m  = "200" [90m->[0m [0m[90mnull[0m[0m
            }
        }
    }

[1m  # aws_alb_listener_rule.sample-cdktf-alb-listener-rule[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_alb_listener_rule" "sample-cdktf-alb-listener-rule" {
      [31m-[0m [0m[1m[0marn[0m[0m          = "arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener-rule/app/sample-cdktf-alb/0eca6de622d833c2/716b5b014394fcee/42404542dbc746f3" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m           = "arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener-rule/app/sample-cdktf-alb/0eca6de622d833c2/716b5b014394fcee/42404542dbc746f3" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mlistener_arn[0m[0m = "arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener/app/sample-cdktf-alb/0eca6de622d833c2/716b5b014394fcee" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mpriority[0m[0m     = 100 [90m->[0m [0m[90mnull[0m[0m

      [31m-[0m [0maction {
          [31m-[0m [0m[1m[0morder[0m[0m            = 1 [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0mtarget_group_arn[0m[0m = "arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/6995f7bc77e2a634" [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0mtype[0m[0m             = "forward" [90m->[0m [0m[90mnull[0m[0m
        }

      [31m-[0m [0mcondition {
          [31m-[0m [0m[1m[0mfield[0m[0m  = "path-pattern" [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0mvalues[0m[0m = [
              [31m-[0m [0m"*",
            ] [90m->[0m [0m[90mnull[0m[0m

          [31m-[0m [0mpath_pattern {
              [31m-[0m [0m[1m[0mvalues[0m[0m = [
                  [31m-[0m [0m"*",
                ] [90m->[0m [0m[90mnull[0m[0m
            }
        }
    }

[1m  # aws_alb_target_group.sample-cdktf-alb-target-group[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_alb_target_group" "sample-cdktf-alb-target-group" {
      [31m-[0m [0m[1m[0marn[0m[0m                                = "arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/6995f7bc77e2a634" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0marn_suffix[0m[0m                         = "targetgroup/sample-cdktf-alb-target-group/6995f7bc77e2a634" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mderegistration_delay[0m[0m               = 300 [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                                 = "arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/6995f7bc77e2a634" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mlambda_multi_value_headers_enabled[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mload_balancing_algorithm_type[0m[0m      = "round_robin" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mname[0m[0m                               = "sample-cdktf-alb-target-group" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mport[0m[0m                               = 80 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.838] [DEBUG] default -       [31m-[0m [0m[1m[0mprotocol[0m[0m                           = "HTTP" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mproxy_protocol_v2[0m[0m                  = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mslow_start[0m[0m                         = 0 [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtarget_type[0m[0m                        = "ip" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.838] [DEBUG] default -       [31m-[0m [0m[1m[0mvpc_id[0m[0m                             = "vpc-0f797854d0261cf19" [90m->[0m [0m[90mnull[0m[0m


[2022-11-17T18:18:07.838] [DEBUG] default -       [31m-[0m [0mhealth_check {

[2022-11-17T18:18:07.838] [DEBUG] default -           [31m-[0m [0m[1m[0menabled[0m[0m             = true [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.838] [DEBUG] default -           [31m-[0m [0m[1m[0mhealthy_threshold[0m[0m   = 3 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.839] [DEBUG] default -           [31m-[0m [0m[1m[0minterval[0m[0m            = 30 [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0mmatcher[0m[0m             = "200" [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0mpath[0m[0m                = "/" [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0mport[0m[0m                = "traffic-port" [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0mprotocol[0m[0m            = "HTTP" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.839] [DEBUG] default -           [31m-[0m [0m[1m[0mtimeout[0m[0m             = 5 [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0munhealthy_threshold[0m[0m = 2 [90m->[0m [0m[90mnull[0m[0m
        }

      [31m-[0m [0mstickiness {
          [31m-[0m [0m[1m[0mcookie_duration[0m[0m = 86400 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.840] [DEBUG] default -           [31m-[0m [0m[1m[0menabled[0m[0m         = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.840] [DEBUG] default -           [31m-[0m [0m[1m[0mtype[0m[0m            = "lb_cookie" [90m->[0m [0m[90mnull[0m[0m
        }
    }


[2022-11-17T18:18:07.840] [DEBUG] default - [1m  # aws_cloudwatch_event_rule.sample-cdktf-event-rule[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:18:07.840] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_cloudwatch_event_rule" "sample-cdktf-event-rule" {
      [31m-[0m [0m[1m[0marn[0m[0m           = "arn:aws:events:ap-northeast-1:574185952087:rule/capture-ecr-update" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdescription[0m[0m   = "Capture each AWS ECR Update" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mevent_pattern[0m[0m = jsonencode(
            {

[2022-11-17T18:18:07.841] [DEBUG] default -               [31m-[0m [0mdetail      = {
                  [31m-[0m [0maction-type = [
                      [31m-[0m [0m"PUSH",

[2022-11-17T18:18:07.841] [DEBUG] default -                     ]

[2022-11-17T18:18:07.841] [DEBUG] default -                   [31m-[0m [0mresult      = [
                      [31m-[0m [0m"SUCCESS",

[2022-11-17T18:18:07.841] [DEBUG] default -                     ]
                }

[2022-11-17T18:18:07.841] [DEBUG] default -               [31m-[0m [0mdetail-type = [
                  [31m-[0m [0m"ECR Image Action",

[2022-11-17T18:18:07.841] [DEBUG] default -                 ]

[2022-11-17T18:18:07.841] [DEBUG] default -               [31m-[0m [0msource      = [
                  [31m-[0m [0m"aws.ecr",
                ]
            }
        ) [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m            = "capture-ecr-update" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mis_enabled[0m[0m    = true [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.841] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m          = "capture-ecr-update" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.841] [DEBUG] default -     }


[2022-11-17T18:18:07.841] [DEBUG] default - [1m  # aws_cloudwatch_event_target.sample-cdktf-event-target[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:18:07.842] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_cloudwatch_event_target" "sample-cdktf-event-target" {

[2022-11-17T18:18:07.842] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m       = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.842] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m        = "capture-ecr-update-SendToSNS" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.842] [DEBUG] default -       [31m-[0m [0m[1m[0mrule[0m[0m      = "capture-ecr-update" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtarget_id[0m[0m = "SendToSNS" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_cloudwatch_log_group.sample-cdktf-ecs-task-log-group[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_cloudwatch_log_group" "sample-cdktf-ecs-task-log-group" {

[2022-11-17T18:18:07.842] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m               = "arn:aws:logs:ap-northeast-1:574185952087:log-group:/aws/ecs/task-for-cdktf:*" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.842] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                = "/aws/ecs/task-for-cdktf" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.842] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m              = "/aws/ecs/task-for-cdktf" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.842] [DEBUG] default -       [31m-[0m [0m[1m[0mretention_in_days[0m[0m = 0 [90m->[0m [0m[90mnull[0m[0m
    }

[2022-11-17T18:18:07.843] [DEBUG] default - 

[2022-11-17T18:18:07.843] [DEBUG] default - [1m  # aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:18:07.843] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_cloudwatch_log_group" "sample-cdktf-notification-to-slack-log-group" {
      [31m-[0m [0m[1m[0marn[0m[0m               = "arn:aws:logs:ap-northeast-1:574185952087:log-group:/aws/lambda/Sample-Lambda-Notification-to-Slack:*" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                = "/aws/lambda/Sample-Lambda-Notification-to-Slack" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mname[0m[0m              = "/aws/lambda/Sample-Lambda-Notification-to-Slack" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.843] [DEBUG] default -       [31m-[0m [0m[1m[0mretention_in_days[0m[0m = 0 [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-17T18:18:07.843] [DEBUG] default - [1m  # aws_ecr_repository.sample-cdktf-repository[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:18:07.843] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_ecr_repository" "sample-cdktf-repository" {

[2022-11-17T18:18:07.843] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                  = "arn:aws:ecr:ap-northeast-1:574185952087:repository/project/sample-ecr" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.843] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                   = "project/sample-ecr" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.844] [DEBUG] default -       [31m-[0m [0m[1m[0mimage_tag_mutability[0m[0m = "MUTABLE" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.844] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m                 = "project/sample-ecr" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.844] [DEBUG] default -       [31m-[0m [0m[1m[0mregistry_id[0m[0m          = "574185952087" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mrepository_url[0m[0m       = "574185952087.dkr.ecr.ap-northeast-1.amazonaws.com/project/sample-ecr" [90m->[0m [0m[90mnull[0m[0m

      [31m-[0m [0mimage_scanning_configuration {
          [31m-[0m [0m[1m[0mscan_on_push[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
        }
    }


[2022-11-17T18:18:07.844] [DEBUG] default - [1m  # aws_ecs_cluster.sample-cdktf-cluster[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:18:07.844] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_ecs_cluster" "sample-cdktf-cluster" {

[2022-11-17T18:18:07.844] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m  = "arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.844] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m   = "arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.845] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m = "sample-cdktf-cluster" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.845] [DEBUG] default -     }


[2022-11-17T18:18:07.845] [DEBUG] default - [1m  # aws_ecs_service.sample-cdktf-ecs-service[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:18:07.845] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_ecs_service" "sample-cdktf-ecs-service" {

[2022-11-17T18:18:07.845] [DEBUG] default -       [31m-[0m [0m[1m[0mcluster[0m[0m                            = "arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.845] [DEBUG] default -       [31m-[0m [0m[1m[0mdeployment_maximum_percent[0m[0m         = 200 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.845] [DEBUG] default -       [31m-[0m [0m[1m[0mdeployment_minimum_healthy_percent[0m[0m = 100 [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdesired_count[0m[0m                      = 1 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.845] [DEBUG] default -       [31m-[0m [0m[1m[0menable_ecs_managed_tags[0m[0m            = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mhealth_check_grace_period_seconds[0m[0m  = 0 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.845] [DEBUG] default -       [31m-[0m [0m[1m[0miam_role[0m[0m                           = "aws-service-role" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.845] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                                 = "arn:aws:ecs:ap-northeast-1:574185952087:service/sample-cdktf-cluster/sample-cdktf-ecs-service" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.846] [DEBUG] default -       [31m-[0m [0m[1m[0mlaunch_type[0m[0m                        = "FARGATE" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.846] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m                               = "sample-cdktf-ecs-service" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.846] [DEBUG] default -       [31m-[0m [0m[1m[0mplatform_version[0m[0m                   = "LATEST" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.846] [DEBUG] default -       [31m-[0m [0m[1m[0mpropagate_tags[0m[0m                     = "NONE" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.846] [DEBUG] default -       [31m-[0m [0m[1m[0mscheduling_strategy[0m[0m                = "REPLICA" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.846] [DEBUG] default -       [31m-[0m [0m[1m[0mtask_definition[0m[0m                    = "task-for-cdktf:47" [90m->[0m [0m[90mnull[0m[0m


[2022-11-17T18:18:07.846] [DEBUG] default -       [31m-[0m [0mdeployment_controller {

[2022-11-17T18:18:07.846] [DEBUG] default -           [31m-[0m [0m[1m[0mtype[0m[0m = "ECS" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.846] [DEBUG] default -         }


[2022-11-17T18:18:07.846] [DEBUG] default -       [31m-[0m [0mload_balancer {

[2022-11-17T18:18:07.846] [DEBUG] default -           [31m-[0m [0m[1m[0mcontainer_name[0m[0m   = "sample-cdktf-container" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.847] [DEBUG] default -           [31m-[0m [0m[1m[0mcontainer_port[0m[0m   = 9000 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.847] [DEBUG] default -           [31m-[0m [0m[1m[0mtarget_group_arn[0m[0m = "arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/6995f7bc77e2a634" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.847] [DEBUG] default -         }


[2022-11-17T18:18:07.847] [DEBUG] default -       [31m-[0m [0mnetwork_configuration {

[2022-11-17T18:18:07.847] [DEBUG] default -           [31m-[0m [0m[1m[0massign_public_ip[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.847] [DEBUG] default -           [31m-[0m [0m[1m[0msecurity_groups[0m[0m  = [
              [31m-[0m [0m"sg-0f297dde9009b5c3d",

[2022-11-17T18:18:07.847] [DEBUG] default -             ] [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.847] [DEBUG] default -           [31m-[0m [0m[1m[0msubnets[0m[0m          = [

[2022-11-17T18:18:07.847] [DEBUG] default -               [31m-[0m [0m"subnet-0c13b8bd7cf3dea49",

[2022-11-17T18:18:07.847] [DEBUG] default -               [31m-[0m [0m"subnet-0da29deaccb95cf3b",

[2022-11-17T18:18:07.847] [DEBUG] default -             ] [90m->[0m [0m[90mnull[0m[0m
        }

[2022-11-17T18:18:07.847] [DEBUG] default -     }


[2022-11-17T18:18:07.847] [DEBUG] default - [1m  # aws_ecs_task_definition.sample-cdktf-task[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:18:07.847] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_ecs_task_definition" "sample-cdktf-task" {

[2022-11-17T18:18:07.848] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                      = "arn:aws:ecs:ap-northeast-1:574185952087:task-definition/task-for-cdktf:47" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.848] [DEBUG] default -       [31m-[0m [0m[1m[0mcontainer_definitions[0m[0m    = jsonencode(

[2022-11-17T18:18:07.848] [DEBUG] default -             [
              [31m-[0m [0m{

[2022-11-17T18:18:07.848] [DEBUG] default -                   [31m-[0m [0mcpu              = 0

[2022-11-17T18:18:07.848] [DEBUG] default -                   [31m-[0m [0menvironment      = []

[2022-11-17T18:18:07.848] [DEBUG] default -                   [31m-[0m [0messential        = true

[2022-11-17T18:18:07.848] [DEBUG] default -                   [31m-[0m [0mimage            = "574185952087.dkr.ecr.ap-northeast-1.amazonaws.com/project/sample-ecr:latest"

[2022-11-17T18:18:07.848] [DEBUG] default -                   [31m-[0m [0mlogConfiguration = {

[2022-11-17T18:18:07.848] [DEBUG] default -                       [31m-[0m [0mlogDriver = "awslogs"
                      [31m-[0m [0moptions   = {

[2022-11-17T18:18:07.848] [DEBUG] default -                           [31m-[0m [0mawslogs-group         = "/aws/ecs/task-for-cdktf"

[2022-11-17T18:18:07.848] [DEBUG] default -                           [31m-[0m [0mawslogs-region        = "ap-northeast-1"

[2022-11-17T18:18:07.848] [DEBUG] default -                           [31m-[0m [0mawslogs-stream-prefix = "ecs"

[2022-11-17T18:18:07.848] [DEBUG] default -                         }
                    }

[2022-11-17T18:18:07.848] [DEBUG] default -                   [31m-[0m [0mmountPoints      = []

[2022-11-17T18:18:07.849] [DEBUG] default -                   [31m-[0m [0mname             = "sample-cdktf-container"

[2022-11-17T18:18:07.849] [DEBUG] default -                   [31m-[0m [0mportMappings     = [

[2022-11-17T18:18:07.849] [DEBUG] default -                       [31m-[0m [0m{

[2022-11-17T18:18:07.849] [DEBUG] default -                           [31m-[0m [0mcontainerPort = 9000

[2022-11-17T18:18:07.849] [DEBUG] default -                           [31m-[0m [0mhostPort      = 9000

[2022-11-17T18:18:07.849] [DEBUG] default -                           [31m-[0m [0mprotocol      = "tcp"
                        },

[2022-11-17T18:18:07.849] [DEBUG] default -                     ]

[2022-11-17T18:18:07.849] [DEBUG] default -                   [31m-[0m [0mvolumesFrom      = []
                },

[2022-11-17T18:18:07.849] [DEBUG] default -             ]
        ) [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.849] [DEBUG] default -       [31m-[0m [0m[1m[0mcpu[0m[0m                      = "512" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.849] [DEBUG] default -       [31m-[0m [0m[1m[0mexecution_role_arn[0m[0m       = "arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskExecutionRole" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.849] [DEBUG] default -       [31m-[0m [0m[1m[0mfamily[0m[0m                   = "task-for-cdktf" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.849] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                       = "task-for-cdktf" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.849] [DEBUG] default -       [31m-[0m [0m[1m[0mmemory[0m[0m                   = "1024" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.850] [DEBUG] default -       [31m-[0m [0m[1m[0mnetwork_mode[0m[0m             = "awsvpc" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.850] [DEBUG] default -       [31m-[0m [0m[1m[0mrequires_compatibilities[0m[0m = [

[2022-11-17T18:18:07.850] [DEBUG] default -           [31m-[0m [0m"FARGATE",

[2022-11-17T18:18:07.850] [DEBUG] default -         ] [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.850] [DEBUG] default -       [31m-[0m [0m[1m[0mrevision[0m[0m                 = 47 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.850] [DEBUG] default -       [31m-[0m [0m[1m[0mtask_role_arn[0m[0m            = "arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskRole" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.850] [DEBUG] default -     }


[2022-11-17T18:18:07.850] [DEBUG] default - [1m  # aws_eip.sample-cdktf-eip[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_eip" "sample-cdktf-eip" {

[2022-11-17T18:18:07.850] [DEBUG] default -       [31m-[0m [0m[1m[0mdomain[0m[0m           = "vpc" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.850] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m               = "eipalloc-0255c6e96f0d7920a" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.850] [DEBUG] default -       [31m-[0m [0m[1m[0mpublic_dns[0m[0m       = "ec2-176-32-82-222.ap-northeast-1.compute.amazonaws.com" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.850] [DEBUG] default -       [31m-[0m [0m[1m[0mpublic_ip[0m[0m        = "176.32.82.222" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.851] [DEBUG] default -       [31m-[0m [0m[1m[0mpublic_ipv4_pool[0m[0m = "amazon" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.851] [DEBUG] default -       [31m-[0m [0m[1m[0mvpc[0m[0m              = true [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.851] [DEBUG] default -     }


[2022-11-17T18:18:07.851] [DEBUG] default - [1m  # aws_iam_policy.ecs-task-execution-policy[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:18:07.851] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_iam_policy" "ecs-task-execution-policy" {

[2022-11-17T18:18:07.851] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m         = "arn:aws:iam::574185952087:policy/ecs-task-execution-policy" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.851] [DEBUG] default -       [31m-[0m [0m[1m[0mdescription[0m[0m = "Policy for updating ECS tasks" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.851] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m          = "arn:aws:iam::574185952087:policy/ecs-task-execution-policy" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.851] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m        = "ecs-task-execution-policy" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.851] [DEBUG] default -       [31m-[0m [0m[1m[0mpath[0m[0m        = "/" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.851] [DEBUG] default -       [31m-[0m [0m[1m[0mpolicy[0m[0m      = jsonencode(

[2022-11-17T18:18:07.851] [DEBUG] default -             {

[2022-11-17T18:18:07.851] [DEBUG] default -               [31m-[0m [0mStatement = [
                  [31m-[0m [0m{

[2022-11-17T18:18:07.852] [DEBUG] default -                       [31m-[0m [0mAction   = [

[2022-11-17T18:18:07.852] [DEBUG] default -                           [31m-[0m [0m"ecr:GetAuthorizationToken",

[2022-11-17T18:18:07.852] [DEBUG] default -                           [31m-[0m [0m"ecr:BatchCheckLayerAvailability",

[2022-11-17T18:18:07.852] [DEBUG] default -                           [31m-[0m [0m"ecr:GetDownloadUrlForLayer",

[2022-11-17T18:18:07.852] [DEBUG] default -                           [31m-[0m [0m"ecr:BatchGetImage",

[2022-11-17T18:18:07.852] [DEBUG] default -                           [31m-[0m [0m"logs:CreateLogStream",

[2022-11-17T18:18:07.852] [DEBUG] default -                           [31m-[0m [0m"logs:PutLogEvents",
                        ]

[2022-11-17T18:18:07.852] [DEBUG] default -                       [31m-[0m [0mEffect   = "Allow"

[2022-11-17T18:18:07.852] [DEBUG] default -                       [31m-[0m [0mResource = [

[2022-11-17T18:18:07.852] [DEBUG] default -                           [31m-[0m [0m"*",

[2022-11-17T18:18:07.852] [DEBUG] default -                         ]
                    },
                ]

[2022-11-17T18:18:07.852] [DEBUG] default -               [31m-[0m [0mVersion   = "2012-10-17"

[2022-11-17T18:18:07.852] [DEBUG] default -             }
        ) [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.852] [DEBUG] default -     }


[2022-11-17T18:18:07.852] [DEBUG] default - [1m  # aws_iam_policy.ecs-task-policy[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:18:07.852] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_iam_policy" "ecs-task-policy" {

[2022-11-17T18:18:07.853] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m         = "arn:aws:iam::574185952087:policy/ecs-task-policy" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.853] [DEBUG] default -       [31m-[0m [0m[1m[0mdescription[0m[0m = "Policy for updating ECS tasks" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.853] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m          = "arn:aws:iam::574185952087:policy/ecs-task-policy" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.853] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m        = "ecs-task-policy" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.853] [DEBUG] default -       [31m-[0m [0m[1m[0mpath[0m[0m        = "/" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.853] [DEBUG] default -       [31m-[0m [0m[1m[0mpolicy[0m[0m      = jsonencode(
            {

[2022-11-17T18:18:07.853] [DEBUG] default -               [31m-[0m [0mStatement = [

[2022-11-17T18:18:07.853] [DEBUG] default -                   [31m-[0m [0m{
                      [31m-[0m [0mAction   = [

[2022-11-17T18:18:07.853] [DEBUG] default -                           [31m-[0m [0m"ecs:DescribeServices",

[2022-11-17T18:18:07.853] [DEBUG] default -                           [31m-[0m [0m"ecs:CreateTaskSet",

[2022-11-17T18:18:07.853] [DEBUG] default -                           [31m-[0m [0m"ecs:UpdateServicePrimaryTaskSet",

[2022-11-17T18:18:07.853] [DEBUG] default -                           [31m-[0m [0m"ecs:DeleteTaskSet",

[2022-11-17T18:18:07.853] [DEBUG] default -                           [31m-[0m [0m"elasticloadbalancing:DescribeTargetGroups",

[2022-11-17T18:18:07.854] [DEBUG] default -                           [31m-[0m [0m"elasticloadbalancing:DescribeListeners",
                          [31m-[0m [0m"elasticloadbalancing:ModifyListener",
                          [31m-[0m [0m"elasticloadbalancing:DescribeRules",
                          [31m-[0m [0m"elasticloadbalancing:ModifyRule",
                          [31m-[0m [0m"lambda:InvokeFunction",
                          [31m-[0m [0m"cloudwatch:DescribeAlarms",
                          [31m-[0m [0m"sns:Publish",

[2022-11-17T18:18:07.854] [DEBUG] default -                           [31m-[0m [0m"s3:GetObject",
                          [31m-[0m [0m"s3:GetObjectVersion",
                        ]

[2022-11-17T18:18:07.854] [DEBUG] default -                       [31m-[0m [0mEffect   = "Allow"

[2022-11-17T18:18:07.854] [DEBUG] default -                       [31m-[0m [0mResource = [

[2022-11-17T18:18:07.854] [DEBUG] default -                           [31m-[0m [0m"*",

[2022-11-17T18:18:07.854] [DEBUG] default -                         ]
                    },
                ]

[2022-11-17T18:18:07.854] [DEBUG] default -               [31m-[0m [0mVersion   = "2012-10-17"
            }

[2022-11-17T18:18:07.855] [DEBUG] default -         ) [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_iam_role.ecsTaskExecutionRole[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_iam_role" "ecsTaskExecutionRole" {
      [31m-[0m [0m[1m[0marn[0m[0m                   = "arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskExecutionRole" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.855] [DEBUG] default -       [31m-[0m [0m[1m[0massume_role_policy[0m[0m    = jsonencode(
            {

[2022-11-17T18:18:07.855] [DEBUG] default -               [31m-[0m [0mStatement = [

[2022-11-17T18:18:07.889] [DEBUG] default -                   [31m-[0m [0m{
                      [31m-[0m [0mAction    = "sts:AssumeRole"
                      [31m-[0m [0mEffect    = "Allow"
                      [31m-[0m [0mPrincipal = {
                          [31m-[0m [0mService = "ecs-tasks.amazonaws.com"
                        }
                      [31m-[0m [0mSid       = ""
                    },
                ]
              [31m-[0m [0mVersion   = "2012-10-17"
            }
        ) [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mcreate_date[0m[0m           = "2022-11-17T09:13:09Z" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mforce_detach_policies[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                    = "sample-cdktf-ecsTaskExecutionRole" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mmax_session_duration[0m[0m  = 3600 [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mname[0m[0m                  = "sample-cdktf-ecsTaskExecutionRole" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mpath[0m[0m                  = "/" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0munique_id[0m[0m             = "AROAYLMBGKNL2IUHJD6ZS" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_iam_role.ecsTaskRole[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_iam_role" "ecsTaskRole" {
      [31m-[0m [0m[1m[0marn[0m[0m                   = "arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskRole" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0massume_role_policy[0m[0m    = jsonencode(
            {
              [31m-[0m [0mStatement = [
                  [31m-[0m [0m{
                      [31m-[0m [0mAction    = "sts:AssumeRole"
                      [31m-[0m [0mEffect    = "Allow"
                      [31m-[0m [0mPrincipal = {
                          [31m-[0m [0mService = "ecs-tasks.amazonaws.com"
                        }
                      [31m-[0m [0mSid       = ""
                    },
                ]
              [31m-[0m [0mVersion   = "2012-10-17"
            }
        ) [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mcreate_date[0m[0m           = "2022-11-17T09:13:09Z" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mforce_detach_policies[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                    = "sample-cdktf-ecsTaskRole" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mmax_session_duration[0m[0m  = 3600 [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mname[0m[0m                  = "sample-cdktf-ecsTaskRole" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mpath[0m[0m                  = "/" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0munique_id[0m[0m             = "AROAYLMBGKNLT4QTI62HF" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_iam_role.lambdaExecutionRole[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_iam_role" "lambdaExecutionRole" {
      [31m-[0m [0m[1m[0marn[0m[0m                   = "arn:aws:iam::574185952087:role/sample-cdktf-lambdaExecutionRole" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0massume_role_policy[0m[0m    = jsonencode(
            {
              [31m-[0m [0mStatement = [
                  [31m-[0m [0m{
                      [31m-[0m [0mAction    = "sts:AssumeRole"
                      [31m-[0m [0mEffect    = "Allow"
                      [31m-[0m [0mPrincipal = {
                          [31m-[0m [0mService = [
                              [31m-[0m [0m"lambda.amazonaws.com",
                              [31m-[0m [0m"ecs-tasks.amazonaws.com",
                            ]
                        }
                      [31m-[0m [0mSid       = ""
                    },
                ]
              [31m-[0m [0mVersion   = "2012-10-17"
            }
        ) [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mcreate_date[0m[0m           = "2022-11-17T09:13:09Z" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mforce_detach_policies[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                    = "sample-cdktf-lambdaExecutionRole" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mmax_session_duration[0m[0m  = 3600 [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mname[0m[0m                  = "sample-cdktf-lambdaExecutionRole" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mpath[0m[0m                  = "/" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0munique_id[0m[0m             = "AROAYLMBGKNLVGGGIEYJR" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_iam_role_policy_attachment.attach-ecs-task-execution-policy[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_iam_role_policy_attachment" "attach-ecs-task-execution-policy" {
      [31m-[0m [0m[1m[0mid[0m[0m         = "sample-cdktf-ecsTaskExecutionRole-20221117091311735500000001" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mpolicy_arn[0m[0m = "arn:aws:iam::574185952087:policy/ecs-task-execution-policy" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mrole[0m[0m       = "sample-cdktf-ecsTaskExecutionRole" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_iam_role_policy_attachment.attach-ecs-task-policy[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_iam_role_policy_attachment" "attach-ecs-task-policy" {
      [31m-[0m [0m[1m[0mid[0m[0m         = "sample-cdktf-ecsTaskRole-20221117091311747700000002" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mpolicy_arn[0m[0m = "arn:aws:iam::574185952087:policy/ecs-task-policy" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mrole[0m[0m       = "sample-cdktf-ecsTaskRole" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_internet_gateway.sample-cdktf-igw-production[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_internet_gateway" "sample-cdktf-igw-production" {
      [31m-[0m [0m[1m[0marn[0m[0m      = "arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-08e9b12990c8cf841" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m       = "igw-08e9b12990c8cf841" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mowner_id[0m[0m = "574185952087" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtags[0m[0m     = {
          [31m-[0m [0m"Name" = "igw-production sample-cdktf"
        } [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mvpc_id[0m[0m   = "vpc-0f797854d0261cf19" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_lambda_function.Sample-Lambda-Notification-to-Slack[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_lambda_function" "Sample-Lambda-Notification-to-Slack" {
      [31m-[0m [0m[1m[0marn[0m[0m                            = "arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mfunction_name[0m[0m                  = "Sample-Lambda-Notification-to-Slack" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mhandler[0m[0m                        = "index.handler" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                             = "Sample-Lambda-Notification-to-Slack" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0minvoke_arn[0m[0m                     = "arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack/invocations" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mlast_modified[0m[0m                  = "2022-11-17T09:13:30.370+0000" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.889] [DEBUG] default -       [31m-[0m [0m[1m[0mmemory_size[0m[0m                    = 128 [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mpublish[0m[0m                        = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.890] [DEBUG] default -       [31m-[0m [0m[1m[0mqualified_arn[0m[0m                  = "arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack:$LATEST" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.890] [DEBUG] default -       [31m-[0m [0m[1m[0mreserved_concurrent_executions[0m[0m = -1 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.890] [DEBUG] default -       [31m-[0m [0m[1m[0mrole[0m[0m                           = "arn:aws:iam::574185952087:role/sample-cdktf-lambdaExecutionRole" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.890] [DEBUG] default -       [31m-[0m [0m[1m[0mruntime[0m[0m                        = "nodejs12.x" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.891] [DEBUG] default -       [31m-[0m [0m[1m[0ms3_bucket[0m[0m                      = "sample-cdktf-s3" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.891] [DEBUG] default -       [31m-[0m [0m[1m[0ms3_key[0m[0m                         = "notification-to-Slack-dist.zip" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.891] [DEBUG] default -       [31m-[0m [0m[1m[0msource_code_hash[0m[0m               = "tCCpjM8bYGUMlYE1itasARiG+ZOmfdgQJWCcxS1eRIg=" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.891] [DEBUG] default -       [31m-[0m [0m[1m[0msource_code_size[0m[0m               = 13887229 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.891] [DEBUG] default -       [31m-[0m [0m[1m[0mtimeout[0m[0m                        = 30 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.891] [DEBUG] default -       [31m-[0m [0m[1m[0mversion[0m[0m                        = "$LATEST" [90m->[0m [0m[90mnull[0m[0m

      [31m-[0m [0menvironment {

[2022-11-17T18:18:07.892] [DEBUG] default -           [31m-[0m [0m[1m[0mvariables[0m[0m = {

[2022-11-17T18:18:07.892] [DEBUG] default -               [31m-[0m [0m"SLACK_API_TOKEN" = "xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp"

[2022-11-17T18:18:07.892] [DEBUG] default -               [31m-[0m [0m"SLACK_CHANNEL"   = "C049CPNKHMJ"

[2022-11-17T18:18:07.892] [DEBUG] default -             } [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.892] [DEBUG] default -         }

      [31m-[0m [0mtracing_config {

[2022-11-17T18:18:07.892] [DEBUG] default -           [31m-[0m [0m[1m[0mmode[0m[0m = "PassThrough" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.892] [DEBUG] default -         }
    }

[2022-11-17T18:18:07.892] [DEBUG] default - 

[2022-11-17T18:18:07.892] [DEBUG] default - [1m  # aws_lambda_permission.permission-to-sns[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:18:07.892] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_lambda_permission" "permission-to-sns" {

[2022-11-17T18:18:07.892] [DEBUG] default -       [31m-[0m [0m[1m[0maction[0m[0m        = "lambda:InvokeFunction" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.893] [DEBUG] default -       [31m-[0m [0m[1m[0mfunction_name[0m[0m = "Sample-Lambda-Notification-to-Slack" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.893] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m            = "AllowExecutionFromSNS" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.893] [DEBUG] default -       [31m-[0m [0m[1m[0mprincipal[0m[0m     = "sns.amazonaws.com" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.893] [DEBUG] default -       [31m-[0m [0m[1m[0msource_arn[0m[0m    = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.893] [DEBUG] default -       [31m-[0m [0m[1m[0mstatement_id[0m[0m  = "AllowExecutionFromSNS" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.893] [DEBUG] default -     }


[2022-11-17T18:18:07.893] [DEBUG] default - [1m  # aws_nat_gateway.sample-cdktf-nat-gateway[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:18:07.893] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_nat_gateway" "sample-cdktf-nat-gateway" {

[2022-11-17T18:18:07.894] [DEBUG] default -       [31m-[0m [0m[1m[0mallocation_id[0m[0m        = "eipalloc-0255c6e96f0d7920a" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.894] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                   = "nat-0f0e01fbd8dd2decc" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.894] [DEBUG] default -       [31m-[0m [0m[1m[0mnetwork_interface_id[0m[0m = "eni-02aefcc090a0ac2c2" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.894] [DEBUG] default -       [31m-[0m [0m[1m[0mprivate_ip[0m[0m           = "10.0.11.6" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.894] [DEBUG] default -       [31m-[0m [0m[1m[0mpublic_ip[0m[0m            = "176.32.82.222" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.894] [DEBUG] default -       [31m-[0m [0m[1m[0msubnet_id[0m[0m            = "subnet-05196b679129de40b" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.894] [DEBUG] default -       [31m-[0m [0m[1m[0mtags[0m[0m                 = {
          [31m-[0m [0m"Name" = "sample-cdktf nat-gateway-production"

[2022-11-17T18:18:07.895] [DEBUG] default -         } [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-17T18:18:07.895] [DEBUG] default - [1m  # aws_route_table.sample-cdktf-private-rtb[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_route_table" "sample-cdktf-private-rtb" {

[2022-11-17T18:18:07.895] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m               = "rtb-08085cf16e95b6c04" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.895] [DEBUG] default -       [31m-[0m [0m[1m[0mowner_id[0m[0m         = "574185952087" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.895] [DEBUG] default -       [31m-[0m [0m[1m[0mpropagating_vgws[0m[0m = [] [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.895] [DEBUG] default -       [31m-[0m [0m[1m[0mroute[0m[0m            = [

[2022-11-17T18:18:07.895] [DEBUG] default -           [31m-[0m [0m{
              [31m-[0m [0mcidr_block                = "0.0.0.0/0"

[2022-11-17T18:18:07.895] [DEBUG] default -               [31m-[0m [0megress_only_gateway_id    = ""

[2022-11-17T18:18:07.895] [DEBUG] default -               [31m-[0m [0mgateway_id                = ""

[2022-11-17T18:18:07.895] [DEBUG] default -               [31m-[0m [0minstance_id               = ""

[2022-11-17T18:18:07.895] [DEBUG] default -               [31m-[0m [0mipv6_cidr_block           = ""

[2022-11-17T18:18:07.896] [DEBUG] default -               [31m-[0m [0mnat_gateway_id            = "nat-0f0e01fbd8dd2decc"

[2022-11-17T18:18:07.896] [DEBUG] default -               [31m-[0m [0mnetwork_interface_id      = ""

[2022-11-17T18:18:07.896] [DEBUG] default -               [31m-[0m [0mtransit_gateway_id        = ""

[2022-11-17T18:18:07.896] [DEBUG] default -               [31m-[0m [0mvpc_peering_connection_id = ""

[2022-11-17T18:18:07.896] [DEBUG] default -             },
        ] [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.896] [DEBUG] default -       [31m-[0m [0m[1m[0mtags[0m[0m             = {

[2022-11-17T18:18:07.896] [DEBUG] default -           [31m-[0m [0m"Name" = "sample-cdktf Private rtb"

[2022-11-17T18:18:07.896] [DEBUG] default -         } [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.896] [DEBUG] default -       [31m-[0m [0m[1m[0mvpc_id[0m[0m           = "vpc-0f797854d0261cf19" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-17T18:18:07.896] [DEBUG] default - [1m  # aws_route_table.sample-cdktf-public-rtb[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:18:07.896] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_route_table" "sample-cdktf-public-rtb" {

[2022-11-17T18:18:07.896] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m               = "rtb-0dc261ed2bc989927" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.896] [DEBUG] default -       [31m-[0m [0m[1m[0mowner_id[0m[0m         = "574185952087" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.897] [DEBUG] default -       [31m-[0m [0m[1m[0mpropagating_vgws[0m[0m = [] [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mroute[0m[0m            = [

[2022-11-17T18:18:07.897] [DEBUG] default -           [31m-[0m [0m{
              [31m-[0m [0mcidr_block                = "0.0.0.0/0"

[2022-11-17T18:18:07.897] [DEBUG] default -               [31m-[0m [0megress_only_gateway_id    = ""

[2022-11-17T18:18:07.897] [DEBUG] default -               [31m-[0m [0mgateway_id                = "igw-08e9b12990c8cf841"

[2022-11-17T18:18:07.897] [DEBUG] default -               [31m-[0m [0minstance_id               = ""

[2022-11-17T18:18:07.897] [DEBUG] default -               [31m-[0m [0mipv6_cidr_block           = ""

[2022-11-17T18:18:07.897] [DEBUG] default -               [31m-[0m [0mnat_gateway_id            = ""

[2022-11-17T18:18:07.897] [DEBUG] default -               [31m-[0m [0mnetwork_interface_id      = ""

[2022-11-17T18:18:07.897] [DEBUG] default -               [31m-[0m [0mtransit_gateway_id        = ""

[2022-11-17T18:18:07.897] [DEBUG] default -               [31m-[0m [0mvpc_peering_connection_id = ""
            },

[2022-11-17T18:18:07.897] [DEBUG] default -         ] [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.897] [DEBUG] default -       [31m-[0m [0m[1m[0mtags[0m[0m             = {

[2022-11-17T18:18:07.897] [DEBUG] default -           [31m-[0m [0m"Name" = "sample-cdktf Public rtb"

[2022-11-17T18:18:07.897] [DEBUG] default -         } [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.897] [DEBUG] default -       [31m-[0m [0m[1m[0mvpc_id[0m[0m           = "vpc-0f797854d0261cf19" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-17T18:18:07.898] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-private-rtb-association1[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:18:07.898] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_route_table_association" "sample-cdktf-private-rtb-association1" {

[2022-11-17T18:18:07.898] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m             = "rtbassoc-0ee6798392bfcf3f6" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.898] [DEBUG] default -       [31m-[0m [0m[1m[0mroute_table_id[0m[0m = "rtb-08085cf16e95b6c04" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.898] [DEBUG] default -       [31m-[0m [0m[1m[0msubnet_id[0m[0m      = "subnet-0c13b8bd7cf3dea49" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-17T18:18:07.898] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-private-rtb-association2[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:18:07.898] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_route_table_association" "sample-cdktf-private-rtb-association2" {

[2022-11-17T18:18:07.898] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m             = "rtbassoc-015716cd467b25136" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.898] [DEBUG] default -       [31m-[0m [0m[1m[0mroute_table_id[0m[0m = "rtb-08085cf16e95b6c04" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.899] [DEBUG] default -       [31m-[0m [0m[1m[0msubnet_id[0m[0m      = "subnet-0da29deaccb95cf3b" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-17T18:18:07.899] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-public-rtb-association1[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:18:07.899] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_route_table_association" "sample-cdktf-public-rtb-association1" {

[2022-11-17T18:18:07.899] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m             = "rtbassoc-010b09ed3355ec8b0" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.899] [DEBUG] default -       [31m-[0m [0m[1m[0mroute_table_id[0m[0m = "rtb-0dc261ed2bc989927" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.899] [DEBUG] default -       [31m-[0m [0m[1m[0msubnet_id[0m[0m      = "subnet-05196b679129de40b" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.899] [DEBUG] default -     }


[2022-11-17T18:18:07.899] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-public-rtb-association2[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:18:07.899] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_route_table_association" "sample-cdktf-public-rtb-association2" {

[2022-11-17T18:18:07.900] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m             = "rtbassoc-04ff8be1bc6e707ec" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.900] [DEBUG] default -       [31m-[0m [0m[1m[0mroute_table_id[0m[0m = "rtb-0dc261ed2bc989927" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.900] [DEBUG] default -       [31m-[0m [0m[1m[0msubnet_id[0m[0m      = "subnet-091a68b1faba0e60e" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-17T18:18:07.900] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-public-rtb1[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:18:07.900] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_route_table_association" "sample-cdktf-public-rtb1" {

[2022-11-17T18:18:07.900] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m             = "rtbassoc-010b09ed3355ec8b0" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.900] [DEBUG] default -       [31m-[0m [0m[1m[0mroute_table_id[0m[0m = "rtb-0dc261ed2bc989927" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.900] [DEBUG] default -       [31m-[0m [0m[1m[0msubnet_id[0m[0m      = "subnet-05196b679129de40b" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-17T18:18:07.900] [DEBUG] default - [1m  # aws_s3_bucket.sample-cdktf-s3[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:18:07.900] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_s3_bucket" "sample-cdktf-s3" {

[2022-11-17T18:18:07.900] [DEBUG] default -       [31m-[0m [0m[1m[0macl[0m[0m                         = "private" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.901] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                         = "arn:aws:s3:::sample-cdktf-s3" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.901] [DEBUG] default -       [31m-[0m [0m[1m[0mbucket[0m[0m                      = "sample-cdktf-s3" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.901] [DEBUG] default -       [31m-[0m [0m[1m[0mbucket_domain_name[0m[0m          = "sample-cdktf-s3.s3.amazonaws.com" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.901] [DEBUG] default -       [31m-[0m [0m[1m[0mbucket_regional_domain_name[0m[0m = "sample-cdktf-s3.s3.ap-northeast-1.amazonaws.com" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.901] [DEBUG] default -       [31m-[0m [0m[1m[0mforce_destroy[0m[0m               = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.901] [DEBUG] default -       [31m-[0m [0m[1m[0mhosted_zone_id[0m[0m              = "Z2M4EHUR26P7ZW" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.901] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                          = "sample-cdktf-s3" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.901] [DEBUG] default -       [31m-[0m [0m[1m[0mregion[0m[0m                      = "ap-northeast-1" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.901] [DEBUG] default -       [31m-[0m [0m[1m[0mrequest_payer[0m[0m               = "BucketOwner" [90m->[0m [0m[90mnull[0m[0m


[2022-11-17T18:18:07.902] [DEBUG] default -       [31m-[0m [0mversioning {

[2022-11-17T18:18:07.902] [DEBUG] default -           [31m-[0m [0m[1m[0menabled[0m[0m    = false [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0mmfa_delete[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
        }
    }

[1m  # aws_s3_bucket_object.notification-to-Slack-distzip[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_s3_bucket_object" "notification-to-Slack-distzip" {
      [31m-[0m [0m[1m[0macl[0m[0m           = "private" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.902] [DEBUG] default -       [31m-[0m [0m[1m[0mbucket[0m[0m        = "sample-cdktf-s3" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.902] [DEBUG] default -       [31m-[0m [0m[1m[0mcontent_type[0m[0m  = "zip" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.902] [DEBUG] default -       [31m-[0m [0m[1m[0metag[0m[0m          = "4937147d8b730bb24484f81f57592f61" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.902] [DEBUG] default -       [31m-[0m [0m[1m[0mforce_destroy[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.902] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m            = "notification-to-Slack-dist.zip" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.903] [DEBUG] default -       [31m-[0m [0m[1m[0mkey[0m[0m           = "notification-to-Slack-dist.zip" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.903] [DEBUG] default -       [31m-[0m [0m[1m[0msource[0m[0m        = "/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.903] [DEBUG] default -       [31m-[0m [0m[1m[0mstorage_class[0m[0m = "STANDARD" [90m->[0m [0m[90mnull[0m[0m
    }

[2022-11-17T18:18:07.903] [DEBUG] default - 

[2022-11-17T18:18:07.903] [DEBUG] default - [1m  # aws_security_group.sample-cdktf-security-group[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:18:07.903] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_security_group" "sample-cdktf-security-group" {

[2022-11-17T18:18:07.903] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                    = "arn:aws:ec2:ap-northeast-1:574185952087:security-group/sg-0d458544e0f1956ee" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.903] [DEBUG] default -       [31m-[0m [0m[1m[0mdescription[0m[0m            = "Managed by Terraform" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.903] [DEBUG] default -       [31m-[0m [0m[1m[0megress[0m[0m                 = [] [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.903] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                     = "sg-0d458544e0f1956ee" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.904] [DEBUG] default -       [31m-[0m [0m[1m[0mingress[0m[0m                = [] [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.904] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m                   = "sample-cdktf" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.904] [DEBUG] default -       [31m-[0m [0m[1m[0mowner_id[0m[0m               = "574185952087" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.904] [DEBUG] default -       [31m-[0m [0m[1m[0mrevoke_rules_on_delete[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.904] [DEBUG] default -       [31m-[0m [0m[1m[0mtags[0m[0m                   = {

[2022-11-17T18:18:07.904] [DEBUG] default -           [31m-[0m [0m"Name" = "sample-cdktf"

[2022-11-17T18:18:07.904] [DEBUG] default -         } [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.904] [DEBUG] default -       [31m-[0m [0m[1m[0mvpc_id[0m[0m                 = "vpc-0f797854d0261cf19" [90m->[0m [0m[90mnull[0m[0m
    }

[2022-11-17T18:18:07.904] [DEBUG] default - 

[2022-11-17T18:18:07.904] [DEBUG] default - [1m  # aws_security_group_rule.sample-cdktf-security-egress[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:18:07.904] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_security_group_rule" "sample-cdktf-security-egress" {

[2022-11-17T18:18:07.904] [DEBUG] default -       [31m-[0m [0m[1m[0mcidr_blocks[0m[0m       = [

[2022-11-17T18:18:07.904] [DEBUG] default -           [31m-[0m [0m"0.0.0.0/0",

[2022-11-17T18:18:07.904] [DEBUG] default -         ] [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.905] [DEBUG] default -       [31m-[0m [0m[1m[0mfrom_port[0m[0m         = 0 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.905] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                = "sgrule-1191476451" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.905] [DEBUG] default -       [31m-[0m [0m[1m[0mprotocol[0m[0m          = "-1" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.905] [DEBUG] default -       [31m-[0m [0m[1m[0msecurity_group_id[0m[0m = "sg-0d458544e0f1956ee" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.905] [DEBUG] default -       [31m-[0m [0m[1m[0mself[0m[0m              = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.905] [DEBUG] default -       [31m-[0m [0m[1m[0mto_port[0m[0m           = 0 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.905] [DEBUG] default -       [31m-[0m [0m[1m[0mtype[0m[0m              = "egress" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-17T18:18:07.905] [DEBUG] default - [1m  # aws_security_group_rule.sample-cdktf-security-ingress[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:18:07.905] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_security_group_rule" "sample-cdktf-security-ingress" {

[2022-11-17T18:18:07.905] [DEBUG] default -       [31m-[0m [0m[1m[0mcidr_blocks[0m[0m       = [

[2022-11-17T18:18:07.905] [DEBUG] default -           [31m-[0m [0m"0.0.0.0/0",
        ] [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.906] [DEBUG] default -       [31m-[0m [0m[1m[0mfrom_port[0m[0m         = 80 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.906] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                = "sgrule-2887129769" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.906] [DEBUG] default -       [31m-[0m [0m[1m[0mprotocol[0m[0m          = "tcp" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.906] [DEBUG] default -       [31m-[0m [0m[1m[0msecurity_group_id[0m[0m = "sg-0d458544e0f1956ee" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.906] [DEBUG] default -       [31m-[0m [0m[1m[0mself[0m[0m              = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.906] [DEBUG] default -       [31m-[0m [0m[1m[0mto_port[0m[0m           = 80 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.906] [DEBUG] default -       [31m-[0m [0m[1m[0mtype[0m[0m              = "ingress" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.906] [DEBUG] default -     }


[2022-11-17T18:18:07.906] [DEBUG] default - [1m  # aws_sns_topic.sample-cdktf-sns[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:18:07.906] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_sns_topic" "sample-cdktf-sns" {

[2022-11-17T18:18:07.906] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m    = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.907] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m     = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.907] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m   = "sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.907] [DEBUG] default -       [31m-[0m [0m[1m[0mpolicy[0m[0m = jsonencode(

[2022-11-17T18:18:07.907] [DEBUG] default -             {

[2022-11-17T18:18:07.907] [DEBUG] default -               [31m-[0m [0mId        = "__default_policy_ID"
              [31m-[0m [0mStatement = [

[2022-11-17T18:18:07.907] [DEBUG] default -                   [31m-[0m [0m{

[2022-11-17T18:18:07.907] [DEBUG] default -                       [31m-[0m [0mAction    = [

[2022-11-17T18:18:07.907] [DEBUG] default -                           [31m-[0m [0m"SNS:GetTopicAttributes",

[2022-11-17T18:18:07.907] [DEBUG] default -                           [31m-[0m [0m"SNS:SetTopicAttributes",

[2022-11-17T18:18:07.907] [DEBUG] default -                           [31m-[0m [0m"SNS:AddPermission",

[2022-11-17T18:18:07.907] [DEBUG] default -                           [31m-[0m [0m"SNS:RemovePermission",

[2022-11-17T18:18:07.907] [DEBUG] default -                           [31m-[0m [0m"SNS:DeleteTopic",

[2022-11-17T18:18:07.907] [DEBUG] default -                           [31m-[0m [0m"SNS:Subscribe",

[2022-11-17T18:18:07.907] [DEBUG] default -                           [31m-[0m [0m"SNS:ListSubscriptionsByTopic",

[2022-11-17T18:18:07.907] [DEBUG] default -                           [31m-[0m [0m"SNS:Publish",

[2022-11-17T18:18:07.907] [DEBUG] default -                         ]

[2022-11-17T18:18:07.907] [DEBUG] default -                       [31m-[0m [0mCondition = {
                          [31m-[0m [0mStringEquals = {

[2022-11-17T18:18:07.908] [DEBUG] default -                               [31m-[0m [0mAWS:SourceOwner = "574185952087"

[2022-11-17T18:18:07.908] [DEBUG] default -                             }

[2022-11-17T18:18:07.908] [DEBUG] default -                         }
                      [31m-[0m [0mEffect    = "Allow"

[2022-11-17T18:18:07.908] [DEBUG] default -                       [31m-[0m [0mPrincipal = {

[2022-11-17T18:18:07.908] [DEBUG] default -                           [31m-[0m [0mAWS = "*"

[2022-11-17T18:18:07.908] [DEBUG] default -                         }

[2022-11-17T18:18:07.908] [DEBUG] default -                       [31m-[0m [0mResource  = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns"

[2022-11-17T18:18:07.908] [DEBUG] default -                       [31m-[0m [0mSid       = "__default_statement_ID"

[2022-11-17T18:18:07.908] [DEBUG] default -                     },
                ]

[2022-11-17T18:18:07.908] [DEBUG] default -               [31m-[0m [0mVersion   = "2008-10-17"
            }

[2022-11-17T18:18:07.908] [DEBUG] default -         ) [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-17T18:18:07.908] [DEBUG] default - [1m  # aws_sns_topic_policy.sample-cdktf-sns-policy[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:18:07.908] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_sns_topic_policy" "sample-cdktf-sns-policy" {

[2022-11-17T18:18:07.908] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m    = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.909] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m     = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.909] [DEBUG] default -       [31m-[0m [0m[1m[0mpolicy[0m[0m = jsonencode(

[2022-11-17T18:18:07.909] [DEBUG] default -             {
              [31m-[0m [0mStatement = [

[2022-11-17T18:18:07.909] [DEBUG] default -                   [31m-[0m [0m{

[2022-11-17T18:18:07.909] [DEBUG] default -                       [31m-[0m [0mAction    = "SNS:Publish"

[2022-11-17T18:18:07.909] [DEBUG] default -                       [31m-[0m [0mEffect    = "Allow"

[2022-11-17T18:18:07.909] [DEBUG] default -                       [31m-[0m [0mPrincipal = {

[2022-11-17T18:18:07.909] [DEBUG] default -                           [31m-[0m [0mService = "events.amazonaws.com"

[2022-11-17T18:18:07.909] [DEBUG] default -                         }

[2022-11-17T18:18:07.909] [DEBUG] default -                       [31m-[0m [0mResource  = "*"

[2022-11-17T18:18:07.909] [DEBUG] default -                       [31m-[0m [0mSid       = ""
                    },
                ]

[2022-11-17T18:18:07.909] [DEBUG] default -               [31m-[0m [0mVersion   = "2012-10-17"

[2022-11-17T18:18:07.909] [DEBUG] default -             }
        ) [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.909] [DEBUG] default -     }


[2022-11-17T18:18:07.909] [DEBUG] default - [1m  # aws_sns_topic_subscription.sample-cdktf-sns-subscription[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:18:07.909] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_sns_topic_subscription" "sample-cdktf-sns-subscription" {

[2022-11-17T18:18:07.910] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                             = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:b71188d1-f766-4827-b952-6b93bc5ffd62" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.910] [DEBUG] default -       [31m-[0m [0m[1m[0mconfirmation_timeout_in_minutes[0m[0m = 1 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.910] [DEBUG] default -       [31m-[0m [0m[1m[0mendpoint[0m[0m                        = "arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.910] [DEBUG] default -       [31m-[0m [0m[1m[0mendpoint_auto_confirms[0m[0m          = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.910] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                              = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:b71188d1-f766-4827-b952-6b93bc5ffd62" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.910] [DEBUG] default -       [31m-[0m [0m[1m[0mprotocol[0m[0m                        = "lambda" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.910] [DEBUG] default -       [31m-[0m [0m[1m[0mraw_message_delivery[0m[0m            = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.910] [DEBUG] default -       [31m-[0m [0m[1m[0mtopic_arn[0m[0m                       = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.911] [DEBUG] default -     }


[2022-11-17T18:18:07.911] [DEBUG] default - [1m  # aws_subnet.sample-cdktf-private-subnet1[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:18:07.911] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_subnet" "sample-cdktf-private-subnet1" {

[2022-11-17T18:18:07.911] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                             = "arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0c13b8bd7cf3dea49" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.911] [DEBUG] default -       [31m-[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.911] [DEBUG] default -       [31m-[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1a" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.911] [DEBUG] default -       [31m-[0m [0m[1m[0mavailability_zone_id[0m[0m            = "apne1-az4" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.911] [DEBUG] default -       [31m-[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.128.0/20" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.912] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                              = "subnet-0c13b8bd7cf3dea49" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mowner_id[0m[0m                        = "574185952087" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtags[0m[0m                            = {
          [31m-[0m [0m"Name" = "Private1 AZ1a sample-cdktf"
        } [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.912] [DEBUG] default -       [31m-[0m [0m[1m[0mvpc_id[0m[0m                          = "vpc-0f797854d0261cf19" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.912] [DEBUG] default -     }


[2022-11-17T18:18:07.912] [DEBUG] default - [1m  # aws_subnet.sample-cdktf-private-subnet2[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:18:07.912] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_subnet" "sample-cdktf-private-subnet2" {

[2022-11-17T18:18:07.912] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                             = "arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0da29deaccb95cf3b" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.912] [DEBUG] default -       [31m-[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.912] [DEBUG] default -       [31m-[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1c" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.913] [DEBUG] default -       [31m-[0m [0m[1m[0mavailability_zone_id[0m[0m            = "apne1-az1" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.913] [DEBUG] default -       [31m-[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.144.0/20" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.913] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                              = "subnet-0da29deaccb95cf3b" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.913] [DEBUG] default -       [31m-[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.913] [DEBUG] default -       [31m-[0m [0m[1m[0mowner_id[0m[0m                        = "574185952087" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.913] [DEBUG] default -       [31m-[0m [0m[1m[0mtags[0m[0m                            = {

[2022-11-17T18:18:07.913] [DEBUG] default -           [31m-[0m [0m"Name" = "Private2 AZ1c sample-cdktf"

[2022-11-17T18:18:07.913] [DEBUG] default -         } [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.913] [DEBUG] default -       [31m-[0m [0m[1m[0mvpc_id[0m[0m                          = "vpc-0f797854d0261cf19" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-17T18:18:07.913] [DEBUG] default - [1m  # aws_subnet.sample-cdktf-public-subnet1[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:18:07.913] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_subnet" "sample-cdktf-public-subnet1" {

[2022-11-17T18:18:07.914] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                             = "arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-05196b679129de40b" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.914] [DEBUG] default -       [31m-[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.914] [DEBUG] default -       [31m-[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1a" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.914] [DEBUG] default -       [31m-[0m [0m[1m[0mavailability_zone_id[0m[0m            = "apne1-az4" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.937] [DEBUG] default -       [31m-[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.0.0/20" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                              = "subnet-05196b679129de40b" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mowner_id[0m[0m                        = "574185952087" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:18:07.937] [DEBUG] default -       [31m-[0m [0m[1m[0mtags[0m[0m                            = {
          [31m-[0m [0m"Name" = "Public1 AZ1a sample-cdktf"
        } [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mvpc_id[0m[0m                          = "vpc-0f797854d0261cf19" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_subnet.sample-cdktf-public-subnet2[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_subnet" "sample-cdktf-public-subnet2" {
      [31m-[0m [0m[1m[0marn[0m[0m                             = "arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-091a68b1faba0e60e" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1c" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mavailability_zone_id[0m[0m            = "apne1-az1" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.16.0/20" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                              = "subnet-091a68b1faba0e60e" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mowner_id[0m[0m                        = "574185952087" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtags[0m[0m                            = {
          [31m-[0m [0m"Name" = "Public2 AZ1c sample-cdktf"
        } [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mvpc_id[0m[0m                          = "vpc-0f797854d0261cf19" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_vpc.sample-cdktf-vpc[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_vpc" "sample-cdktf-vpc" {
      [31m-[0m [0m[1m[0marn[0m[0m                              = "arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-0f797854d0261cf19" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0massign_generated_ipv6_cidr_block[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mcidr_block[0m[0m                       = "10.0.0.0/16" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdefault_network_acl_id[0m[0m           = "acl-0215df024c6653a0f" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdefault_route_table_id[0m[0m           = "rtb-02104f66d0a491071" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdefault_security_group_id[0m[0m        = "sg-0f297dde9009b5c3d" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdhcp_options_id[0m[0m                  = "dopt-03da244493f3f476d" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0menable_classiclink[0m[0m               = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0menable_classiclink_dns_support[0m[0m   = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0menable_dns_hostnames[0m[0m             = true [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0menable_dns_support[0m[0m               = true [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                               = "vpc-0f797854d0261cf19" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0minstance_tenancy[0m[0m                 = "default" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mmain_route_table_id[0m[0m              = "rtb-02104f66d0a491071" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mowner_id[0m[0m                         = "574185952087" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtags[0m[0m                             = {
          [31m-[0m [0m"Name" = "sample-cdktf production"
        } [90m->[0m [0m[90mnull[0m[0m
    }

[0m[1mPlan:[0m 0 to add, 0 to change, 44 to destroy.[0m
[33m
[1m[33mWarning: [0m[0m[1m"condition.0.values": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m

[0m  on cdk.tf.json line 681, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:
 681:       [4m}[0m
[0m
[0m[0m
[33m
[1m[33mWarning: [0m[0m[1m"condition.0.field": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m

[0m  on cdk.tf.json line 681, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:
 681:       [4m}[0m
[0m
[0m[0m

------------------------------------------------------------------------

This plan was saved to: /Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/cdktf.out/plan

To perform exactly these actions, run the following command to apply:
    terraform apply "/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/cdktf.out/plan"


[2022-11-17T18:18:09.038] [DEBUG] default - {"format_version":"0.1","terraform_version":"0.14.8","planned_values":{"root_module":{}},"resource_changes":[{"address":"aws_alb.sample-cdktf-alb","mode":"managed","type":"aws_alb","name":"sample-cdktf-alb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"access_logs":[{"bucket":"","enabled":false,"prefix":""}],"arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:loadbalancer/app/sample-cdktf-alb/0eca6de622d833c2","arn_suffix":"app/sample-cdktf-alb/0eca6de622d833c2","dns_name":"sample-cdktf-alb-2045913788.ap-northeast-1.elb.amazonaws.com","drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":true,"enable_deletion_protection":false,"enable_http2":true,"id":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:loadbalancer/app/sample-cdktf-alb/0eca6de622d833c2","idle_timeout":60,"internal":false,"ip_address_type":"ipv4","load_balancer_type":"application","name":"sample-cdktf-alb","name_prefix":null,"security_groups":["sg-0d458544e0f1956ee","sg-0f297dde9009b5c3d"],"subnet_mapping":[{"allocation_id":"","subnet_id":"subnet-05196b679129de40b"},{"allocation_id":"","subnet_id":"subnet-091a68b1faba0e60e"}],"subnets":["subnet-05196b679129de40b","subnet-091a68b1faba0e60e"],"tags":null,"timeouts":null,"vpc_id":"vpc-0f797854d0261cf19","zone_id":"Z14GRHDCWA56QT"},"after":null,"after_unknown":{}}},{"address":"aws_alb_listener.sample-cdktf-alb-listener","mode":"managed","type":"aws_alb_listener","name":"sample-cdktf-alb-listener","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener/app/sample-cdktf-alb/0eca6de622d833c2/716b5b014394fcee","certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[{"content_type":"text/plain","message_body":"OK","status_code":"200"}],"forward":[],"order":1,"redirect":[],"target_group_arn":"","type":"fixed-response"}],"id":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener/app/sample-cdktf-alb/0eca6de622d833c2/716b5b014394fcee","load_balancer_arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:loadbalancer/app/sample-cdktf-alb/0eca6de622d833c2","port":80,"protocol":"HTTP","ssl_policy":"","timeouts":null},"after":null,"after_unknown":{}}},{"address":"aws_alb_listener_rule.sample-cdktf-alb-listener-rule","mode":"managed","type":"aws_alb_listener_rule","name":"sample-cdktf-alb-listener-rule","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"order":1,"redirect":[],"target_group_arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/6995f7bc77e2a634","type":"forward"}],"arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener-rule/app/sample-cdktf-alb/0eca6de622d833c2/716b5b014394fcee/42404542dbc746f3","condition":[{"field":"path-pattern","host_header":[],"http_header":[],"http_request_method":[],"path_pattern":[{"values":["*"]}],"query_string":[],"source_ip":[],"values":["*"]}],"id":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener-rule/app/sample-cdktf-alb/0eca6de622d833c2/716b5b014394fcee/42404542dbc746f3","listener_arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener/app/sample-cdktf-alb/0eca6de622d833c2/716b5b014394fcee","priority":100},"after":null,"after_unknown":{}}},{"address":"aws_alb_target_group.sample-cdktf-alb-target-group","mode":"managed","type":"aws_alb_target_group","name":"sample-cdktf-alb-target-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/6995f7bc77e2a634","arn_suffix":"targetgroup/sample-cdktf-alb-target-group/6995f7bc77e2a634","deregistration_delay":300,"health_check":[{"enabled":true,"healthy_threshold":3,"interval":30,"matcher":"200","path":"/","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"id":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/6995f7bc77e2a634","lambda_multi_value_headers_enabled":false,"load_balancing_algorithm_type":"round_robin","name":"sample-cdktf-alb-target-group","name_prefix":null,"port":80,"protocol":"HTTP","proxy_protocol_v2":false,"slow_start":0,"stickiness":[{"cookie_duration":86400,"enabled":false,"type":"lb_cookie"}],"tags":null,"target_type":"ip","vpc_id":"vpc-0f797854d0261cf19"},"after":null,"after_unknown":{}}},{"address":"aws_cloudwatch_event_rule.sample-cdktf-event-rule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"sample-cdktf-event-rule","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:events:ap-northeast-1:574185952087:rule/capture-ecr-update","description":"Capture each AWS ECR Update","event_pattern":"{\"detail\":{\"action-type\":[\"PUSH\"],\"result\":[\"SUCCESS\"]},\"detail-type\":[\"ECR Image Action\"],\"source\":[\"aws.ecr\"]}","id":"capture-ecr-update","is_enabled":true,"name":"capture-ecr-update","name_prefix":null,"role_arn":"","schedule_expression":"","tags":null},"after":null,"after_unknown":{}}},{"address":"aws_cloudwatch_event_target.sample-cdktf-event-target","mode":"managed","type":"aws_cloudwatch_event_target","name":"sample-cdktf-event-target","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","batch_target":[],"ecs_target":[],"id":"capture-ecr-update-SendToSNS","input":"","input_path":"","input_transformer":[],"kinesis_target":[],"role_arn":"","rule":"capture-ecr-update","run_command_targets":[],"sqs_target":[],"target_id":"SendToSNS"},"after":null,"after_unknown":{}}},{"address":"aws_cloudwatch_log_group.sample-cdktf-ecs-task-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-ecs-task-log-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:logs:ap-northeast-1:574185952087:log-group:/aws/ecs/task-for-cdktf:*","id":"/aws/ecs/task-for-cdktf","kms_key_id":"","name":"/aws/ecs/task-for-cdktf","name_prefix":null,"retention_in_days":0,"tags":null},"after":null,"after_unknown":{}}},{"address":"aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-notification-to-slack-log-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:logs:ap-northeast-1:574185952087:log-group:/aws/lambda/Sample-Lambda-Notification-to-Slack:*","id":"/aws/lambda/Sample-Lambda-Notification-to-Slack","kms_key_id":"","name":"/aws/lambda/Sample-Lambda-Notification-to-Slack","name_prefix":null,"retention_in_days":0,"tags":null},"after":null,"after_unknown":{}}},{"address":"aws_ecr_repository.sample-cdktf-repository","mode":"managed","type":"aws_ecr_repository","name":"sample-cdktf-repository","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ecr:ap-northeast-1:574185952087:repository/project/sample-ecr","id":"project/sample-ecr","image_scanning_configuration":[{"scan_on_push":false}],"image_tag_mutability":"MUTABLE","name":"project/sample-ecr","registry_id":"574185952087","repository_url":"574185952087.dkr.ecr.ap-northeast-1.amazonaws.com/project/sample-ecr","tags":null,"timeouts":null},"after":null,"after_unknown":{}}},{"address":"aws_ecs_cluster.sample-cdktf-cluster","mode":"managed","type":"aws_ecs_cluster","name":"sample-cdktf-cluster","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster","capacity_providers":null,"default_capacity_provider_strategy":[],"id":"arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster","name":"sample-c
[2022-11-17T18:18:09.039] [DEBUG] default - dktf-cluster","setting":[],"tags":null},"after":null,"after_unknown":{}}},{"address":"aws_ecs_service.sample-cdktf-ecs-service","mode":"managed","type":"aws_ecs_service","name":"sample-cdktf-ecs-service","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"capacity_provider_strategy":[],"cluster":"arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster","deployment_controller":[{"type":"ECS"}],"deployment_maximum_percent":200,"deployment_minimum_healthy_percent":100,"desired_count":1,"enable_ecs_managed_tags":false,"force_new_deployment":null,"health_check_grace_period_seconds":0,"iam_role":"aws-service-role","id":"arn:aws:ecs:ap-northeast-1:574185952087:service/sample-cdktf-cluster/sample-cdktf-ecs-service","launch_type":"FARGATE","load_balancer":[{"container_name":"sample-cdktf-container","container_port":9000,"elb_name":"","target_group_arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/6995f7bc77e2a634"}],"name":"sample-cdktf-ecs-service","network_configuration":[{"assign_public_ip":false,"security_groups":["sg-0f297dde9009b5c3d"],"subnets":["subnet-0c13b8bd7cf3dea49","subnet-0da29deaccb95cf3b"]}],"ordered_placement_strategy":[],"placement_constraints":[],"placement_strategy":[],"platform_version":"LATEST","propagate_tags":"NONE","scheduling_strategy":"REPLICA","service_registries":[],"tags":null,"task_definition":"task-for-cdktf:47","timeouts":null},"after":null,"after_unknown":{}}},{"address":"aws_ecs_task_definition.sample-cdktf-task","mode":"managed","type":"aws_ecs_task_definition","name":"sample-cdktf-task","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ecs:ap-northeast-1:574185952087:task-definition/task-for-cdktf:47","container_definitions":"[{\"cpu\":0,\"environment\":[],\"essential\":true,\"image\":\"574185952087.dkr.ecr.ap-northeast-1.amazonaws.com/project/sample-ecr:latest\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"/aws/ecs/task-for-cdktf\",\"awslogs-region\":\"ap-northeast-1\",\"awslogs-stream-prefix\":\"ecs\"}},\"mountPoints\":[],\"name\":\"sample-cdktf-container\",\"portMappings\":[{\"containerPort\":9000,\"hostPort\":9000,\"protocol\":\"tcp\"}],\"volumesFrom\":[]}]","cpu":"512","execution_role_arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskExecutionRole","family":"task-for-cdktf","id":"task-for-cdktf","inference_accelerator":[],"ipc_mode":"","memory":"1024","network_mode":"awsvpc","pid_mode":"","placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":["FARGATE"],"revision":47,"tags":null,"task_role_arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskRole","volume":[]},"after":null,"after_unknown":{}}},{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"allocation_id":null,"associate_with_private_ip":null,"association_id":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-0255c6e96f0d7920a","instance":"","network_interface":"","private_dns":null,"private_ip":"","public_dns":"ec2-176-32-82-222.ap-northeast-1.compute.amazonaws.com","public_ip":"176.32.82.222","public_ipv4_pool":"amazon","tags":null,"timeouts":null,"vpc":true},"after":null,"after_unknown":{}}},{"address":"aws_iam_policy.ecs-task-execution-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:iam::574185952087:policy/ecs-task-execution-policy","description":"Policy for updating ECS tasks","id":"arn:aws:iam::574185952087:policy/ecs-task-execution-policy","name":"ecs-task-execution-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"},"after":null,"after_unknown":{}}},{"address":"aws_iam_policy.ecs-task-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:iam::574185952087:policy/ecs-task-policy","description":"Policy for updating ECS tasks","id":"arn:aws:iam::574185952087:policy/ecs-task-policy","name":"ecs-task-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecs:DescribeServices\",\n              \"ecs:CreateTaskSet\",\n              \"ecs:UpdateServicePrimaryTaskSet\",\n              \"ecs:DeleteTaskSet\",\n              \"elasticloadbalancing:DescribeTargetGroups\",\n              \"elasticloadbalancing:DescribeListeners\",\n              \"elasticloadbalancing:ModifyListener\",\n              \"elasticloadbalancing:DescribeRules\",\n              \"elasticloadbalancing:ModifyRule\",\n              \"lambda:InvokeFunction\",\n              \"cloudwatch:DescribeAlarms\",\n              \"sns:Publish\",\n              \"s3:GetObject\",\n              \"s3:GetObjectVersion\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"},"after":null,"after_unknown":{}}},{"address":"aws_iam_role.ecsTaskExecutionRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskExecutionRole","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-11-17T09:13:09Z","description":"","force_detach_policies":false,"id":"sample-cdktf-ecsTaskExecutionRole","max_session_duration":3600,"name":"sample-cdktf-ecsTaskExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null,"unique_id":"AROAYLMBGKNL2IUHJD6ZS"},"after":null,"after_unknown":{}}},{"address":"aws_iam_role.ecsTaskRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskRole","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskRole","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-11-17T09:13:09Z","description":"","force_detach_policies":false,"id":"sample-cdktf-ecsTaskRole","max_session_duration":3600,"name":"sample-cdktf-ecsTaskRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null,"unique_id":"AROAYLMBGKNLT4QTI62HF"},"after":null,"after_unknown":{}}},{"address":"aws_iam_role.lambdaExecutionRole","mode":"managed","type":"aws_iam_role","name":"lambdaExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:iam::574185952087:role/sample-cdktf-lambdaExecutionRole","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"lambda.amazonaws.com\",\"ecs-tasks.amazonaws.com\"]},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-11-17T09:13:09Z","description":"","force_detach_policies":false,"id":"sample-cdktf-lambdaExecutionRole","max_session_duration":3600,"name":"sample-cdktf-lambdaExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags
[2022-11-17T18:18:09.039] [DEBUG] default - ":null,"unique_id":"AROAYLMBGKNLVGGGIEYJR"},"after":null,"after_unknown":{}}},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-execution-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"id":"sample-cdktf-ecsTaskExecutionRole-20221117091311735500000001","policy_arn":"arn:aws:iam::574185952087:policy/ecs-task-execution-policy","role":"sample-cdktf-ecsTaskExecutionRole"},"after":null,"after_unknown":{}}},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"id":"sample-cdktf-ecsTaskRole-20221117091311747700000002","policy_arn":"arn:aws:iam::574185952087:policy/ecs-task-policy","role":"sample-cdktf-ecsTaskRole"},"after":null,"after_unknown":{}}},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-08e9b12990c8cf841","id":"igw-08e9b12990c8cf841","owner_id":"574185952087","tags":{"Name":"igw-production sample-cdktf"},"vpc_id":"vpc-0f797854d0261cf19"},"after":null,"after_unknown":{}}},{"address":"aws_lambda_function.Sample-Lambda-Notification-to-Slack","mode":"managed","type":"aws_lambda_function","name":"Sample-Lambda-Notification-to-Slack","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack","dead_letter_config":[],"description":"","environment":[{"variables":{"SLACK_API_TOKEN":"xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp","SLACK_CHANNEL":"C049CPNKHMJ"}}],"file_system_config":[],"filename":null,"function_name":"Sample-Lambda-Notification-to-Slack","handler":"index.handler","id":"Sample-Lambda-Notification-to-Slack","invoke_arn":"arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack/invocations","kms_key_arn":"","last_modified":"2022-11-17T09:13:30.370+0000","layers":null,"memory_size":128,"publish":false,"qualified_arn":"arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack:$LATEST","reserved_concurrent_executions":-1,"role":"arn:aws:iam::574185952087:role/sample-cdktf-lambdaExecutionRole","runtime":"nodejs12.x","s3_bucket":"sample-cdktf-s3","s3_key":"notification-to-Slack-dist.zip","s3_object_version":null,"source_code_hash":"tCCpjM8bYGUMlYE1itasARiG+ZOmfdgQJWCcxS1eRIg=","source_code_size":13887229,"tags":null,"timeout":30,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"after":null,"after_unknown":{}}},{"address":"aws_lambda_permission.permission-to-sns","mode":"managed","type":"aws_lambda_permission","name":"permission-to-sns","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"Sample-Lambda-Notification-to-Slack","id":"AllowExecutionFromSNS","principal":"sns.amazonaws.com","qualifier":"","source_account":null,"source_arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","statement_id":"AllowExecutionFromSNS","statement_id_prefix":null},"after":null,"after_unknown":{}}},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"allocation_id":"eipalloc-0255c6e96f0d7920a","id":"nat-0f0e01fbd8dd2decc","network_interface_id":"eni-02aefcc090a0ac2c2","private_ip":"10.0.11.6","public_ip":"176.32.82.222","subnet_id":"subnet-05196b679129de40b","tags":{"Name":"sample-cdktf nat-gateway-production"}},"after":null,"after_unknown":{}}},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"id":"rtb-08085cf16e95b6c04","owner_id":"574185952087","propagating_vgws":[],"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"nat-0f0e01fbd8dd2decc","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Private rtb"},"vpc_id":"vpc-0f797854d0261cf19"},"after":null,"after_unknown":{}}},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"id":"rtb-0dc261ed2bc989927","owner_id":"574185952087","propagating_vgws":[],"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"igw-08e9b12990c8cf841","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Public rtb"},"vpc_id":"vpc-0f797854d0261cf19"},"after":null,"after_unknown":{}}},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"gateway_id":null,"id":"rtbassoc-0ee6798392bfcf3f6","route_table_id":"rtb-08085cf16e95b6c04","subnet_id":"subnet-0c13b8bd7cf3dea49"},"after":null,"after_unknown":{}}},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"gateway_id":null,"id":"rtbassoc-015716cd467b25136","route_table_id":"rtb-08085cf16e95b6c04","subnet_id":"subnet-0da29deaccb95cf3b"},"after":null,"after_unknown":{}}},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"gateway_id":null,"id":"rtbassoc-010b09ed3355ec8b0","route_table_id":"rtb-0dc261ed2bc989927","subnet_id":"subnet-05196b679129de40b"},"after":null,"after_unknown":{}}},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"gateway_id":null,"id":"rtbassoc-04ff8be1bc6e707ec","route_table_id":"rtb-0dc261ed2bc989927","subnet_id":"subnet-091a68b1faba0e60e"},"after":null,"after_unknown":{}}},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"gateway_id":null,"id":"rtbassoc-010b09ed3355ec8b0","route_table_id":"rtb-0dc261ed2bc989927","subnet_id":"subnet-05196b679129de40b"},"after":null,"after_unknown":{}}},{"address":"aws_s3_bucket.sample-cdktf-s3","mode":"managed","type":"aws_s3_bucket","name":"sample-cdktf-s3","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"acceleration_status":"","acl":"private","arn":"arn:aws:s3:::sample-cdktf-s3","bucket":"sample-cdktf-s3","bucket_domain_name":"sample-cdktf-s3.s3.amazonaws.com","bucket_prefix":null,"bucket_regional_domain_name":"sample-cdktf-s3.s3.ap-northeast-1.amazonaws.com","cors_rule":[],"for
[2022-11-17T18:18:09.039] [DEBUG] default - ce_destroy":false,"grant":[],"hosted_zone_id":"Z2M4EHUR26P7ZW","id":"sample-cdktf-s3","lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":null,"region":"ap-northeast-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[],"tags":null,"versioning":[{"enabled":false,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null},"after":null,"after_unknown":{}}},{"address":"aws_s3_bucket_object.notification-to-Slack-distzip","mode":"managed","type":"aws_s3_bucket_object","name":"notification-to-Slack-distzip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"acl":"private","bucket":"sample-cdktf-s3","cache_control":"","content":null,"content_base64":null,"content_disposition":"","content_encoding":"","content_language":"","content_type":"zip","etag":"4937147d8b730bb24484f81f57592f61","force_destroy":false,"id":"notification-to-Slack-dist.zip","key":"notification-to-Slack-dist.zip","kms_key_id":null,"metadata":null,"object_lock_legal_hold_status":"","object_lock_mode":"","object_lock_retain_until_date":"","server_side_encryption":"","source":"/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip","storage_class":"STANDARD","tags":null,"version_id":"","website_redirect":""},"after":null,"after_unknown":{}}},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:security-group/sg-0d458544e0f1956ee","description":"Managed by Terraform","egress":[],"id":"sg-0d458544e0f1956ee","ingress":[],"name":"sample-cdktf","name_prefix":null,"owner_id":"574185952087","revoke_rules_on_delete":false,"tags":{"Name":"sample-cdktf"},"timeouts":null,"vpc_id":"vpc-0f797854d0261cf19"},"after":null,"after_unknown":{}}},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"id":"sgrule-1191476451","ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_group_id":"sg-0d458544e0f1956ee","self":false,"source_security_group_id":null,"to_port":0,"type":"egress"},"after":null,"after_unknown":{}}},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":80,"id":"sgrule-2887129769","ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_group_id":"sg-0d458544e0f1956ee","self":false,"source_security_group_id":null,"to_port":80,"type":"ingress"},"after":null,"after_unknown":{}}},{"address":"aws_sns_topic.sample-cdktf-sns","mode":"managed","type":"aws_sns_topic","name":"sample-cdktf-sns","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"application_failure_feedback_role_arn":"","application_success_feedback_role_arn":"","application_success_feedback_sample_rate":null,"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","delivery_policy":"","display_name":"","http_failure_feedback_role_arn":"","http_success_feedback_role_arn":"","http_success_feedback_sample_rate":null,"id":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","kms_master_key_id":"","lambda_failure_feedback_role_arn":"","lambda_success_feedback_role_arn":"","lambda_success_feedback_sample_rate":null,"name":"sample-cdktf-sns","name_prefix":null,"policy":"{\"Version\":\"2008-10-17\",\"Id\":\"__default_policy_ID\",\"Statement\":[{\"Sid\":\"__default_statement_ID\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Action\":[\"SNS:GetTopicAttributes\",\"SNS:SetTopicAttributes\",\"SNS:AddPermission\",\"SNS:RemovePermission\",\"SNS:DeleteTopic\",\"SNS:Subscribe\",\"SNS:ListSubscriptionsByTopic\",\"SNS:Publish\"],\"Resource\":\"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns\",\"Condition\":{\"StringEquals\":{\"AWS:SourceOwner\":\"574185952087\"}}}]}","sqs_failure_feedback_role_arn":"","sqs_success_feedback_role_arn":"","sqs_success_feedback_sample_rate":null,"tags":null},"after":null,"after_unknown":{}}},{"address":"aws_sns_topic_policy.sample-cdktf-sns-policy","mode":"managed","type":"aws_sns_topic_policy","name":"sample-cdktf-sns-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","id":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"events.amazonaws.com\"},\"Action\":\"SNS:Publish\",\"Resource\":\"*\"}]}"},"after":null,"after_unknown":{}}},{"address":"aws_sns_topic_subscription.sample-cdktf-sns-subscription","mode":"managed","type":"aws_sns_topic_subscription","name":"sample-cdktf-sns-subscription","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:b71188d1-f766-4827-b952-6b93bc5ffd62","confirmation_timeout_in_minutes":1,"delivery_policy":"","endpoint":"arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack","endpoint_auto_confirms":false,"filter_policy":"","id":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:b71188d1-f766-4827-b952-6b93bc5ffd62","protocol":"lambda","raw_message_delivery":false,"topic_arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns"},"after":null,"after_unknown":{}}},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0c13b8bd7cf3dea49","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.128.0/20","id":"subnet-0c13b8bd7cf3dea49","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Private1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-0f797854d0261cf19"},"after":null,"after_unknown":{}}},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0da29deaccb95cf3b","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.144.0/20","id":"subnet-0da29deaccb95cf3b","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Private2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-0f797854d0261cf19"},"after":null,"after_unknown":{}}},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-05196b679129de40b","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.0.0/20","id":"subnet-05196b679129de40b","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public1 AZ1a sample-cdktf"},"timeouts"
[2022-11-17T18:18:09.039] [DEBUG] default - :null,"vpc_id":"vpc-0f797854d0261cf19"},"after":null,"after_unknown":{}}},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-091a68b1faba0e60e","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.16.0/20","id":"subnet-091a68b1faba0e60e","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-0f797854d0261cf19"},"after":null,"after_unknown":{}}},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-0f797854d0261cf19","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-0215df024c6653a0f","default_route_table_id":"rtb-02104f66d0a491071","default_security_group_id":"sg-0f297dde9009b5c3d","dhcp_options_id":"dopt-03da244493f3f476d","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":true,"enable_dns_support":true,"id":"vpc-0f797854d0261cf19","instance_tenancy":"default","ipv6_association_id":"","ipv6_cidr_block":"","main_route_table_id":"rtb-02104f66d0a491071","owner_id":"574185952087","tags":{"Name":"sample-cdktf production"}},"after":null,"after_unknown":{}}}],"prior_state":{"format_version":"0.1","terraform_version":"0.14.8","values":{"root_module":{"resources":[{"address":"aws_alb.sample-cdktf-alb","mode":"managed","type":"aws_alb","name":"sample-cdktf-alb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"access_logs":[{"bucket":"","enabled":false,"prefix":""}],"arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:loadbalancer/app/sample-cdktf-alb/0eca6de622d833c2","arn_suffix":"app/sample-cdktf-alb/0eca6de622d833c2","dns_name":"sample-cdktf-alb-2045913788.ap-northeast-1.elb.amazonaws.com","drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":true,"enable_deletion_protection":false,"enable_http2":true,"id":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:loadbalancer/app/sample-cdktf-alb/0eca6de622d833c2","idle_timeout":60,"internal":false,"ip_address_type":"ipv4","load_balancer_type":"application","name":"sample-cdktf-alb","name_prefix":null,"security_groups":["sg-0d458544e0f1956ee","sg-0f297dde9009b5c3d"],"subnet_mapping":[{"allocation_id":"","subnet_id":"subnet-05196b679129de40b"},{"allocation_id":"","subnet_id":"subnet-091a68b1faba0e60e"}],"subnets":["subnet-05196b679129de40b","subnet-091a68b1faba0e60e"],"tags":null,"timeouts":null,"vpc_id":"vpc-0f797854d0261cf19","zone_id":"Z14GRHDCWA56QT"},"depends_on":["aws_security_group.sample-cdktf-security-group","aws_subnet.sample-cdktf-public-subnet1","aws_subnet.sample-cdktf-public-subnet2","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_alb_listener.sample-cdktf-alb-listener","mode":"managed","type":"aws_alb_listener","name":"sample-cdktf-alb-listener","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener/app/sample-cdktf-alb/0eca6de622d833c2/716b5b014394fcee","certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[{"content_type":"text/plain","message_body":"OK","status_code":"200"}],"forward":[],"order":1,"redirect":[],"target_group_arn":"","type":"fixed-response"}],"id":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener/app/sample-cdktf-alb/0eca6de622d833c2/716b5b014394fcee","load_balancer_arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:loadbalancer/app/sample-cdktf-alb/0eca6de622d833c2","port":80,"protocol":"HTTP","ssl_policy":"","timeouts":null},"depends_on":["aws_alb.sample-cdktf-alb","aws_security_group.sample-cdktf-security-group","aws_subnet.sample-cdktf-public-subnet1","aws_subnet.sample-cdktf-public-subnet2","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_alb_listener_rule.sample-cdktf-alb-listener-rule","mode":"managed","type":"aws_alb_listener_rule","name":"sample-cdktf-alb-listener-rule","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"order":1,"redirect":[],"target_group_arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/6995f7bc77e2a634","type":"forward"}],"arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener-rule/app/sample-cdktf-alb/0eca6de622d833c2/716b5b014394fcee/42404542dbc746f3","condition":[{"field":"path-pattern","host_header":[],"http_header":[],"http_request_method":[],"path_pattern":[{"values":["*"]}],"query_string":[],"source_ip":[],"values":["*"]}],"id":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener-rule/app/sample-cdktf-alb/0eca6de622d833c2/716b5b014394fcee/42404542dbc746f3","listener_arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener/app/sample-cdktf-alb/0eca6de622d833c2/716b5b014394fcee","priority":100},"depends_on":["aws_alb.sample-cdktf-alb","aws_alb_listener.sample-cdktf-alb-listener","aws_alb_target_group.sample-cdktf-alb-target-group","aws_security_group.sample-cdktf-security-group","aws_subnet.sample-cdktf-public-subnet1","aws_subnet.sample-cdktf-public-subnet2","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_alb_target_group.sample-cdktf-alb-target-group","mode":"managed","type":"aws_alb_target_group","name":"sample-cdktf-alb-target-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/6995f7bc77e2a634","arn_suffix":"targetgroup/sample-cdktf-alb-target-group/6995f7bc77e2a634","deregistration_delay":300,"health_check":[{"enabled":true,"healthy_threshold":3,"interval":30,"matcher":"200","path":"/","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"id":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/6995f7bc77e2a634","lambda_multi_value_headers_enabled":false,"load_balancing_algorithm_type":"round_robin","name":"sample-cdktf-alb-target-group","name_prefix":null,"port":80,"protocol":"HTTP","proxy_protocol_v2":false,"slow_start":0,"stickiness":[{"cookie_duration":86400,"enabled":false,"type":"lb_cookie"}],"tags":null,"target_type":"ip","vpc_id":"vpc-0f797854d0261cf19"},"depends_on":["aws_alb.sample-cdktf-alb","aws_security_group.sample-cdktf-security-group","aws_subnet.sample-cdktf-public-subnet1","aws_subnet.sample-cdktf-public-subnet2","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_cloudwatch_event_rule.sample-cdktf-event-rule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"sample-cdktf-event-rule","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:events:ap-northeast-1:574185952087:rule/capture-ecr-update","description":"Capture each AWS ECR Update","event_pattern":"{\"detail\":{\"action-type\":[\"PUSH\"],\"result\":[\"SUCCESS\"]},\"detail-type\":[\"ECR Image Action\"],\"source\":[\"aws.ecr\"]}","id":"capture-ecr-update","is_enabled":true,"name":"capture-ecr-update","name_prefix":null,"role_arn":"","schedule_expression":"","tags":null}},{"address":"aws_cloudwatch_event_target.sample-cdktf-event-target","mode":"managed","type":"aws_cloudwatch_event_target","name":"sample-cdktf-event-target","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","batch_target":[],"ecs_target":[],"id":"capture-ecr-update-SendToSNS","input":"","input_path":"","input_transformer":[],"kinesis_target":[],"rol
[2022-11-17T18:18:09.039] [DEBUG] default - e_arn":"","rule":"capture-ecr-update","run_command_targets":[],"sqs_target":[],"target_id":"SendToSNS"},"depends_on":["aws_cloudwatch_event_rule.sample-cdktf-event-rule","aws_sns_topic.sample-cdktf-sns"]},{"address":"aws_cloudwatch_log_group.sample-cdktf-ecs-task-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-ecs-task-log-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:logs:ap-northeast-1:574185952087:log-group:/aws/ecs/task-for-cdktf:*","id":"/aws/ecs/task-for-cdktf","kms_key_id":"","name":"/aws/ecs/task-for-cdktf","name_prefix":null,"retention_in_days":0,"tags":null},"depends_on":["aws_ecr_repository.sample-cdktf-repository","aws_ecs_task_definition.sample-cdktf-task","aws_iam_role.ecsTaskExecutionRole","aws_iam_role.ecsTaskRole"]},{"address":"aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-notification-to-slack-log-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:logs:ap-northeast-1:574185952087:log-group:/aws/lambda/Sample-Lambda-Notification-to-Slack:*","id":"/aws/lambda/Sample-Lambda-Notification-to-Slack","kms_key_id":"","name":"/aws/lambda/Sample-Lambda-Notification-to-Slack","name_prefix":null,"retention_in_days":0,"tags":null},"depends_on":["aws_iam_role.lambdaExecutionRole","aws_lambda_function.Sample-Lambda-Notification-to-Slack","aws_s3_bucket.sample-cdktf-s3","aws_s3_bucket_object.notification-to-Slack-distzip"]},{"address":"aws_ecr_repository.sample-cdktf-repository","mode":"managed","type":"aws_ecr_repository","name":"sample-cdktf-repository","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ecr:ap-northeast-1:574185952087:repository/project/sample-ecr","id":"project/sample-ecr","image_scanning_configuration":[{"scan_on_push":false}],"image_tag_mutability":"MUTABLE","name":"project/sample-ecr","registry_id":"574185952087","repository_url":"574185952087.dkr.ecr.ap-northeast-1.amazonaws.com/project/sample-ecr","tags":null,"timeouts":null}},{"address":"aws_ecs_cluster.sample-cdktf-cluster","mode":"managed","type":"aws_ecs_cluster","name":"sample-cdktf-cluster","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster","capacity_providers":null,"default_capacity_provider_strategy":[],"id":"arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster","name":"sample-cdktf-cluster","setting":[],"tags":null}},{"address":"aws_ecs_service.sample-cdktf-ecs-service","mode":"managed","type":"aws_ecs_service","name":"sample-cdktf-ecs-service","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"capacity_provider_strategy":[],"cluster":"arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster","deployment_controller":[{"type":"ECS"}],"deployment_maximum_percent":200,"deployment_minimum_healthy_percent":100,"desired_count":1,"enable_ecs_managed_tags":false,"force_new_deployment":null,"health_check_grace_period_seconds":0,"iam_role":"aws-service-role","id":"arn:aws:ecs:ap-northeast-1:574185952087:service/sample-cdktf-cluster/sample-cdktf-ecs-service","launch_type":"FARGATE","load_balancer":[{"container_name":"sample-cdktf-container","container_port":9000,"elb_name":"","target_group_arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/6995f7bc77e2a634"}],"name":"sample-cdktf-ecs-service","network_configuration":[{"assign_public_ip":false,"security_groups":["sg-0f297dde9009b5c3d"],"subnets":["subnet-0c13b8bd7cf3dea49","subnet-0da29deaccb95cf3b"]}],"ordered_placement_strategy":[],"placement_constraints":[],"placement_strategy":[],"platform_version":"LATEST","propagate_tags":"NONE","scheduling_strategy":"REPLICA","service_registries":[],"tags":null,"task_definition":"task-for-cdktf:47","timeouts":null},"depends_on":["aws_alb.sample-cdktf-alb","aws_alb_target_group.sample-cdktf-alb-target-group","aws_ecr_repository.sample-cdktf-repository","aws_ecs_cluster.sample-cdktf-cluster","aws_ecs_task_definition.sample-cdktf-task","aws_iam_role.ecsTaskExecutionRole","aws_iam_role.ecsTaskRole","aws_security_group.sample-cdktf-security-group","aws_subnet.sample-cdktf-private-subnet1","aws_subnet.sample-cdktf-private-subnet2","aws_subnet.sample-cdktf-public-subnet1","aws_subnet.sample-cdktf-public-subnet2","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_ecs_task_definition.sample-cdktf-task","mode":"managed","type":"aws_ecs_task_definition","name":"sample-cdktf-task","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ecs:ap-northeast-1:574185952087:task-definition/task-for-cdktf:47","container_definitions":"[{\"cpu\":0,\"environment\":[],\"essential\":true,\"image\":\"574185952087.dkr.ecr.ap-northeast-1.amazonaws.com/project/sample-ecr:latest\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"/aws/ecs/task-for-cdktf\",\"awslogs-region\":\"ap-northeast-1\",\"awslogs-stream-prefix\":\"ecs\"}},\"mountPoints\":[],\"name\":\"sample-cdktf-container\",\"portMappings\":[{\"containerPort\":9000,\"hostPort\":9000,\"protocol\":\"tcp\"}],\"volumesFrom\":[]}]","cpu":"512","execution_role_arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskExecutionRole","family":"task-for-cdktf","id":"task-for-cdktf","inference_accelerator":[],"ipc_mode":"","memory":"1024","network_mode":"awsvpc","pid_mode":"","placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":["FARGATE"],"revision":47,"tags":null,"task_role_arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskRole","volume":[]},"depends_on":["aws_ecr_repository.sample-cdktf-repository","aws_iam_role.ecsTaskExecutionRole","aws_iam_role.ecsTaskRole"]},{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"allocation_id":null,"associate_with_private_ip":null,"association_id":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-0255c6e96f0d7920a","instance":"","network_interface":"","private_dns":null,"private_ip":"","public_dns":"ec2-176-32-82-222.ap-northeast-1.compute.amazonaws.com","public_ip":"176.32.82.222","public_ipv4_pool":"amazon","tags":null,"timeouts":null,"vpc":true}},{"address":"aws_iam_policy.ecs-task-execution-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::574185952087:policy/ecs-task-execution-policy","description":"Policy for updating ECS tasks","id":"arn:aws:iam::574185952087:policy/ecs-task-execution-policy","name":"ecs-task-execution-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},{"address":"aws_iam_policy.ecs-task-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::574185952087:policy/ecs-task-policy","description":"Policy for updating ECS tasks","id":"arn:aws:iam::574185952087:policy/ecs-task-policy","name":"ecs-task-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecs:DescribeServices\",\n              \"ecs:CreateTaskSet\",\n              \"ecs:UpdateServicePrimar
[2022-11-17T18:18:09.039] [DEBUG] default - yTaskSet\",\n              \"ecs:DeleteTaskSet\",\n              \"elasticloadbalancing:DescribeTargetGroups\",\n              \"elasticloadbalancing:DescribeListeners\",\n              \"elasticloadbalancing:ModifyListener\",\n              \"elasticloadbalancing:DescribeRules\",\n              \"elasticloadbalancing:ModifyRule\",\n              \"lambda:InvokeFunction\",\n              \"cloudwatch:DescribeAlarms\",\n              \"sns:Publish\",\n              \"s3:GetObject\",\n              \"s3:GetObjectVersion\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},{"address":"aws_iam_role.ecsTaskExecutionRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskExecutionRole","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-11-17T09:13:09Z","description":"","force_detach_policies":false,"id":"sample-cdktf-ecsTaskExecutionRole","max_session_duration":3600,"name":"sample-cdktf-ecsTaskExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null,"unique_id":"AROAYLMBGKNL2IUHJD6ZS"}},{"address":"aws_iam_role.ecsTaskRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskRole","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskRole","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-11-17T09:13:09Z","description":"","force_detach_policies":false,"id":"sample-cdktf-ecsTaskRole","max_session_duration":3600,"name":"sample-cdktf-ecsTaskRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null,"unique_id":"AROAYLMBGKNLT4QTI62HF"}},{"address":"aws_iam_role.lambdaExecutionRole","mode":"managed","type":"aws_iam_role","name":"lambdaExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::574185952087:role/sample-cdktf-lambdaExecutionRole","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"lambda.amazonaws.com\",\"ecs-tasks.amazonaws.com\"]},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-11-17T09:13:09Z","description":"","force_detach_policies":false,"id":"sample-cdktf-lambdaExecutionRole","max_session_duration":3600,"name":"sample-cdktf-lambdaExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null,"unique_id":"AROAYLMBGKNLVGGGIEYJR"}},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-execution-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"sample-cdktf-ecsTaskExecutionRole-20221117091311735500000001","policy_arn":"arn:aws:iam::574185952087:policy/ecs-task-execution-policy","role":"sample-cdktf-ecsTaskExecutionRole"},"depends_on":["aws_iam_policy.ecs-task-execution-policy","aws_iam_role.ecsTaskExecutionRole"]},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"sample-cdktf-ecsTaskRole-20221117091311747700000002","policy_arn":"arn:aws:iam::574185952087:policy/ecs-task-policy","role":"sample-cdktf-ecsTaskRole"},"depends_on":["aws_iam_policy.ecs-task-policy","aws_iam_role.ecsTaskRole"]},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-08e9b12990c8cf841","id":"igw-08e9b12990c8cf841","owner_id":"574185952087","tags":{"Name":"igw-production sample-cdktf"},"vpc_id":"vpc-0f797854d0261cf19"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_lambda_function.Sample-Lambda-Notification-to-Slack","mode":"managed","type":"aws_lambda_function","name":"Sample-Lambda-Notification-to-Slack","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack","dead_letter_config":[],"description":"","environment":[{"variables":{"SLACK_API_TOKEN":"xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp","SLACK_CHANNEL":"C049CPNKHMJ"}}],"file_system_config":[],"filename":null,"function_name":"Sample-Lambda-Notification-to-Slack","handler":"index.handler","id":"Sample-Lambda-Notification-to-Slack","invoke_arn":"arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack/invocations","kms_key_arn":"","last_modified":"2022-11-17T09:13:30.370+0000","layers":null,"memory_size":128,"publish":false,"qualified_arn":"arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack:$LATEST","reserved_concurrent_executions":-1,"role":"arn:aws:iam::574185952087:role/sample-cdktf-lambdaExecutionRole","runtime":"nodejs12.x","s3_bucket":"sample-cdktf-s3","s3_key":"notification-to-Slack-dist.zip","s3_object_version":null,"source_code_hash":"tCCpjM8bYGUMlYE1itasARiG+ZOmfdgQJWCcxS1eRIg=","source_code_size":13887229,"tags":null,"timeout":30,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"depends_on":["aws_iam_role.lambdaExecutionRole","aws_s3_bucket.sample-cdktf-s3","aws_s3_bucket_object.notification-to-Slack-distzip"]},{"address":"aws_lambda_permission.permission-to-sns","mode":"managed","type":"aws_lambda_permission","name":"permission-to-sns","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"Sample-Lambda-Notification-to-Slack","id":"AllowExecutionFromSNS","principal":"sns.amazonaws.com","qualifier":"","source_account":null,"source_arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","statement_id":"AllowExecutionFromSNS","statement_id_prefix":null},"depends_on":["aws_iam_role.lambdaExecutionRole","aws_lambda_function.Sample-Lambda-Notification-to-Slack","aws_s3_bucket.sample-cdktf-s3","aws_s3_bucket_object.notification-to-Slack-distzip","aws_sns_topic.sample-cdktf-sns"]},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"allocation_id":"eipalloc-0255c6e96f0d7920a","id":"nat-0f0e01fbd8dd2decc","network_interface_id":"eni-02aefcc090a0ac2c2","private_ip":"10.0.11.6","public_ip":"176.32.82.222","subnet_id":"subnet-05196b679129de40b","tags":{"Name":"sample-cdktf nat-gateway-production"}},"depends_on":["aws_eip.sample-cdktf-eip","aws_subnet.sample-cdktf-public-subnet1","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"rtb-08085cf16e95b6c04","owner_id":"574185952087","propagating_vgws":[],"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"nat-0f0e01fbd8dd2decc","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Private rtb"},"vpc_id":"vpc-0f797854d0261cf19"},"depends_on":["aws_eip.sample-cdktf-eip","aws_nat_gateway.sample-cdktf-na
[2022-11-17T18:18:09.039] [DEBUG] default - t-gateway","aws_subnet.sample-cdktf-public-subnet1","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"rtb-0dc261ed2bc989927","owner_id":"574185952087","propagating_vgws":[],"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"igw-08e9b12990c8cf841","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Public rtb"},"vpc_id":"vpc-0f797854d0261cf19"},"depends_on":["aws_internet_gateway.sample-cdktf-igw-production","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-0ee6798392bfcf3f6","route_table_id":"rtb-08085cf16e95b6c04","subnet_id":"subnet-0c13b8bd7cf3dea49"},"depends_on":["aws_eip.sample-cdktf-eip","aws_nat_gateway.sample-cdktf-nat-gateway","aws_route_table.sample-cdktf-private-rtb","aws_subnet.sample-cdktf-private-subnet1","aws_subnet.sample-cdktf-public-subnet1","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-015716cd467b25136","route_table_id":"rtb-08085cf16e95b6c04","subnet_id":"subnet-0da29deaccb95cf3b"},"depends_on":["aws_eip.sample-cdktf-eip","aws_nat_gateway.sample-cdktf-nat-gateway","aws_route_table.sample-cdktf-private-rtb","aws_subnet.sample-cdktf-private-subnet2","aws_subnet.sample-cdktf-public-subnet1","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-010b09ed3355ec8b0","route_table_id":"rtb-0dc261ed2bc989927","subnet_id":"subnet-05196b679129de40b"},"depends_on":["aws_internet_gateway.sample-cdktf-igw-production","aws_route_table.sample-cdktf-public-rtb","aws_subnet.sample-cdktf-public-subnet1","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-04ff8be1bc6e707ec","route_table_id":"rtb-0dc261ed2bc989927","subnet_id":"subnet-091a68b1faba0e60e"},"depends_on":["aws_internet_gateway.sample-cdktf-igw-production","aws_route_table.sample-cdktf-public-rtb","aws_subnet.sample-cdktf-public-subnet2","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-010b09ed3355ec8b0","route_table_id":"rtb-0dc261ed2bc989927","subnet_id":"subnet-05196b679129de40b"},"depends_on":["aws_internet_gateway.sample-cdktf-igw-production","aws_route_table.sample-cdktf-public-rtb","aws_subnet.sample-cdktf-public-subnet1","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_s3_bucket.sample-cdktf-s3","mode":"managed","type":"aws_s3_bucket","name":"sample-cdktf-s3","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acceleration_status":"","acl":"private","arn":"arn:aws:s3:::sample-cdktf-s3","bucket":"sample-cdktf-s3","bucket_domain_name":"sample-cdktf-s3.s3.amazonaws.com","bucket_prefix":null,"bucket_regional_domain_name":"sample-cdktf-s3.s3.ap-northeast-1.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[],"hosted_zone_id":"Z2M4EHUR26P7ZW","id":"sample-cdktf-s3","lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":null,"region":"ap-northeast-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[],"tags":null,"versioning":[{"enabled":false,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null}},{"address":"aws_s3_bucket_object.notification-to-Slack-distzip","mode":"managed","type":"aws_s3_bucket_object","name":"notification-to-Slack-distzip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","bucket":"sample-cdktf-s3","cache_control":"","content":null,"content_base64":null,"content_disposition":"","content_encoding":"","content_language":"","content_type":"zip","etag":"4937147d8b730bb24484f81f57592f61","force_destroy":false,"id":"notification-to-Slack-dist.zip","key":"notification-to-Slack-dist.zip","kms_key_id":null,"metadata":null,"object_lock_legal_hold_status":"","object_lock_mode":"","object_lock_retain_until_date":"","server_side_encryption":"","source":"/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip","storage_class":"STANDARD","tags":null,"version_id":"","website_redirect":""},"depends_on":["aws_s3_bucket.sample-cdktf-s3"]},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:security-group/sg-0d458544e0f1956ee","description":"Managed by Terraform","egress":[],"id":"sg-0d458544e0f1956ee","ingress":[],"name":"sample-cdktf","name_prefix":null,"owner_id":"574185952087","revoke_rules_on_delete":false,"tags":{"Name":"sample-cdktf"},"timeouts":null,"vpc_id":"vpc-0f797854d0261cf19"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"id":"sgrule-1191476451","ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_group_id":"sg-0d458544e0f1956ee","self":false,"source_security_group_id":null,"to_port":0,"type":"egress"},"depends_on":["aws_security_group.sample-cdktf-security-group","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":80,"id":"sgrule-2887129769","ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_group_id":"sg-0d458544e0f1956ee","self":false,"source_security_group_id":null,"to_port":80,"type":"ingress"},"depends_on":["aws_security_group.sample-cdktf-security-group","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_sns_topic.sample-cdktf-sns","mode":"managed","type":"aws_sns_topic","name":"sample-cdktf-sns","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"application_failure_feedback_role_arn":"","application_success_feedback_role_arn":"","application_success_feedback_sample_rate":null,"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","delivery_policy":"","display_name":"","http_failure_feedback_role_arn":"","http_success_feedback_role_arn":"","http_success_feedback_sample_rate":null,"id":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","kms_master_key_id":"","lambda_failure_feedback_role_arn":"","lambda_success_feedback_role_arn":"","lambda_success_feedback_sample_rate":null,"name":"sa
[2022-11-17T18:18:09.039] [DEBUG] default - mple-cdktf-sns","name_prefix":null,"policy":"{\"Version\":\"2008-10-17\",\"Id\":\"__default_policy_ID\",\"Statement\":[{\"Sid\":\"__default_statement_ID\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Action\":[\"SNS:GetTopicAttributes\",\"SNS:SetTopicAttributes\",\"SNS:AddPermission\",\"SNS:RemovePermission\",\"SNS:DeleteTopic\",\"SNS:Subscribe\",\"SNS:ListSubscriptionsByTopic\",\"SNS:Publish\"],\"Resource\":\"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns\",\"Condition\":{\"StringEquals\":{\"AWS:SourceOwner\":\"574185952087\"}}}]}","sqs_failure_feedback_role_arn":"","sqs_success_feedback_role_arn":"","sqs_success_feedback_sample_rate":null,"tags":null}},{"address":"aws_sns_topic_policy.sample-cdktf-sns-policy","mode":"managed","type":"aws_sns_topic_policy","name":"sample-cdktf-sns-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","id":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"events.amazonaws.com\"},\"Action\":\"SNS:Publish\",\"Resource\":\"*\"}]}"},"depends_on":["aws_sns_topic.sample-cdktf-sns"]},{"address":"aws_sns_topic_subscription.sample-cdktf-sns-subscription","mode":"managed","type":"aws_sns_topic_subscription","name":"sample-cdktf-sns-subscription","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:b71188d1-f766-4827-b952-6b93bc5ffd62","confirmation_timeout_in_minutes":1,"delivery_policy":"","endpoint":"arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack","endpoint_auto_confirms":false,"filter_policy":"","id":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:b71188d1-f766-4827-b952-6b93bc5ffd62","protocol":"lambda","raw_message_delivery":false,"topic_arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns"},"depends_on":["aws_iam_role.lambdaExecutionRole","aws_lambda_function.Sample-Lambda-Notification-to-Slack","aws_s3_bucket.sample-cdktf-s3","aws_s3_bucket_object.notification-to-Slack-distzip","aws_sns_topic.sample-cdktf-sns"]},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0c13b8bd7cf3dea49","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.128.0/20","id":"subnet-0c13b8bd7cf3dea49","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Private1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-0f797854d0261cf19"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0da29deaccb95cf3b","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.144.0/20","id":"subnet-0da29deaccb95cf3b","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Private2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-0f797854d0261cf19"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-05196b679129de40b","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.0.0/20","id":"subnet-05196b679129de40b","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-0f797854d0261cf19"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-091a68b1faba0e60e","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.16.0/20","id":"subnet-091a68b1faba0e60e","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-0f797854d0261cf19"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-0f797854d0261cf19","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-0215df024c6653a0f","default_route_table_id":"rtb-02104f66d0a491071","default_security_group_id":"sg-0f297dde9009b5c3d","dhcp_options_id":"dopt-03da244493f3f476d","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":true,"enable_dns_support":true,"id":"vpc-0f797854d0261cf19","instance_tenancy":"default","ipv6_association_id":"","ipv6_cidr_block":"","main_route_table_id":"rtb-02104f66d0a491071","owner_id":"574185952087","tags":{"Name":"sample-cdktf production"}}}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","version_constraint":"~\u003e 2.0","expressions":{"region":{"constant_value":"ap-northeast-1"}}}},"root_module":{"resources":[{"address":"aws_alb.sample-cdktf-alb","mode":"managed","type":"aws_alb","name":"sample-cdktf-alb","provider_config_key":"aws","expressions":{"enable_deletion_protection":{"constant_value":false},"enable_http2":{"constant_value":true},"internal":{"constant_value":false},"ip_address_type":{"constant_value":"ipv4"},"load_balancer_type":{"constant_value":"application"},"name":{"constant_value":"sample-cdktf-alb"},"security_groups":{"constant_value":["${aws_security_group.sample-cdktf-security-group.id}","${aws_vpc.sample-cdktf-vpc.default_security_group_id}"],"references":["aws_security_group.sample-cdktf-security-group","aws_vpc.sample-cdktf-vpc"]},"subnets":{"constant_value":["${aws_subnet.sample-cdktf-public-subnet1.id}","${aws_subnet.sample-cdktf-public-subnet2.id}"],"references":["aws_subnet.sample-cdktf-public-subnet1","aws_subnet.sample-cdktf-public-subnet2"]}},"schema_version":0},{"address":"aws_alb_listener.sample-cdktf-alb-listener","mode":"managed","type":"aws_alb_listener","name":"sample-cdktf-alb-listener","provider_config_key":"aws","expressions":{"default_action":[{"fixed_response":[{"content_type":{"constant_value":"text/plain"},"message_body":{"constant_value":"OK"},"status_code":{"constant_value":"200"}}],"type":{"constant_value":"fixed-response"}}],"load_balancer_arn":{"constant_value":"${aws_alb.sample-cdktf-alb.arn}","references":["aws_alb.sample-cdktf-alb"]},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"}},"schema_version":0},{"address":"aws_alb_listener_rule.sample-cdktf-alb-listener-rule","mode":"managed","type":"aws_alb_listener_rule","name":"sample-cdktf-alb-listener-rule","provider_config_key":"aws","expressions":{"action":[{"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]},"type":{"constant_value":"forward"}}],"condition":[{"field":{"constant_value":"path-patt
[2022-11-17T18:18:09.040] [DEBUG] default - ern"},"values":{"constant_value":["*"]}}],"listener_arn":{"constant_value":"${aws_alb_listener.sample-cdktf-alb-listener.arn}","references":["aws_alb_listener.sample-cdktf-alb-listener"]},"priority":{"constant_value":100}},"schema_version":0},{"address":"aws_alb_target_group.sample-cdktf-alb-target-group","mode":"managed","type":"aws_alb_target_group","name":"sample-cdktf-alb-target-group","provider_config_key":"aws","expressions":{"health_check":[{"interval":{"constant_value":30},"path":{"constant_value":"/"},"port":{"constant_value":"traffic-port"},"protocol":{"constant_value":"HTTP"},"timeout":{"constant_value":5},"unhealthy_threshold":{"constant_value":2}}],"name":{"constant_value":"sample-cdktf-alb-target-group"},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"},"target_type":{"constant_value":"ip"},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0,"depends_on":["aws_alb.sample-cdktf-alb"]},{"address":"aws_cloudwatch_event_rule.sample-cdktf-event-rule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"sample-cdktf-event-rule","provider_config_key":"aws","expressions":{"description":{"constant_value":"Capture each AWS ECR Update"},"event_pattern":{"constant_value":"{\n        \"source\": [\"aws.ecr\"],\n        \"detail-type\": [\"ECR Image Action\"],\n        \"detail\": {\n          \"action-type\": [\"PUSH\"],\n          \"result\": [\"SUCCESS\"]\n        }\n      }"},"name":{"constant_value":"capture-ecr-update"}},"schema_version":0},{"address":"aws_cloudwatch_event_target.sample-cdktf-event-target","mode":"managed","type":"aws_cloudwatch_event_target","name":"sample-cdktf-event-target","provider_config_key":"aws","expressions":{"arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"rule":{"constant_value":"${aws_cloudwatch_event_rule.sample-cdktf-event-rule.name}","references":["aws_cloudwatch_event_rule.sample-cdktf-event-rule"]},"target_id":{"constant_value":"SendToSNS"}},"schema_version":0},{"address":"aws_cloudwatch_log_group.sample-cdktf-ecs-task-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-ecs-task-log-group","provider_config_key":"aws","expressions":{"name":{"constant_value":"/aws/ecs/${aws_ecs_task_definition.sample-cdktf-task.family}","references":["aws_ecs_task_definition.sample-cdktf-task"]}},"schema_version":0},{"address":"aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-notification-to-slack-log-group","provider_config_key":"aws","expressions":{"name":{"constant_value":"/aws/lambda/${aws_lambda_function.Sample-Lambda-Notification-to-Slack.function_name}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]}},"schema_version":0},{"address":"aws_ecr_repository.sample-cdktf-repository","mode":"managed","type":"aws_ecr_repository","name":"sample-cdktf-repository","provider_config_key":"aws","expressions":{"name":{"constant_value":"project/sample-ecr"}},"schema_version":0},{"address":"aws_ecs_cluster.sample-cdktf-cluster","mode":"managed","type":"aws_ecs_cluster","name":"sample-cdktf-cluster","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf-cluster"}},"schema_version":0},{"address":"aws_ecs_service.sample-cdktf-ecs-service","mode":"managed","type":"aws_ecs_service","name":"sample-cdktf-ecs-service","provider_config_key":"aws","expressions":{"cluster":{"constant_value":"${aws_ecs_cluster.sample-cdktf-cluster.id}","references":["aws_ecs_cluster.sample-cdktf-cluster"]},"deployment_maximum_percent":{"constant_value":200},"deployment_minimum_healthy_percent":{"constant_value":100},"desired_count":{"constant_value":1},"launch_type":{"constant_value":"FARGATE"},"load_balancer":[{"container_name":{"constant_value":"sample-cdktf-container"},"container_port":{"constant_value":9000},"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]}}],"name":{"constant_value":"sample-cdktf-ecs-service"},"network_configuration":[{"security_groups":{"constant_value":["${aws_vpc.sample-cdktf-vpc.default_security_group_id}"],"references":["aws_vpc.sample-cdktf-vpc"]},"subnets":{"constant_value":["${aws_subnet.sample-cdktf-private-subnet1.id}","${aws_subnet.sample-cdktf-private-subnet2.id}"],"references":["aws_subnet.sample-cdktf-private-subnet1","aws_subnet.sample-cdktf-private-subnet2"]}}],"platform_version":{"constant_value":"LATEST"},"task_definition":{"constant_value":"${aws_ecs_task_definition.sample-cdktf-task.id}","references":["aws_ecs_task_definition.sample-cdktf-task"]}},"schema_version":0},{"address":"aws_ecs_task_definition.sample-cdktf-task","mode":"managed","type":"aws_ecs_task_definition","name":"sample-cdktf-task","provider_config_key":"aws","expressions":{"container_definitions":{"constant_value":"[\n      {\n        \"essential\":    true,\n        \"name\":         \"sample-cdktf-container\",\n        \"image\":        \"${aws_ecr_repository.sample-cdktf-repository.repository_url}:latest\",\n        \"portMappings\": [\n          {\n            \"hostPort\":      9000,\n            \"protocol\":      \"tcp\",\n            \"containerPort\": 9000\n          }\n        ],\n        \"logConfiguration\": {\n          \"logDriver\": \"awslogs\",\n          \"options\": {\n            \"awslogs-group\":         \"/aws/ecs/task-for-cdktf\",\n            \"awslogs-stream-prefix\": \"ecs\",\n            \"awslogs-region\":        \"ap-northeast-1\"\n          }\n        }\n      }\n    ]","references":["aws_ecr_repository.sample-cdktf-repository"]},"cpu":{"constant_value":"512"},"execution_role_arn":{"constant_value":"${aws_iam_role.ecsTaskExecutionRole.arn}","references":["aws_iam_role.ecsTaskExecutionRole"]},"family":{"constant_value":"task-for-cdktf"},"memory":{"constant_value":"1024"},"network_mode":{"constant_value":"awsvpc"},"requires_compatibilities":{"constant_value":["FARGATE"]},"task_role_arn":{"constant_value":"${aws_iam_role.ecsTaskRole.arn}","references":["aws_iam_role.ecsTaskRole"]}},"schema_version":1},{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_config_key":"aws","expressions":{"vpc":{"constant_value":true}},"schema_version":0},{"address":"aws_iam_policy.ecs-task-execution-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-execution-policy","provider_config_key":"aws","expressions":{"description":{"constant_value":"Policy for updating ECS tasks"},"name":{"constant_value":"ecs-task-execution-policy"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_policy.ecs-task-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-policy","provider_config_key":"aws","expressions":{"description":{"constant_value":"Policy for updating ECS tasks"},"name":{"constant_value":"ecs-task-policy"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecs:DescribeServices\",\n              \"ecs:CreateTaskSet\",\n              \"ecs:UpdateServicePrimaryTaskSet\",\n              \"ecs:DeleteTaskSet\",\n              \"elasticloadbalancing:DescribeTargetGroups\",\n              \"elasticloadbalancing:DescribeListeners\",\n              \"elasticloadbalancing:ModifyListener\",\n              \"elasticloadbalancing:DescribeRules\",\n              \"elasticloadbalancing:ModifyRule\",\n      
[2022-11-17T18:18:09.040] [DEBUG] default -         \"lambda:InvokeFunction\",\n              \"cloudwatch:DescribeAlarms\",\n              \"sns:Publish\",\n              \"s3:GetObject\",\n              \"s3:GetObjectVersion\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_policy.lambda-logging","mode":"managed","type":"aws_iam_policy","name":"lambda-logging","provider_config_key":"aws","expressions":{"description":{"constant_value":"IAM policy for logging from a lambda"},"name":{"constant_value":"sample-cdktf-lambda-logging"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"iam:PassRole\",\n              \"ecs:RegisterTaskDefinition\",\n              \"ecs:UpdateService\",\n              \"logs:CreateLogGroup\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"arn:aws:logs:*:*:*\",\n              \"arn:aws:ecs:*:*:*\",\n              \"arn:${aws_iam_role.ecsTaskExecutionRole.arn}\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }","references":["aws_iam_role.ecsTaskExecutionRole"]}},"schema_version":0,"depends_on":["aws_iam_role.ecsTaskExecutionRole"]},{"address":"aws_iam_role.ecsTaskExecutionRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskExecutionRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\":    \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-ecsTaskExecutionRole"}},"schema_version":0},{"address":"aws_iam_role.ecsTaskRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\": \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n          },\n          \"Effect\": \"Allow\",\n          \"Sid\": \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-ecsTaskRole"}},"schema_version":0},{"address":"aws_iam_role.lambdaExecutionRole","mode":"managed","type":"aws_iam_role","name":"lambdaExecutionRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": [\n                \"lambda.amazonaws.com\",\n                \"ecs-tasks.amazonaws.com\"\n              ]\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-lambdaExecutionRole"}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-execution-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-execution-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.ecs-task-execution-policy.arn}","references":["aws_iam_policy.ecs-task-execution-policy"]},"role":{"constant_value":"${aws_iam_role.ecsTaskExecutionRole.name}","references":["aws_iam_role.ecsTaskExecutionRole"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.ecs-task-policy.arn}","references":["aws_iam_policy.ecs-task-policy"]},"role":{"constant_value":"${aws_iam_role.ecsTaskRole.name}","references":["aws_iam_role.ecsTaskRole"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-lambda-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-lambda-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.lambda-logging.arn}","references":["aws_iam_policy.lambda-logging"]},"role":{"constant_value":"${aws_iam_role.lambdaExecutionRole.name}","references":["aws_iam_role.lambdaExecutionRole"]}},"schema_version":0},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_config_key":"aws","expressions":{"tags":{"constant_value":{"Name":"igw-production sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_lambda_function.Sample-Lambda-Notification-to-Slack","mode":"managed","type":"aws_lambda_function","name":"Sample-Lambda-Notification-to-Slack","provider_config_key":"aws","expressions":{"environment":[{"variables":{"constant_value":{"SLACK_API_TOKEN":"xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp","SLACK_CHANNEL":"C049CPNKHMJ"}}}],"function_name":{"constant_value":"Sample-Lambda-Notification-to-Slack"},"handler":{"constant_value":"index.handler"},"role":{"constant_value":"${aws_iam_role.lambdaExecutionRole.arn}","references":["aws_iam_role.lambdaExecutionRole"]},"runtime":{"constant_value":"nodejs12.x"},"s3_bucket":{"constant_value":"${aws_s3_bucket.sample-cdktf-s3.bucket}","references":["aws_s3_bucket.sample-cdktf-s3"]},"s3_key":{"constant_value":"${aws_s3_bucket_object.notification-to-Slack-distzip.key}","references":["aws_s3_bucket_object.notification-to-Slack-distzip"]},"timeout":{"constant_value":30}},"schema_version":0},{"address":"aws_lambda_permission.permission-to-sns","mode":"managed","type":"aws_lambda_permission","name":"permission-to-sns","provider_config_key":"aws","expressions":{"action":{"constant_value":"lambda:InvokeFunction"},"function_name":{"constant_value":"${aws_lambda_function.Sample-Lambda-Notification-to-Slack.function_name}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]},"principal":{"constant_value":"sns.amazonaws.com"},"source_arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"statement_id":{"constant_value":"AllowExecutionFromSNS"}},"schema_version":0},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_config_key":"aws","expressions":{"allocation_id":{"constant_value":"${aws_eip.sample-cdktf-eip.id}","references":["aws_eip.sample-cdktf-eip"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]},"tags":{"constant_value":{"Name":"sample-cdktf nat-gateway-production"}}},"schema_version":0},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_config_key":"aws","expressions":{"route":{"constant_value":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"${aws_nat_gateway.sample-cdktf-nat-gateway.id}","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"references":["aws_nat_gateway.sample-cdktf-nat-gateway"]},"tags":{"constant_value":{"Name":"sample-cdktf Private rtb"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_config_key":"aws","expressions":{"route":{"constant_value":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"${aws_internet_gateway.sample-cdktf-i
[2022-11-17T18:18:09.040] [DEBUG] default - gw-production.id}","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"references":["aws_internet_gateway.sample-cdktf-igw-production"]},"tags":{"constant_value":{"Name":"sample-cdktf Public rtb"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-private-rtb.id}","references":["aws_route_table.sample-cdktf-private-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-private-subnet1.id}","references":["aws_subnet.sample-cdktf-private-subnet1"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-private-rtb.id}","references":["aws_route_table.sample-cdktf-private-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-private-subnet2.id}","references":["aws_subnet.sample-cdktf-private-subnet2"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet2.id}","references":["aws_subnet.sample-cdktf-public-subnet2"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]}},"schema_version":0},{"address":"aws_s3_bucket.sample-cdktf-s3","mode":"managed","type":"aws_s3_bucket","name":"sample-cdktf-s3","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"sample-cdktf-s3"},"region":{"constant_value":"ap-northeast-1"}},"schema_version":0},{"address":"aws_s3_bucket_object.notification-to-Slack-distzip","mode":"managed","type":"aws_s3_bucket_object","name":"notification-to-Slack-distzip","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"${aws_s3_bucket.sample-cdktf-s3.bucket}","references":["aws_s3_bucket.sample-cdktf-s3"]},"content_type":{"constant_value":"zip"},"key":{"constant_value":"notification-to-Slack-dist.zip"},"source":{"constant_value":"/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip"}},"schema_version":0},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf"},"tags":{"constant_value":{"Name":"sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":0},"protocol":{"constant_value":"all"},"security_group_id":{"constant_value":"${aws_security_group.sample-cdktf-security-group.id}","references":["aws_security_group.sample-cdktf-security-group"]},"to_port":{"constant_value":0},"type":{"constant_value":"egress"}},"schema_version":2},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":80},"protocol":{"constant_value":"tcp"},"security_group_id":{"constant_value":"${aws_security_group.sample-cdktf-security-group.id}","references":["aws_security_group.sample-cdktf-security-group"]},"to_port":{"constant_value":80},"type":{"constant_value":"ingress"}},"schema_version":2},{"address":"aws_sns_topic.sample-cdktf-sns","mode":"managed","type":"aws_sns_topic","name":"sample-cdktf-sns","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf-sns"}},"schema_version":0},{"address":"aws_sns_topic_policy.sample-cdktf-sns-policy","mode":"managed","type":"aws_sns_topic_policy","name":"sample-cdktf-sns-policy","provider_config_key":"aws","expressions":{"arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": {\n          \"Effect\": \"Allow\",\n          \"Sid\":    \"\",\n          \"Principal\": {\n            \"Service\": \"events.amazonaws.com\"\n          },\n          \"Action\": [\n            \"SNS:Publish\"\n          ],\n          \"Resource\": [\n            \"*\"\n          ]\n        }\n      }"}},"schema_version":0},{"address":"aws_sns_topic_subscription.sample-cdktf-sns-subscription","mode":"managed","type":"aws_sns_topic_subscription","name":"sample-cdktf-sns-subscription","provider_config_key":"aws","expressions":{"endpoint":{"constant_value":"${aws_lambda_function.Sample-Lambda-Notification-to-Slack.arn}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]},"protocol":{"constant_value":"lambda"},"topic_arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]}},"schema_version":0},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1a"},"cidr_block":{"constant_value":"10.0.128.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Private1 AZ1a sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1c"},"cidr_block":{"constant_value":"10.0.144.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Private2 AZ1c sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1a"},"cidr_block":{"constant_value":"10.0.0.0/20"},"map_public_ip_on_launch":{"constant_value":t
[2022-11-17T18:18:09.040] [DEBUG] default - rue},"tags":{"constant_value":{"Name":"Public1 AZ1a sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1c"},"cidr_block":{"constant_value":"10.0.16.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Public2 AZ1c sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_config_key":"aws","expressions":{"cidr_block":{"constant_value":"10.0.0.0/16"},"enable_dns_hostnames":{"constant_value":true},"tags":{"constant_value":{"Name":"sample-cdktf production"}}},"schema_version":1}]}}}

[2022-11-17T18:18:19.431] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-private-rtb-association2: Destroying... [id=rtbassoc-015716cd467b25136][0m[0m
[0m[1maws_route_table_association.sample-cdktf-public-rtb1: Destroying... [id=rtbassoc-010b09ed3355ec8b0][0m[0m

[2022-11-17T18:18:19.488] [DEBUG] default - [0m[1maws_iam_role_policy_attachment.attach-ecs-task-policy: Destroying... [id=sample-cdktf-ecsTaskRole-20221117091311747700000002][0m[0m
[0m[1maws_security_group_rule.sample-cdktf-security-ingress: Destroying... [id=sgrule-2887129769][0m[0m
[0m[1maws_lambda_permission.permission-to-sns: Destroying... [id=AllowExecutionFromSNS][0m[0m
[0m[1maws_sns_topic_policy.sample-cdktf-sns-policy: Destroying... [id=arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns][0m[0m
[0m[1maws_security_group_rule.sample-cdktf-security-egress: Destroying... [id=sgrule-1191476451][0m[0m
[0m[1maws_route_table_association.sample-cdktf-public-rtb-association2: Destroying... [id=rtbassoc-04ff8be1bc6e707ec][0m[0m
[0m[1maws_cloudwatch_log_group.sample-cdktf-ecs-task-log-group: Destroying... [id=/aws/ecs/task-for-cdktf][0m[0m
[0m[1maws_cloudwatch_event_target.sample-cdktf-event-target: Destroying... [id=capture-ecr-update-SendToSNS][0m[0m

[2022-11-17T18:18:19.540] [DEBUG] default - [0m[1maws_cloudwatch_event_target.sample-cdktf-event-target: Destruction complete after 1s[0m[0m

[2022-11-17T18:18:19.627] [DEBUG] default - [0m[1maws_cloudwatch_log_group.sample-cdktf-ecs-task-log-group: Destruction complete after 1s[0m[0m
[0m[1maws_sns_topic_policy.sample-cdktf-sns-policy: Destruction complete after 1s[0m[0m
[0m[1maws_sns_topic_subscription.sample-cdktf-sns-subscription: Destroying... [id=arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:b71188d1-f766-4827-b952-6b93bc5ffd62][0m[0m
[0m[1maws_route_table_association.sample-cdktf-private-rtb-association1: Destroying... [id=rtbassoc-0ee6798392bfcf3f6][0m[0m
[0m[1maws_iam_role_policy_attachment.attach-ecs-task-execution-policy: Destroying... [id=sample-cdktf-ecsTaskExecutionRole-20221117091311735500000001][0m[0m

[2022-11-17T18:18:19.715] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-private-rtb-association2: Destruction complete after 1s[0m[0m
[0m[1maws_route_table_association.sample-cdktf-public-rtb-association2: Destruction complete after 1s[0m[0m

[2022-11-17T18:18:19.758] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-public-rtb1: Destruction complete after 1s[0m[0m
[0m[1maws_route_table_association.sample-cdktf-public-rtb-association1: Destroying... [id=rtbassoc-010b09ed3355ec8b0][0m[0m
[0m[1maws_alb_listener_rule.sample-cdktf-alb-listener-rule: Destroying... [id=arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener-rule/app/sample-cdktf-alb/0eca6de622d833c2/716b5b014394fcee/42404542dbc746f3][0m[0m

[2022-11-17T18:18:19.845] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Destroying... [id=arn:aws:ecs:ap-northeast-1:574185952087:service/sample-cdktf-cluster/sample-cdktf-ecs-service][0m[0m
[0m[1maws_lambda_permission.permission-to-sns: Destruction complete after 1s[0m[0m

[2022-11-17T18:18:19.933] [DEBUG] default - [0m[1maws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group: Destroying... [id=/aws/lambda/Sample-Lambda-Notification-to-Slack][0m[0m
[0m[1maws_sns_topic_subscription.sample-cdktf-sns-subscription: Destruction complete after 0s[0m[0m
[0m[1maws_cloudwatch_event_rule.sample-cdktf-event-rule: Destroying... [id=capture-ecr-update][0m[0m

[2022-11-17T18:18:19.959] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-public-rtb-association1: Destruction complete after 0s[0m[0m

[2022-11-17T18:18:19.980] [DEBUG] default - [0m[1maws_alb_listener_rule.sample-cdktf-alb-listener-rule: Destruction complete after 0s[0m[0m
[0m[1maws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group: Destruction complete after 0s[0m[0m

[2022-11-17T18:18:20.068] [DEBUG] default - [0m[1maws_sns_topic.sample-cdktf-sns: Destroying... [id=arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns][0m[0m
[0m[1maws_route_table.sample-cdktf-public-rtb: Destroying... [id=rtb-0dc261ed2bc989927][0m[0m
[0m[1maws_alb_listener.sample-cdktf-alb-listener: Destroying... [id=arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener/app/sample-cdktf-alb/0eca6de622d833c2/716b5b014394fcee][0m[0m
[0m[1maws_route_table_association.sample-cdktf-private-rtb-association1: Destruction complete after 0s[0m[0m
[0m[1maws_lambda_function.Sample-Lambda-Notification-to-Slack: Destroying... [id=Sample-Lambda-Notification-to-Slack][0m[0m

[2022-11-17T18:18:20.110] [DEBUG] default - [0m[1maws_cloudwatch_event_rule.sample-cdktf-event-rule: Destruction complete after 0s[0m[0m

[2022-11-17T18:18:20.156] [DEBUG] default - [0m[1maws_route_table.sample-cdktf-private-rtb: Destroying... [id=rtb-08085cf16e95b6c04][0m[0m

[2022-11-17T18:18:20.206] [DEBUG] default - [0m[1maws_security_group_rule.sample-cdktf-security-ingress: Destruction complete after 1s[0m[0m
[0m[1maws_sns_topic.sample-cdktf-sns: Destruction complete after 0s[0m[0m

[2022-11-17T18:18:20.280] [DEBUG] default - [0m[1maws_alb_listener.sample-cdktf-alb-listener: Destruction complete after 0s[0m[0m
[0m[1maws_iam_role_policy_attachment.attach-ecs-task-policy: Destruction complete after 1s[0m[0m
[0m[1maws_iam_policy.ecs-task-policy: Destroying... [id=arn:aws:iam::574185952087:policy/ecs-task-policy][0m[0m
[0m[1maws_lambda_function.Sample-Lambda-Notification-to-Slack: Destruction complete after 0s[0m[0m

[2022-11-17T18:18:20.369] [DEBUG] default - [0m[1maws_iam_role.lambdaExecutionRole: Destroying... [id=sample-cdktf-lambdaExecutionRole][0m[0m
[0m[1maws_s3_bucket_object.notification-to-Slack-distzip: Destroying... [id=notification-to-Slack-dist.zip][0m[0m

[2022-11-17T18:18:20.473] [DEBUG] default - [0m[1maws_s3_bucket_object.notification-to-Slack-distzip: Destruction complete after 0s[0m[0m
[0m[1maws_s3_bucket.sample-cdktf-s3: Destroying... [id=sample-cdktf-s3][0m[0m
[0m[1maws_iam_role_policy_attachment.attach-ecs-task-execution-policy: Destruction complete after 0s[0m[0m
[0m[1maws_iam_policy.ecs-task-execution-policy: Destroying... [id=arn:aws:iam::574185952087:policy/ecs-task-execution-policy][0m[0m

[2022-11-17T18:18:20.606] [DEBUG] default - [0m[1maws_route_table.sample-cdktf-public-rtb: Destruction complete after 1s[0m[0m
[0m[1maws_internet_gateway.sample-cdktf-igw-production: Destroying... [id=igw-08e9b12990c8cf841][0m[0m
[0m[1maws_route_table.sample-cdktf-private-rtb: Destruction complete after 1s[0m[0m

[2022-11-17T18:18:20.676] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Destroying... [id=nat-0f0e01fbd8dd2decc][0m[0m

[2022-11-17T18:18:20.786] [DEBUG] default - [0m[1maws_s3_bucket.sample-cdktf-s3: Destruction complete after 1s[0m[0m

[2022-11-17T18:18:21.124] [DEBUG] default - [0m[1maws_security_group_rule.sample-cdktf-security-egress: Destruction complete after 2s[0m[0m

[2022-11-17T18:18:21.821] [DEBUG] default - [0m[1maws_iam_role.lambdaExecutionRole: Destruction complete after 2s[0m[0m

[2022-11-17T18:18:21.867] [DEBUG] default - [0m[1maws_iam_policy.ecs-task-policy: Destruction complete after 2s[0m[0m

[2022-11-17T18:18:21.958] [DEBUG] default - [0m[1maws_iam_policy.ecs-task-execution-policy: Destruction complete after 2s[0m[0m

[2022-11-17T18:18:29.784] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still destroying... [id=arn:aws:ecs:ap-northeast-1:574185952087...cdktf-cluster/sample-cdktf-ecs-service, 10s elapsed][0m[0m

[2022-11-17T18:18:30.589] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-08e9b12990c8cf841, 10s elapsed][0m[0m

[2022-11-17T18:18:30.617] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still destroying... [id=nat-0f0e01fbd8dd2decc, 10s elapsed][0m[0m

[2022-11-17T18:18:39.762] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still destroying... [id=arn:aws:ecs:ap-northeast-1:574185952087...cdktf-cluster/sample-cdktf-ecs-service, 20s elapsed][0m[0m

[2022-11-17T18:18:40.564] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-08e9b12990c8cf841, 20s elapsed][0m[0m

[2022-11-17T18:18:40.645] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still destroying... [id=nat-0f0e01fbd8dd2decc, 20s elapsed][0m[0m

[2022-11-17T18:18:49.765] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still destroying... [id=arn:aws:ecs:ap-northeast-1:574185952087...cdktf-cluster/sample-cdktf-ecs-service, 30s elapsed][0m[0m

[2022-11-17T18:18:50.571] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-08e9b12990c8cf841, 30s elapsed][0m[0m

[2022-11-17T18:18:50.619] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still destroying... [id=nat-0f0e01fbd8dd2decc, 30s elapsed][0m[0m

[2022-11-17T18:18:59.764] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still destroying... [id=arn:aws:ecs:ap-northeast-1:574185952087...cdktf-cluster/sample-cdktf-ecs-service, 40s elapsed][0m[0m

[2022-11-17T18:19:00.567] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-08e9b12990c8cf841, 40s elapsed][0m[0m

[2022-11-17T18:19:00.641] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still destroying... [id=nat-0f0e01fbd8dd2decc, 40s elapsed][0m[0m

[2022-11-17T18:19:09.764] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still destroying... [id=arn:aws:ecs:ap-northeast-1:574185952087...cdktf-cluster/sample-cdktf-ecs-service, 50s elapsed][0m[0m

[2022-11-17T18:19:10.568] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-08e9b12990c8cf841, 50s elapsed][0m[0m

[2022-11-17T18:19:10.641] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still destroying... [id=nat-0f0e01fbd8dd2decc, 50s elapsed][0m[0m

[2022-11-17T18:19:12.090] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Destruction complete after 51s[0m[0m

[2022-11-17T18:19:12.111] [DEBUG] default - [0m[1maws_eip.sample-cdktf-eip: Destroying... [id=eipalloc-0255c6e96f0d7920a][0m[0m

[2022-11-17T18:19:13.001] [DEBUG] default - [0m[1maws_eip.sample-cdktf-eip: Destruction complete after 1s[0m[0m

[2022-11-17T18:19:19.771] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still destroying... [id=arn:aws:ecs:ap-northeast-1:574185952087...cdktf-cluster/sample-cdktf-ecs-service, 1m0s elapsed][0m[0m

[2022-11-17T18:19:20.574] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-08e9b12990c8cf841, 1m0s elapsed][0m[0m

[2022-11-17T18:19:26.498] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Destruction complete after 1m6s[0m[0m

[2022-11-17T18:19:26.546] [DEBUG] default - [0m[1maws_ecs_cluster.sample-cdktf-cluster: Destroying... [id=arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster][0m[0m
[0m[1maws_alb_target_group.sample-cdktf-alb-target-group: Destroying... [id=arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/6995f7bc77e2a634][0m[0m
[0m[1maws_ecs_task_definition.sample-cdktf-task: Destroying... [id=task-for-cdktf][0m[0m
[0m[1maws_subnet.sample-cdktf-private-subnet1: Destroying... [id=subnet-0c13b8bd7cf3dea49][0m[0m
[0m[1maws_subnet.sample-cdktf-private-subnet2: Destroying... [id=subnet-0da29deaccb95cf3b][0m[0m

[2022-11-17T18:19:26.706] [DEBUG] default - [0m[1maws_alb_target_group.sample-cdktf-alb-target-group: Destruction complete after 0s[0m[0m
[0m[1maws_ecs_task_definition.sample-cdktf-task: Destruction complete after 0s[0m[0m

[2022-11-17T18:19:26.727] [DEBUG] default - [0m[1maws_iam_role.ecsTaskRole: Destroying... [id=sample-cdktf-ecsTaskRole][0m[0m
[0m[1maws_ecr_repository.sample-cdktf-repository: Destroying... [id=project/sample-ecr][0m[0m
[0m[1maws_iam_role.ecsTaskExecutionRole: Destroying... [id=sample-cdktf-ecsTaskExecutionRole][0m[0m
[0m[1maws_alb.sample-cdktf-alb: Destroying... [id=arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:loadbalancer/app/sample-cdktf-alb/0eca6de622d833c2][0m[0m

[2022-11-17T18:19:26.786] [DEBUG] default - [0m[1maws_ecs_cluster.sample-cdktf-cluster: Destruction complete after 0s[0m[0m

[2022-11-17T18:19:26.996] [DEBUG] default - [0m[1maws_ecr_repository.sample-cdktf-repository: Destruction complete after 0s[0m[0m

[2022-11-17T18:19:27.121] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-private-subnet2: Destruction complete after 0s[0m[0m

[2022-11-17T18:19:27.193] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-private-subnet1: Destruction complete after 0s[0m[0m

[2022-11-17T18:19:27.690] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Destruction complete after 1s[0m[0m

[2022-11-17T18:19:27.735] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Destroying... [id=sg-0d458544e0f1956ee][0m[0m
[0m[1maws_subnet.sample-cdktf-public-subnet1: Destroying... [id=subnet-05196b679129de40b][0m[0m
[0m[1maws_subnet.sample-cdktf-public-subnet2: Destroying... [id=subnet-091a68b1faba0e60e][0m[0m

[2022-11-17T18:19:28.240] [DEBUG] default - [0m[1maws_iam_role.ecsTaskRole: Destruction complete after 1s[0m[0m
[0m[1maws_iam_role.ecsTaskExecutionRole: Destruction complete after 1s[0m[0m

[2022-11-17T18:19:30.569] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-08e9b12990c8cf841, 1m10s elapsed][0m[0m

[2022-11-17T18:19:37.697] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-091a68b1faba0e60e, 10s elapsed][0m[0m

[2022-11-17T18:19:37.744] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-05196b679129de40b, 10s elapsed][0m[0m
[0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-0d458544e0f1956ee, 10s elapsed][0m[0m

[2022-11-17T18:19:40.590] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-08e9b12990c8cf841, 1m20s elapsed][0m[0m

[2022-11-17T18:19:47.622] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Destruction complete after 20s[0m[0m

[2022-11-17T18:19:47.703] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-05196b679129de40b, 20s elapsed][0m[0m
[0m[1maws_subnet.sample-cdktf-public-subnet2: Still destroying... [id=subnet-091a68b1faba0e60e, 20s elapsed][0m[0m

[2022-11-17T18:19:48.347] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Destruction complete after 1m27s[0m[0m

[2022-11-17T18:19:54.430] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Destruction complete after 26s[0m[0m

[2022-11-17T18:19:54.517] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Destruction complete after 27s[0m[0m

[2022-11-17T18:19:54.539] [DEBUG] default - [0m[1maws_vpc.sample-cdktf-vpc: Destroying... [id=vpc-0f797854d0261cf19][0m[0m

[2022-11-17T18:19:55.392] [DEBUG] default - [0m[1maws_vpc.sample-cdktf-vpc: Destruction complete after 0s[0m[0m

[2022-11-17T18:19:55.440] [DEBUG] default - [33m

[2022-11-17T18:19:55.487] [DEBUG] default - [1m[33mWarning: [0m[0m[1m"condition.0.values": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m

[0m  on cdk.tf.json line 681, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:
 681:       [4m}[0m
[0m
[0m[0m
[33m
[1m[33mWarning: [0m[0m[1m"condition.0.field": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m

[0m  on cdk.tf.json line 681, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:
 681:       [4m}[0m
[0m
[0m[0m
[0m[1m[32m
Destroy complete! Resources: 44 destroyed.[0m

[2022-11-17T18:19:55.498] [ERROR] default - TypeError: Cannot read properties of undefined (reading 'startsWith')
    at exports.ResourceName (/Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/bin/cmds/ui/components/resource-name.js:12:43)
    at Jd (/Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/node_modules/react-reconciler/cjs/react-reconciler.production.min.js:64:98)
    at ig (/Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/node_modules/react-reconciler/cjs/react-reconciler.production.min.js:160:456)
    at hg (/Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/node_modules/react-reconciler/cjs/react-reconciler.production.min.js:139:22)
    at bg (/Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/node_modules/react-reconciler/cjs/react-reconciler.production.min.js:138:366)
    at Of (/Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/node_modules/react-reconciler/cjs/react-reconciler.production.min.js:132:214)
    at /Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/node_modules/react-reconciler/cjs/react-reconciler.production.min.js:30:115
    at exports.unstable_runWithPriority (/Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/node_modules/scheduler/cjs/scheduler.production.min.js:18:437)
    at hc (/Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/node_modules/react-reconciler/cjs/react-reconciler.production.min.js:29:325)
    at kc (/Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/node_modules/react-reconciler/cjs/react-reconciler.production.min.js:30:61) {
  componentStack: '\n' +
    '    in Unknown\n' +
    '    in div\n' +
    '    in Box\n' +
    '    in Unknown\n' +
    '    in div\n' +
    '    in Box\n' +
    '    in div\n' +
    '    in Box\n' +
    '    in Unknown\n' +
    '    in div\n' +
    '    in Box\n' +
    '    in Unknown\n' +
    '    in Unknown\n' +
    '    in Unknown\n' +
    '    in ErrorBoundary\n' +
    '    in Unknown\n' +
    '    in App'
}
[2022-11-17T18:20:17.866] [DEBUG] default - Terraform v0.14.8

[2022-11-17T18:20:17.896] [DEBUG] default - 
Your version of Terraform is out of date! The latest version
is 1.3.4. You can update by downloading from https://www.terraform.io/downloads.html

[2022-11-17T18:21:06.943] [DEBUG] default - 

[2022-11-17T18:21:06.944] [DEBUG] default - [0m[1mInitializing the backend...[0m

[2022-11-17T18:21:07.402] [DEBUG] default - 

[2022-11-17T18:21:07.402] [DEBUG] default - [0m[1mInitializing provider plugins...[0m
- Reusing previous version of hashicorp/aws from the dependency lock file

[2022-11-17T18:21:08.338] [DEBUG] default - - Using previously-installed hashicorp/aws v2.70.1

[2022-11-17T18:21:08.339] [DEBUG] default - 

[2022-11-17T18:21:08.345] [DEBUG] default - [0m[1m[32mTerraform has been successfully initialized![0m[32m[0m
[0m[32m
You may now begin working with Terraform. Try running "terraform plan" to see
any changes that are required for your infrastructure. All Terraform commands
should now work.

If you ever set or change modules or backend configuration for Terraform,
rerun this command to reinitialize your working directory. If you forget, other
commands will detect it and remind you to do so if necessary.[0m

[2022-11-17T18:21:13.087] [DEBUG] default - 

[2022-11-17T18:21:13.087] [DEBUG] default - An execution plan has been generated and is shown below.
Resource actions are indicated with the following symbols:
  [32m+[0m create
[0m
Terraform will perform the following actions:


[2022-11-17T18:21:13.088] [DEBUG] default - [1m  # aws_alb.sample-cdktf-alb[0m will be created[0m[0m

[2022-11-17T18:21:13.088] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_alb" "sample-cdktf-alb" {

[2022-11-17T18:21:13.088] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                        = (known after apply)

[2022-11-17T18:21:13.093] [DEBUG] default -       [32m+[0m [0m[1m[0marn_suffix[0m[0m                 = (known after apply)
      [32m+[0m [0m[1m[0mdns_name[0m[0m                   = (known after apply)
      [32m+[0m [0m[1m[0mdrop_invalid_header_fields[0m[0m = false
      [32m+[0m [0m[1m[0menable_deletion_protection[0m[0m = false
      [32m+[0m [0m[1m[0menable_http2[0m[0m               = true
      [32m+[0m [0m[1m[0mid[0m[0m                         = (known after apply)
      [32m+[0m [0m[1m[0midle_timeout[0m[0m               = 60
      [32m+[0m [0m[1m[0minternal[0m[0m                   = false
      [32m+[0m [0m[1m[0mip_address_type[0m[0m            = "ipv4"
      [32m+[0m [0m[1m[0mload_balancer_type[0m[0m         = "application"
      [32m+[0m [0m[1m[0mname[0m[0m                       = "sample-cdktf-alb"
      [32m+[0m [0m[1m[0msecurity_groups[0m[0m            = (known after apply)
      [32m+[0m [0m[1m[0msubnets[0m[0m                    = (known after apply)
      [32m+[0m [0m[1m[0mvpc_id[0m[0m                     = (known after apply)
      [32m+[0m [0m[1m[0mzone_id[0m[0m                    = (known after apply)

      [32m+[0m [0msubnet_mapping {
          [32m+[0m [0m[1m[0mallocation_id[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0msubnet_id[0m[0m     = (known after apply)
        }
    }

[1m  # aws_alb_listener.sample-cdktf-alb-listener[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_alb_listener" "sample-cdktf-alb-listener" {
      [32m+[0m [0m[1m[0marn[0m[0m               = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m                = (known after apply)
      [32m+[0m [0m[1m[0mload_balancer_arn[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mport[0m[0m              = 80
      [32m+[0m [0m[1m[0mprotocol[0m[0m          = "HTTP"
      [32m+[0m [0m[1m[0mssl_policy[0m[0m        = (known after apply)

      [32m+[0m [0mdefault_action {
          [32m+[0m [0m[1m[0morder[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0mtype[0m[0m  = "fixed-response"

          [32m+[0m [0mfixed_response {
              [32m+[0m [0m[1m[0mcontent_type[0m[0m = "text/plain"
              [32m+[0m [0m[1m[0mmessage_body[0m[0m = "OK"
              [32m+[0m [0m[1m[0mstatus_code[0m[0m  = "200"
            }
        }
    }

[1m  # aws_alb_listener_rule.sample-cdktf-alb-listener-rule[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_alb_listener_rule" "sample-cdktf-alb-listener-rule" {
      [32m+[0m [0m[1m[0marn[0m[0m          = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m           = (known after apply)
      [32m+[0m [0m[1m[0mlistener_arn[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mpriority[0m[0m     = 100

      [32m+[0m [0maction {
          [32m+[0m [0m[1m[0morder[0m[0m            = (known after apply)
          [32m+[0m [0m[1m[0mtarget_group_arn[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0mtype[0m[0m             = "forward"
        }

      [32m+[0m [0mcondition {
          [32m+[0m [0m[1m[0mfield[0m[0m  = "path-pattern"
          [32m+[0m [0m[1m[0mvalues[0m[0m = [
              [32m+[0m [0m"*",
            ]

          [32m+[0m [0mhost_header {
              [32m+[0m [0m[1m[0mvalues[0m[0m = (known after apply)
            }

          [32m+[0m [0mpath_pattern {
              [32m+[0m [0m[1m[0mvalues[0m[0m = (known after apply)
            }
        }
    }

[1m  # aws_alb_target_group.sample-cdktf-alb-target-group[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_alb_target_group" "sample-cdktf-alb-target-group" {
      [32m+[0m [0m[1m[0marn[0m[0m                                = (known after apply)
      [32m+[0m [0m[1m[0marn_suffix[0m[0m                         = (known after apply)
      [32m+[0m [0m[1m[0mderegistration_delay[0m[0m               = 300
      [32m+[0m [0m[1m[0mid[0m[0m                                 = (known after apply)
      [32m+[0m [0m[1m[0mlambda_multi_value_headers_enabled[0m[0m = false
      [32m+[0m [0m[1m[0mload_balancing_algorithm_type[0m[0m      = (known after apply)
      [32m+[0m [0m[1m[0mname[0m[0m                               = "sample-cdktf-alb-target-group"
      [32m+[0m [0m[1m[0mport[0m[0m                               = 80
      [32m+[0m [0m[1m[0mprotocol[0m[0m                           = "HTTP"
      [32m+[0m [0m[1m[0mproxy_protocol_v2[0m[0m                  = false

[2022-11-17T18:21:13.094] [DEBUG] default -       [32m+[0m [0m[1m[0mslow_start[0m[0m                         = 0
      [32m+[0m [0m[1m[0mtarget_type[0m[0m                        = "ip"
      [32m+[0m [0m[1m[0mvpc_id[0m[0m                             = (known after apply)

      [32m+[0m [0mhealth_check {
          [32m+[0m [0m[1m[0menabled[0m[0m             = true
          [32m+[0m [0m[1m[0mhealthy_threshold[0m[0m   = 3
          [32m+[0m [0m[1m[0minterval[0m[0m            = 30
          [32m+[0m [0m[1m[0mmatcher[0m[0m             = (known after apply)
          [32m+[0m [0m[1m[0mpath[0m[0m                = "/"
          [32m+[0m [0m[1m[0mport[0m[0m                = "traffic-port"
          [32m+[0m [0m[1m[0mprotocol[0m[0m            = "HTTP"

[2022-11-17T18:21:13.094] [DEBUG] default -           [32m+[0m [0m[1m[0mtimeout[0m[0m             = 5
          [32m+[0m [0m[1m[0munhealthy_threshold[0m[0m = 2
        }

      [32m+[0m [0mstickiness {
          [32m+[0m [0m[1m[0mcookie_duration[0m[0m = (known after apply)
          [32m+[0m [0m[1m[0menabled[0m[0m         = (known after apply)

[2022-11-17T18:21:13.094] [DEBUG] default -           [32m+[0m [0m[1m[0mtype[0m[0m            = (known after apply)
        }
    }


[2022-11-17T18:21:13.094] [DEBUG] default - [1m  # aws_cloudwatch_event_rule.sample-cdktf-event-rule[0m will be created[0m[0m

[2022-11-17T18:21:13.094] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_cloudwatch_event_rule" "sample-cdktf-event-rule" {

[2022-11-17T18:21:13.095] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m           = (known after apply)
      [32m+[0m [0m[1m[0mdescription[0m[0m   = "Capture each AWS ECR Update"
      [32m+[0m [0m[1m[0mevent_pattern[0m[0m = jsonencode(
            {
              [32m+[0m [0mdetail      = {
                  [32m+[0m [0maction-type = [
                      [32m+[0m [0m"PUSH",
                    ]

[2022-11-17T18:21:13.095] [DEBUG] default -                   [32m+[0m [0mresult      = [
                      [32m+[0m [0m"SUCCESS",
                    ]
                }

[2022-11-17T18:21:13.095] [DEBUG] default -               [32m+[0m [0mdetail-type = [

[2022-11-17T18:21:13.095] [DEBUG] default -                   [32m+[0m [0m"ECR Image Action",
                ]
              [32m+[0m [0msource      = [

[2022-11-17T18:21:13.095] [DEBUG] default -                   [32m+[0m [0m"aws.ecr",
                ]
            }

[2022-11-17T18:21:13.095] [DEBUG] default -         )

[2022-11-17T18:21:13.095] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m            = (known after apply)

[2022-11-17T18:21:13.095] [DEBUG] default -       [32m+[0m [0m[1m[0mis_enabled[0m[0m    = true
      [32m+[0m [0m[1m[0mname[0m[0m          = "capture-ecr-update"
    }

[1m  # aws_cloudwatch_event_target.sample-cdktf-event-target[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_cloudwatch_event_target" "sample-cdktf-event-target" {

[2022-11-17T18:21:13.095] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m       = (known after apply)

[2022-11-17T18:21:13.096] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m        = (known after apply)
      [32m+[0m [0m[1m[0mrule[0m[0m      = "capture-ecr-update"

[2022-11-17T18:21:13.096] [DEBUG] default -       [32m+[0m [0m[1m[0mtarget_id[0m[0m = "SendToSNS"
    }

[1m  # aws_cloudwatch_log_group.sample-cdktf-ecs-task-log-group[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_cloudwatch_log_group" "sample-cdktf-ecs-task-log-group" {

[2022-11-17T18:21:13.096] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m               = (known after apply)

[2022-11-17T18:21:13.096] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                = (known after apply)

[2022-11-17T18:21:13.096] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m              = "/aws/ecs/task-for-cdktf"
      [32m+[0m [0m[1m[0mretention_in_days[0m[0m = 0
    }

[2022-11-17T18:21:13.096] [DEBUG] default - 

[2022-11-17T18:21:13.096] [DEBUG] default - [1m  # aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group[0m will be created[0m[0m

[2022-11-17T18:21:13.096] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_cloudwatch_log_group" "sample-cdktf-notification-to-slack-log-group" {

[2022-11-17T18:21:13.096] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m               = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m                = (known after apply)

[2022-11-17T18:21:13.097] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m              = "/aws/lambda/Sample-Lambda-Notification-to-Slack"

[2022-11-17T18:21:13.097] [DEBUG] default -       [32m+[0m [0m[1m[0mretention_in_days[0m[0m = 0
    }


[2022-11-17T18:21:13.097] [DEBUG] default - [1m  # aws_ecr_repository.sample-cdktf-repository[0m will be created[0m[0m

[2022-11-17T18:21:13.097] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_ecr_repository" "sample-cdktf-repository" {

[2022-11-17T18:21:13.097] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                  = (known after apply)

[2022-11-17T18:21:13.097] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                   = (known after apply)
      [32m+[0m [0m[1m[0mimage_tag_mutability[0m[0m = "MUTABLE"
      [32m+[0m [0m[1m[0mname[0m[0m                 = "project/sample-ecr"

[2022-11-17T18:21:13.097] [DEBUG] default -       [32m+[0m [0m[1m[0mregistry_id[0m[0m          = (known after apply)

[2022-11-17T18:21:13.097] [DEBUG] default -       [32m+[0m [0m[1m[0mrepository_url[0m[0m       = (known after apply)
    }


[2022-11-17T18:21:13.097] [DEBUG] default - [1m  # aws_ecs_cluster.sample-cdktf-cluster[0m will be created[0m[0m

[2022-11-17T18:21:13.097] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_ecs_cluster" "sample-cdktf-cluster" {

[2022-11-17T18:21:13.098] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m  = (known after apply)

[2022-11-17T18:21:13.098] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m   = (known after apply)

[2022-11-17T18:21:13.098] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m = "sample-cdktf-cluster"

      [32m+[0m [0msetting {

[2022-11-17T18:21:13.098] [DEBUG] default -           [32m+[0m [0m[1m[0mname[0m[0m  = (known after apply)

[2022-11-17T18:21:13.098] [DEBUG] default -           [32m+[0m [0m[1m[0mvalue[0m[0m = (known after apply)
        }
    }

[2022-11-17T18:21:13.098] [DEBUG] default - 

[2022-11-17T18:21:13.098] [DEBUG] default - [1m  # aws_ecs_service.sample-cdktf-ecs-service[0m will be created[0m[0m

[2022-11-17T18:21:13.098] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_ecs_service" "sample-cdktf-ecs-service" {

[2022-11-17T18:21:13.098] [DEBUG] default -       [32m+[0m [0m[1m[0mcluster[0m[0m                            = (known after apply)

[2022-11-17T18:21:13.098] [DEBUG] default -       [32m+[0m [0m[1m[0mdeployment_maximum_percent[0m[0m         = 200

[2022-11-17T18:21:13.098] [DEBUG] default -       [32m+[0m [0m[1m[0mdeployment_minimum_healthy_percent[0m[0m = 100

[2022-11-17T18:21:13.098] [DEBUG] default -       [32m+[0m [0m[1m[0mdesired_count[0m[0m                      = 1

[2022-11-17T18:21:13.098] [DEBUG] default -       [32m+[0m [0m[1m[0menable_ecs_managed_tags[0m[0m            = false

[2022-11-17T18:21:13.098] [DEBUG] default -       [32m+[0m [0m[1m[0miam_role[0m[0m                           = (known after apply)

[2022-11-17T18:21:13.099] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                                 = (known after apply)

[2022-11-17T18:21:13.099] [DEBUG] default -       [32m+[0m [0m[1m[0mlaunch_type[0m[0m                        = "FARGATE"

[2022-11-17T18:21:13.099] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m                               = "sample-cdktf-ecs-service"

[2022-11-17T18:21:13.099] [DEBUG] default -       [32m+[0m [0m[1m[0mplatform_version[0m[0m                   = "LATEST"

[2022-11-17T18:21:13.099] [DEBUG] default -       [32m+[0m [0m[1m[0mscheduling_strategy[0m[0m                = "REPLICA"

[2022-11-17T18:21:13.099] [DEBUG] default -       [32m+[0m [0m[1m[0mtask_definition[0m[0m                    = (known after apply)

      [32m+[0m [0mload_balancer {

[2022-11-17T18:21:13.099] [DEBUG] default -           [32m+[0m [0m[1m[0mcontainer_name[0m[0m   = "sample-cdktf-container"

[2022-11-17T18:21:13.099] [DEBUG] default -           [32m+[0m [0m[1m[0mcontainer_port[0m[0m   = 9000

[2022-11-17T18:21:13.099] [DEBUG] default -           [32m+[0m [0m[1m[0mtarget_group_arn[0m[0m = (known after apply)
        }


[2022-11-17T18:21:13.099] [DEBUG] default -       [32m+[0m [0mnetwork_configuration {
          [32m+[0m [0m[1m[0massign_public_ip[0m[0m = false

[2022-11-17T18:21:13.099] [DEBUG] default -           [32m+[0m [0m[1m[0msecurity_groups[0m[0m  = (known after apply)

[2022-11-17T18:21:13.100] [DEBUG] default -           [32m+[0m [0m[1m[0msubnets[0m[0m          = (known after apply)
        }

[2022-11-17T18:21:13.100] [DEBUG] default - 
      [32m+[0m [0mplacement_strategy {

[2022-11-17T18:21:13.100] [DEBUG] default -           [32m+[0m [0m[1m[0mfield[0m[0m = (known after apply)

[2022-11-17T18:21:13.100] [DEBUG] default -           [32m+[0m [0m[1m[0mtype[0m[0m  = (known after apply)

[2022-11-17T18:21:13.100] [DEBUG] default -         }
    }


[2022-11-17T18:21:13.100] [DEBUG] default - [1m  # aws_ecs_task_definition.sample-cdktf-task[0m will be created[0m[0m

[2022-11-17T18:21:13.100] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_ecs_task_definition" "sample-cdktf-task" {

[2022-11-17T18:21:13.100] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                      = (known after apply)

[2022-11-17T18:21:13.100] [DEBUG] default -       [32m+[0m [0m[1m[0mcontainer_definitions[0m[0m    = (known after apply)

[2022-11-17T18:21:13.100] [DEBUG] default -       [32m+[0m [0m[1m[0mcpu[0m[0m                      = "512"

[2022-11-17T18:21:13.100] [DEBUG] default -       [32m+[0m [0m[1m[0mexecution_role_arn[0m[0m       = (known after apply)
      [32m+[0m [0m[1m[0mfamily[0m[0m                   = "task-for-cdktf"

[2022-11-17T18:21:13.100] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                       = (known after apply)

[2022-11-17T18:21:13.100] [DEBUG] default -       [32m+[0m [0m[1m[0mmemory[0m[0m                   = "1024"

[2022-11-17T18:21:13.101] [DEBUG] default -       [32m+[0m [0m[1m[0mnetwork_mode[0m[0m             = "awsvpc"

[2022-11-17T18:21:13.101] [DEBUG] default -       [32m+[0m [0m[1m[0mrequires_compatibilities[0m[0m = [

[2022-11-17T18:21:13.102] [DEBUG] default -           [32m+[0m [0m"FARGATE",
        ]

[2022-11-17T18:21:13.102] [DEBUG] default -       [32m+[0m [0m[1m[0mrevision[0m[0m                 = (known after apply)
      [32m+[0m [0m[1m[0mtask_role_arn[0m[0m            = (known after apply)

[2022-11-17T18:21:13.102] [DEBUG] default -     }


[2022-11-17T18:21:13.102] [DEBUG] default - [1m  # aws_eip.sample-cdktf-eip[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_eip" "sample-cdktf-eip" {

[2022-11-17T18:21:13.103] [DEBUG] default -       [32m+[0m [0m[1m[0mallocation_id[0m[0m     = (known after apply)

[2022-11-17T18:21:13.103] [DEBUG] default -       [32m+[0m [0m[1m[0massociation_id[0m[0m    = (known after apply)

[2022-11-17T18:21:13.103] [DEBUG] default -       [32m+[0m [0m[1m[0mcustomer_owned_ip[0m[0m = (known after apply)

[2022-11-17T18:21:13.103] [DEBUG] default -       [32m+[0m [0m[1m[0mdomain[0m[0m            = (known after apply)

[2022-11-17T18:21:13.103] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                = (known after apply)

[2022-11-17T18:21:13.103] [DEBUG] default -       [32m+[0m [0m[1m[0minstance[0m[0m          = (known after apply)

[2022-11-17T18:21:13.103] [DEBUG] default -       [32m+[0m [0m[1m[0mnetwork_interface[0m[0m = (known after apply)

[2022-11-17T18:21:13.103] [DEBUG] default -       [32m+[0m [0m[1m[0mprivate_dns[0m[0m       = (known after apply)

[2022-11-17T18:21:13.103] [DEBUG] default -       [32m+[0m [0m[1m[0mprivate_ip[0m[0m        = (known after apply)

[2022-11-17T18:21:13.103] [DEBUG] default -       [32m+[0m [0m[1m[0mpublic_dns[0m[0m        = (known after apply)

[2022-11-17T18:21:13.103] [DEBUG] default -       [32m+[0m [0m[1m[0mpublic_ip[0m[0m         = (known after apply)

[2022-11-17T18:21:13.103] [DEBUG] default -       [32m+[0m [0m[1m[0mpublic_ipv4_pool[0m[0m  = (known after apply)

[2022-11-17T18:21:13.103] [DEBUG] default -       [32m+[0m [0m[1m[0mvpc[0m[0m               = true
    }


[2022-11-17T18:21:13.104] [DEBUG] default - [1m  # aws_iam_policy.ecs-task-execution-policy[0m will be created[0m[0m

[2022-11-17T18:21:13.104] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_iam_policy" "ecs-task-execution-policy" {
      [32m+[0m [0m[1m[0marn[0m[0m         = (known after apply)
      [32m+[0m [0m[1m[0mdescription[0m[0m = "Policy for updating ECS tasks"
      [32m+[0m [0m[1m[0mid[0m[0m          = (known after apply)
      [32m+[0m [0m[1m[0mname[0m[0m        = "ecs-task-execution-policy"
      [32m+[0m [0m[1m[0mpath[0m[0m        = "/"

[2022-11-17T18:21:13.104] [DEBUG] default -       [32m+[0m [0m[1m[0mpolicy[0m[0m      = jsonencode(

[2022-11-17T18:21:13.104] [DEBUG] default -             {
              [32m+[0m [0mStatement = [

[2022-11-17T18:21:13.104] [DEBUG] default -                   [32m+[0m [0m{

[2022-11-17T18:21:13.104] [DEBUG] default -                       [32m+[0m [0mAction   = [
                          [32m+[0m [0m"ecr:GetAuthorizationToken",

[2022-11-17T18:21:13.104] [DEBUG] default -                           [32m+[0m [0m"ecr:BatchCheckLayerAvailability",

[2022-11-17T18:21:13.104] [DEBUG] default -                           [32m+[0m [0m"ecr:GetDownloadUrlForLayer",

[2022-11-17T18:21:13.104] [DEBUG] default -                           [32m+[0m [0m"ecr:BatchGetImage",

[2022-11-17T18:21:13.104] [DEBUG] default -                           [32m+[0m [0m"logs:CreateLogStream",

[2022-11-17T18:21:13.105] [DEBUG] default -                           [32m+[0m [0m"logs:PutLogEvents",
                        ]

[2022-11-17T18:21:13.105] [DEBUG] default -                       [32m+[0m [0mEffect   = "Allow"

[2022-11-17T18:21:13.105] [DEBUG] default -                       [32m+[0m [0mResource = [
                          [32m+[0m [0m"*",

[2022-11-17T18:21:13.105] [DEBUG] default -                         ]
                    },
                ]

[2022-11-17T18:21:13.105] [DEBUG] default -               [32m+[0m [0mVersion   = "2012-10-17"
            }
        )
    }

[1m  # aws_iam_policy.ecs-task-policy[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_iam_policy" "ecs-task-policy" {
      [32m+[0m [0m[1m[0marn[0m[0m         = (known after apply)

[2022-11-17T18:21:13.105] [DEBUG] default -       [32m+[0m [0m[1m[0mdescription[0m[0m = "Policy for updating ECS tasks"

[2022-11-17T18:21:13.105] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m          = (known after apply)

[2022-11-17T18:21:13.105] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m        = "ecs-task-policy"

[2022-11-17T18:21:13.105] [DEBUG] default -       [32m+[0m [0m[1m[0mpath[0m[0m        = "/"

[2022-11-17T18:21:13.105] [DEBUG] default -       [32m+[0m [0m[1m[0mpolicy[0m[0m      = jsonencode(
            {

[2022-11-17T18:21:13.105] [DEBUG] default -               [32m+[0m [0mStatement = [

[2022-11-17T18:21:13.106] [DEBUG] default -                   [32m+[0m [0m{

[2022-11-17T18:21:13.106] [DEBUG] default -                       [32m+[0m [0mAction   = [

[2022-11-17T18:21:13.106] [DEBUG] default -                           [32m+[0m [0m"ecs:DescribeServices",
                          [32m+[0m [0m"ecs:CreateTaskSet",

[2022-11-17T18:21:13.106] [DEBUG] default -                           [32m+[0m [0m"ecs:UpdateServicePrimaryTaskSet",

[2022-11-17T18:21:13.106] [DEBUG] default -                           [32m+[0m [0m"ecs:DeleteTaskSet",

[2022-11-17T18:21:13.106] [DEBUG] default -                           [32m+[0m [0m"elasticloadbalancing:DescribeTargetGroups",

[2022-11-17T18:21:13.106] [DEBUG] default -                           [32m+[0m [0m"elasticloadbalancing:DescribeListeners",

[2022-11-17T18:21:13.106] [DEBUG] default -                           [32m+[0m [0m"elasticloadbalancing:ModifyListener",

[2022-11-17T18:21:13.106] [DEBUG] default -                           [32m+[0m [0m"elasticloadbalancing:DescribeRules",

[2022-11-17T18:21:13.106] [DEBUG] default -                           [32m+[0m [0m"elasticloadbalancing:ModifyRule",

[2022-11-17T18:21:13.106] [DEBUG] default -                           [32m+[0m [0m"lambda:InvokeFunction",

[2022-11-17T18:21:13.106] [DEBUG] default -                           [32m+[0m [0m"cloudwatch:DescribeAlarms",

[2022-11-17T18:21:13.106] [DEBUG] default -                           [32m+[0m [0m"sns:Publish",

[2022-11-17T18:21:13.106] [DEBUG] default -                           [32m+[0m [0m"s3:GetObject",

[2022-11-17T18:21:13.107] [DEBUG] default -                           [32m+[0m [0m"s3:GetObjectVersion",
                        ]

[2022-11-17T18:21:13.107] [DEBUG] default -                       [32m+[0m [0mEffect   = "Allow"

[2022-11-17T18:21:13.107] [DEBUG] default -                       [32m+[0m [0mResource = [
                          [32m+[0m [0m"*",
                        ]

[2022-11-17T18:21:13.107] [DEBUG] default -                     },
                ]

[2022-11-17T18:21:13.107] [DEBUG] default -               [32m+[0m [0mVersion   = "2012-10-17"

[2022-11-17T18:21:13.107] [DEBUG] default -             }
        )
    }


[2022-11-17T18:21:13.107] [DEBUG] default - [1m  # aws_iam_policy.lambda-logging[0m will be created[0m[0m

[2022-11-17T18:21:13.107] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_iam_policy" "lambda-logging" {

[2022-11-17T18:21:13.107] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m         = (known after apply)

[2022-11-17T18:21:13.107] [DEBUG] default -       [32m+[0m [0m[1m[0mdescription[0m[0m = "IAM policy for logging from a lambda"

[2022-11-17T18:21:13.107] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m          = (known after apply)

[2022-11-17T18:21:13.107] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m        = "sample-cdktf-lambda-logging"

[2022-11-17T18:21:13.107] [DEBUG] default -       [32m+[0m [0m[1m[0mpath[0m[0m        = "/"

[2022-11-17T18:21:13.107] [DEBUG] default -       [32m+[0m [0m[1m[0mpolicy[0m[0m      = (known after apply)
    }


[2022-11-17T18:21:13.107] [DEBUG] default - [1m  # aws_iam_role.ecsTaskExecutionRole[0m will be created[0m[0m

[2022-11-17T18:21:13.107] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_iam_role" "ecsTaskExecutionRole" {

[2022-11-17T18:21:13.108] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                   = (known after apply)

[2022-11-17T18:21:13.108] [DEBUG] default -       [32m+[0m [0m[1m[0massume_role_policy[0m[0m    = jsonencode(
            {

[2022-11-17T18:21:13.108] [DEBUG] default -               [32m+[0m [0mStatement = [

[2022-11-17T18:21:13.108] [DEBUG] default -                   [32m+[0m [0m{

[2022-11-17T18:21:13.108] [DEBUG] default -                       [32m+[0m [0mAction    = "sts:AssumeRole"
                      [32m+[0m [0mEffect    = "Allow"

[2022-11-17T18:21:13.108] [DEBUG] default -                       [32m+[0m [0mPrincipal = {

[2022-11-17T18:21:13.108] [DEBUG] default -                           [32m+[0m [0mService = "ecs-tasks.amazonaws.com"
                        }

[2022-11-17T18:21:13.144] [DEBUG] default -                       [32m+[0m [0mSid       = ""
                    },
                ]
              [32m+[0m [0mVersion   = "2012-10-17"
            }
        )
      [32m+[0m [0m[1m[0mcreate_date[0m[0m           = (known after apply)
      [32m+[0m [0m[1m[0mforce_detach_policies[0m[0m = false
      [32m+[0m [0m[1m[0mid[0m[0m                    = (known after apply)
      [32m+[0m [0m[1m[0mmax_session_duration[0m[0m  = 3600
      [32m+[0m [0m[1m[0mname[0m[0m                  = "sample-cdktf-ecsTaskExecutionRole"
      [32m+[0m [0m[1m[0mpath[0m[0m                  = "/"
      [32m+[0m [0m[1m[0munique_id[0m[0m             = (known after apply)
    }

[1m  # aws_iam_role.ecsTaskRole[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_iam_role" "ecsTaskRole" {
      [32m+[0m [0m[1m[0marn[0m[0m                   = (known after apply)
      [32m+[0m [0m[1m[0massume_role_policy[0m[0m    = jsonencode(
            {
              [32m+[0m [0mStatement = [
                  [32m+[0m [0m{
                      [32m+[0m [0mAction    = "sts:AssumeRole"
                      [32m+[0m [0mEffect    = "Allow"
                      [32m+[0m [0mPrincipal = {
                          [32m+[0m [0mService = "ecs-tasks.amazonaws.com"
                        }
                      [32m+[0m [0mSid       = ""
                    },
                ]
              [32m+[0m [0mVersion   = "2012-10-17"
            }
        )
      [32m+[0m [0m[1m[0mcreate_date[0m[0m           = (known after apply)
      [32m+[0m [0m[1m[0mforce_detach_policies[0m[0m = false
      [32m+[0m [0m[1m[0mid[0m[0m                    = (known after apply)
      [32m+[0m [0m[1m[0mmax_session_duration[0m[0m  = 3600
      [32m+[0m [0m[1m[0mname[0m[0m                  = "sample-cdktf-ecsTaskRole"
      [32m+[0m [0m[1m[0mpath[0m[0m                  = "/"
      [32m+[0m [0m[1m[0munique_id[0m[0m             = (known after apply)
    }

[1m  # aws_iam_role.lambdaExecutionRole[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_iam_role" "lambdaExecutionRole" {
      [32m+[0m [0m[1m[0marn[0m[0m                   = (known after apply)
      [32m+[0m [0m[1m[0massume_role_policy[0m[0m    = jsonencode(
            {
              [32m+[0m [0mStatement = [
                  [32m+[0m [0m{
                      [32m+[0m [0mAction    = "sts:AssumeRole"
                      [32m+[0m [0mEffect    = "Allow"
                      [32m+[0m [0mPrincipal = {
                          [32m+[0m [0mService = [
                              [32m+[0m [0m"lambda.amazonaws.com",
                              [32m+[0m [0m"ecs-tasks.amazonaws.com",
                            ]
                        }
                      [32m+[0m [0mSid       = ""
                    },
                ]
              [32m+[0m [0mVersion   = "2012-10-17"
            }
        )
      [32m+[0m [0m[1m[0mcreate_date[0m[0m           = (known after apply)
      [32m+[0m [0m[1m[0mforce_detach_policies[0m[0m = false
      [32m+[0m [0m[1m[0mid[0m[0m                    = (known after apply)
      [32m+[0m [0m[1m[0mmax_session_duration[0m[0m  = 3600
      [32m+[0m [0m[1m[0mname[0m[0m                  = "sample-cdktf-lambdaExecutionRole"
      [32m+[0m [0m[1m[0mpath[0m[0m                  = "/"
      [32m+[0m [0m[1m[0munique_id[0m[0m             = (known after apply)
    }

[1m  # aws_iam_role_policy_attachment.attach-ecs-task-execution-policy[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_iam_role_policy_attachment" "attach-ecs-task-execution-policy" {
      [32m+[0m [0m[1m[0mid[0m[0m         = (known after apply)
      [32m+[0m [0m[1m[0mpolicy_arn[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mrole[0m[0m       = "sample-cdktf-ecsTaskExecutionRole"
    }

[1m  # aws_iam_role_policy_attachment.attach-ecs-task-policy[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_iam_role_policy_attachment" "attach-ecs-task-policy" {
      [32m+[0m [0m[1m[0mid[0m[0m         = (known after apply)
      [32m+[0m [0m[1m[0mpolicy_arn[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mrole[0m[0m       = "sample-cdktf-ecsTaskRole"
    }

[1m  # aws_iam_role_policy_attachment.attach-lambda-policy[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_iam_role_policy_attachment" "attach-lambda-policy" {
      [32m+[0m [0m[1m[0mid[0m[0m         = (known after apply)
      [32m+[0m [0m[1m[0mpolicy_arn[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mrole[0m[0m       = "sample-cdktf-lambdaExecutionRole"
    }

[1m  # aws_internet_gateway.sample-cdktf-igw-production[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_internet_gateway" "sample-cdktf-igw-production" {
      [32m+[0m [0m[1m[0marn[0m[0m      = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m       = (known after apply)
      [32m+[0m [0m[1m[0mowner_id[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mtags[0m[0m     = {
          [32m+[0m [0m"Name" = "igw-production sample-cdktf"
        }
      [32m+[0m [0m[1m[0mvpc_id[0m[0m   = (known after apply)
    }

[1m  # aws_lambda_function.Sample-Lambda-Notification-to-Slack[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_lambda_function" "Sample-Lambda-Notification-to-Slack" {
      [32m+[0m [0m[1m[0marn[0m[0m                            = (known after apply)
      [32m+[0m [0m[1m[0mfunction_name[0m[0m                  = "Sample-Lambda-Notification-to-Slack"
      [32m+[0m [0m[1m[0mhandler[0m[0m                        = "index.handler"
      [32m+[0m [0m[1m[0mid[0m[0m                             = (known after apply)
      [32m+[0m [0m[1m[0minvoke_arn[0m[0m                     = (known after apply)
      [32m+[0m [0m[1m[0mlast_modified[0m[0m                  = (known after apply)
      [32m+[0m [0m[1m[0mmemory_size[0m[0m                    = 128
      [32m+[0m [0m[1m[0mpublish[0m[0m                        = false
      [32m+[0m [0m[1m[0mqualified_arn[0m[0m                  = (known after apply)
      [32m+[0m [0m[1m[0mreserved_concurrent_executions[0m[0m = -1
      [32m+[0m [0m[1m[0mrole[0m[0m                           = (known after apply)
      [32m+[0m [0m[1m[0mruntime[0m[0m                        = "nodejs12.x"
      [32m+[0m [0m[1m[0ms3_bucket[0m[0m                      = "sample-cdktf-s3"
      [32m+[0m [0m[1m[0ms3_key[0m[0m                         = "notification-to-Slack-dist.zip"
      [32m+[0m [0m[1m[0msource_code_hash[0m[0m               = (known after apply)
      [32m+[0m [0m[1m[0msource_code_size[0m[0m               = (known after apply)
      [32m+[0m [0m[1m[0mtimeout[0m[0m                        = 30
      [32m+[0m [0m[1m[0mversion[0m[0m                        = (known after apply)

      [32m+[0m [0menvironment {
          [32m+[0m [0m[1m[0mvariables[0m[0m = {
              [32m+[0m [0m"SLACK_API_TOKEN" = "xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp"
              [32m+[0m [0m"SLACK_CHANNEL"   = "C049CPNKHMJ"
            }
        }

      [32m+[0m [0mtracing_config {
          [32m+[0m [0m[1m[0mmode[0m[0m = (known after apply)
        }
    }

[1m  # aws_lambda_permission.permission-to-sns[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_lambda_permission" "permission-to-sns" {
      [32m+[0m [0m[1m[0maction[0m[0m        = "lambda:InvokeFunction"
      [32m+[0m [0m[1m[0mfunction_name[0m[0m = "Sample-Lambda-Notification-to-Slack"
      [32m+[0m [0m[1m[0mid[0m[0m            = (known after apply)
      [32m+[0m [0m[1m[0mprincipal[0m[0m     = "sns.amazonaws.com"
      [32m+[0m [0m[1m[0msource_arn[0m[0m    = (known after apply)

[2022-11-17T18:21:13.144] [DEBUG] default -       [32m+[0m [0m[1m[0mstatement_id[0m[0m  = "AllowExecutionFromSNS"
    }

[1m  # aws_nat_gateway.sample-cdktf-nat-gateway[0m will be created[0m[0m

[2022-11-17T18:21:13.144] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_nat_gateway" "sample-cdktf-nat-gateway" {

[2022-11-17T18:21:13.144] [DEBUG] default -       [32m+[0m [0m[1m[0mallocation_id[0m[0m        = (known after apply)

[2022-11-17T18:21:13.144] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                   = (known after apply)

[2022-11-17T18:21:13.144] [DEBUG] default -       [32m+[0m [0m[1m[0mnetwork_interface_id[0m[0m = (known after apply)

[2022-11-17T18:21:13.144] [DEBUG] default -       [32m+[0m [0m[1m[0mprivate_ip[0m[0m           = (known after apply)

[2022-11-17T18:21:13.144] [DEBUG] default -       [32m+[0m [0m[1m[0mpublic_ip[0m[0m            = (known after apply)

[2022-11-17T18:21:13.145] [DEBUG] default -       [32m+[0m [0m[1m[0msubnet_id[0m[0m            = (known after apply)

[2022-11-17T18:21:13.145] [DEBUG] default -       [32m+[0m [0m[1m[0mtags[0m[0m                 = {

[2022-11-17T18:21:13.145] [DEBUG] default -           [32m+[0m [0m"Name" = "sample-cdktf nat-gateway-production"
        }
    }


[2022-11-17T18:21:13.145] [DEBUG] default - [1m  # aws_route_table.sample-cdktf-private-rtb[0m will be created[0m[0m

[2022-11-17T18:21:13.145] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_route_table" "sample-cdktf-private-rtb" {
      [32m+[0m [0m[1m[0mid[0m[0m               = (known after apply)

[2022-11-17T18:21:13.145] [DEBUG] default -       [32m+[0m [0m[1m[0mowner_id[0m[0m         = (known after apply)

[2022-11-17T18:21:13.145] [DEBUG] default -       [32m+[0m [0m[1m[0mpropagating_vgws[0m[0m = (known after apply)

[2022-11-17T18:21:13.145] [DEBUG] default -       [32m+[0m [0m[1m[0mroute[0m[0m            = [

[2022-11-17T18:21:13.145] [DEBUG] default -           [32m+[0m [0m{

[2022-11-17T18:21:13.146] [DEBUG] default -               [32m+[0m [0mcidr_block                = "0.0.0.0/0"

[2022-11-17T18:21:13.146] [DEBUG] default -               [32m+[0m [0megress_only_gateway_id    = ""

[2022-11-17T18:21:13.146] [DEBUG] default -               [32m+[0m [0mgateway_id                = ""

[2022-11-17T18:21:13.146] [DEBUG] default -               [32m+[0m [0minstance_id               = ""

[2022-11-17T18:21:13.146] [DEBUG] default -               [32m+[0m [0mipv6_cidr_block           = ""

[2022-11-17T18:21:13.146] [DEBUG] default -               [32m+[0m [0mnat_gateway_id            = (known after apply)

[2022-11-17T18:21:13.146] [DEBUG] default -               [32m+[0m [0mnetwork_interface_id      = ""

[2022-11-17T18:21:13.146] [DEBUG] default -               [32m+[0m [0mtransit_gateway_id        = ""

[2022-11-17T18:21:13.146] [DEBUG] default -               [32m+[0m [0mvpc_peering_connection_id = ""
            },

[2022-11-17T18:21:13.146] [DEBUG] default -         ]

[2022-11-17T18:21:13.146] [DEBUG] default -       [32m+[0m [0m[1m[0mtags[0m[0m             = {
          [32m+[0m [0m"Name" = "sample-cdktf Private rtb"

[2022-11-17T18:21:13.146] [DEBUG] default -         }

[2022-11-17T18:21:13.146] [DEBUG] default -       [32m+[0m [0m[1m[0mvpc_id[0m[0m           = (known after apply)
    }


[2022-11-17T18:21:13.146] [DEBUG] default - [1m  # aws_route_table.sample-cdktf-public-rtb[0m will be created[0m[0m

[2022-11-17T18:21:13.146] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_route_table" "sample-cdktf-public-rtb" {

[2022-11-17T18:21:13.147] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m               = (known after apply)

[2022-11-17T18:21:13.147] [DEBUG] default -       [32m+[0m [0m[1m[0mowner_id[0m[0m         = (known after apply)

[2022-11-17T18:21:13.147] [DEBUG] default -       [32m+[0m [0m[1m[0mpropagating_vgws[0m[0m = (known after apply)

[2022-11-17T18:21:13.147] [DEBUG] default -       [32m+[0m [0m[1m[0mroute[0m[0m            = [
          [32m+[0m [0m{

[2022-11-17T18:21:13.147] [DEBUG] default -               [32m+[0m [0mcidr_block                = "0.0.0.0/0"

[2022-11-17T18:21:13.147] [DEBUG] default -               [32m+[0m [0megress_only_gateway_id    = ""

[2022-11-17T18:21:13.147] [DEBUG] default -               [32m+[0m [0mgateway_id                = (known after apply)

[2022-11-17T18:21:13.147] [DEBUG] default -               [32m+[0m [0minstance_id               = ""

[2022-11-17T18:21:13.147] [DEBUG] default -               [32m+[0m [0mipv6_cidr_block           = ""

[2022-11-17T18:21:13.147] [DEBUG] default -               [32m+[0m [0mnat_gateway_id            = ""

[2022-11-17T18:21:13.147] [DEBUG] default -               [32m+[0m [0mnetwork_interface_id      = ""

[2022-11-17T18:21:13.147] [DEBUG] default -               [32m+[0m [0mtransit_gateway_id        = ""

[2022-11-17T18:21:13.147] [DEBUG] default -               [32m+[0m [0mvpc_peering_connection_id = ""
            },
        ]

[2022-11-17T18:21:13.147] [DEBUG] default -       [32m+[0m [0m[1m[0mtags[0m[0m             = {

[2022-11-17T18:21:13.147] [DEBUG] default -           [32m+[0m [0m"Name" = "sample-cdktf Public rtb"

[2022-11-17T18:21:13.148] [DEBUG] default -         }

[2022-11-17T18:21:13.148] [DEBUG] default -       [32m+[0m [0m[1m[0mvpc_id[0m[0m           = (known after apply)
    }


[2022-11-17T18:21:13.148] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-private-rtb-association1[0m will be created[0m[0m

[2022-11-17T18:21:13.148] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_route_table_association" "sample-cdktf-private-rtb-association1" {

[2022-11-17T18:21:13.148] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)
      [32m+[0m [0m[1m[0mroute_table_id[0m[0m = (known after apply)

[2022-11-17T18:21:13.148] [DEBUG] default -       [32m+[0m [0m[1m[0msubnet_id[0m[0m      = (known after apply)
    }


[2022-11-17T18:21:13.148] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-private-rtb-association2[0m will be created[0m[0m

[2022-11-17T18:21:13.148] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_route_table_association" "sample-cdktf-private-rtb-association2" {

[2022-11-17T18:21:13.148] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)

[2022-11-17T18:21:13.148] [DEBUG] default -       [32m+[0m [0m[1m[0mroute_table_id[0m[0m = (known after apply)

[2022-11-17T18:21:13.149] [DEBUG] default -       [32m+[0m [0m[1m[0msubnet_id[0m[0m      = (known after apply)
    }


[2022-11-17T18:21:13.149] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-public-rtb-association1[0m will be created[0m[0m

[2022-11-17T18:21:13.149] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_route_table_association" "sample-cdktf-public-rtb-association1" {

[2022-11-17T18:21:13.149] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)

[2022-11-17T18:21:13.149] [DEBUG] default -       [32m+[0m [0m[1m[0mroute_table_id[0m[0m = (known after apply)

[2022-11-17T18:21:13.149] [DEBUG] default -       [32m+[0m [0m[1m[0msubnet_id[0m[0m      = (known after apply)

[2022-11-17T18:21:13.149] [DEBUG] default -     }


[2022-11-17T18:21:13.149] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-public-rtb-association2[0m will be created[0m[0m

[2022-11-17T18:21:13.149] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_route_table_association" "sample-cdktf-public-rtb-association2" {

[2022-11-17T18:21:13.149] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)

[2022-11-17T18:21:13.149] [DEBUG] default -       [32m+[0m [0m[1m[0mroute_table_id[0m[0m = (known after apply)

[2022-11-17T18:21:13.149] [DEBUG] default -       [32m+[0m [0m[1m[0msubnet_id[0m[0m      = (known after apply)

[2022-11-17T18:21:13.149] [DEBUG] default -     }


[2022-11-17T18:21:13.150] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-public-rtb1[0m will be created[0m[0m

[2022-11-17T18:21:13.150] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_route_table_association" "sample-cdktf-public-rtb1" {

[2022-11-17T18:21:13.150] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)

[2022-11-17T18:21:13.150] [DEBUG] default -       [32m+[0m [0m[1m[0mroute_table_id[0m[0m = (known after apply)

[2022-11-17T18:21:13.150] [DEBUG] default -       [32m+[0m [0m[1m[0msubnet_id[0m[0m      = (known after apply)
    }

[2022-11-17T18:21:13.150] [DEBUG] default - 
[1m  # aws_s3_bucket.sample-cdktf-s3[0m will be created[0m[0m

[2022-11-17T18:21:13.150] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_s3_bucket" "sample-cdktf-s3" {

[2022-11-17T18:21:13.150] [DEBUG] default -       [32m+[0m [0m[1m[0macceleration_status[0m[0m         = (known after apply)

[2022-11-17T18:21:13.150] [DEBUG] default -       [32m+[0m [0m[1m[0macl[0m[0m                         = "private"

[2022-11-17T18:21:13.150] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                         = (known after apply)

[2022-11-17T18:21:13.150] [DEBUG] default -       [32m+[0m [0m[1m[0mbucket[0m[0m                      = "sample-cdktf-s3"

[2022-11-17T18:21:13.151] [DEBUG] default -       [32m+[0m [0m[1m[0mbucket_domain_name[0m[0m          = (known after apply)

[2022-11-17T18:21:13.151] [DEBUG] default -       [32m+[0m [0m[1m[0mbucket_regional_domain_name[0m[0m = (known after apply)

[2022-11-17T18:21:13.151] [DEBUG] default -       [32m+[0m [0m[1m[0mforce_destroy[0m[0m               = false

[2022-11-17T18:21:13.151] [DEBUG] default -       [32m+[0m [0m[1m[0mhosted_zone_id[0m[0m              = (known after apply)

[2022-11-17T18:21:13.151] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                          = (known after apply)

[2022-11-17T18:21:13.151] [DEBUG] default -       [32m+[0m [0m[1m[0mregion[0m[0m                      = "ap-northeast-1"

[2022-11-17T18:21:13.151] [DEBUG] default -       [32m+[0m [0m[1m[0mrequest_payer[0m[0m               = (known after apply)

[2022-11-17T18:21:13.151] [DEBUG] default -       [32m+[0m [0m[1m[0mwebsite_domain[0m[0m              = (known after apply)

[2022-11-17T18:21:13.151] [DEBUG] default -       [32m+[0m [0m[1m[0mwebsite_endpoint[0m[0m            = (known after apply)


[2022-11-17T18:21:13.151] [DEBUG] default -       [32m+[0m [0mversioning {

[2022-11-17T18:21:13.151] [DEBUG] default -           [32m+[0m [0m[1m[0menabled[0m[0m    = (known after apply)

[2022-11-17T18:21:13.151] [DEBUG] default -           [32m+[0m [0m[1m[0mmfa_delete[0m[0m = (known after apply)
        }
    }


[2022-11-17T18:21:13.151] [DEBUG] default - [1m  # aws_s3_bucket_object.notification-to-Slack-distzip[0m will be created[0m[0m

[2022-11-17T18:21:13.151] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_s3_bucket_object" "notification-to-Slack-distzip" {

[2022-11-17T18:21:13.152] [DEBUG] default -       [32m+[0m [0m[1m[0macl[0m[0m                    = "private"

[2022-11-17T18:21:13.152] [DEBUG] default -       [32m+[0m [0m[1m[0mbucket[0m[0m                 = "sample-cdktf-s3"

[2022-11-17T18:21:13.152] [DEBUG] default -       [32m+[0m [0m[1m[0mcontent_type[0m[0m           = "zip"

[2022-11-17T18:21:13.152] [DEBUG] default -       [32m+[0m [0m[1m[0metag[0m[0m                   = (known after apply)

[2022-11-17T18:21:13.152] [DEBUG] default -       [32m+[0m [0m[1m[0mforce_destroy[0m[0m          = false
      [32m+[0m [0m[1m[0mid[0m[0m                     = (known after apply)

[2022-11-17T18:21:13.152] [DEBUG] default -       [32m+[0m [0m[1m[0mkey[0m[0m                    = "notification-to-Slack-dist.zip"

[2022-11-17T18:21:13.152] [DEBUG] default -       [32m+[0m [0m[1m[0mserver_side_encryption[0m[0m = (known after apply)

[2022-11-17T18:21:13.152] [DEBUG] default -       [32m+[0m [0m[1m[0msource[0m[0m                 = "/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip"

[2022-11-17T18:21:13.152] [DEBUG] default -       [32m+[0m [0m[1m[0mstorage_class[0m[0m          = (known after apply)

[2022-11-17T18:21:13.152] [DEBUG] default -       [32m+[0m [0m[1m[0mversion_id[0m[0m             = (known after apply)
    }

[2022-11-17T18:21:13.152] [DEBUG] default - 

[2022-11-17T18:21:13.153] [DEBUG] default - [1m  # aws_security_group.sample-cdktf-security-group[0m will be created[0m[0m

[2022-11-17T18:21:13.153] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_security_group" "sample-cdktf-security-group" {

[2022-11-17T18:21:13.153] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                    = (known after apply)

[2022-11-17T18:21:13.153] [DEBUG] default -       [32m+[0m [0m[1m[0mdescription[0m[0m            = "Managed by Terraform"

[2022-11-17T18:21:13.153] [DEBUG] default -       [32m+[0m [0m[1m[0megress[0m[0m                 = (known after apply)

[2022-11-17T18:21:13.153] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                     = (known after apply)

[2022-11-17T18:21:13.153] [DEBUG] default -       [32m+[0m [0m[1m[0mingress[0m[0m                = (known after apply)

[2022-11-17T18:21:13.153] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m                   = "sample-cdktf"

[2022-11-17T18:21:13.153] [DEBUG] default -       [32m+[0m [0m[1m[0mowner_id[0m[0m               = (known after apply)

[2022-11-17T18:21:13.153] [DEBUG] default -       [32m+[0m [0m[1m[0mrevoke_rules_on_delete[0m[0m = false

[2022-11-17T18:21:13.153] [DEBUG] default -       [32m+[0m [0m[1m[0mtags[0m[0m                   = {

[2022-11-17T18:21:13.153] [DEBUG] default -           [32m+[0m [0m"Name" = "sample-cdktf"
        }

[2022-11-17T18:21:13.153] [DEBUG] default -       [32m+[0m [0m[1m[0mvpc_id[0m[0m                 = (known after apply)
    }


[2022-11-17T18:21:13.153] [DEBUG] default - [1m  # aws_security_group_rule.sample-cdktf-security-egress[0m will be created[0m[0m

[2022-11-17T18:21:13.154] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_security_group_rule" "sample-cdktf-security-egress" {

[2022-11-17T18:21:13.154] [DEBUG] default -       [32m+[0m [0m[1m[0mcidr_blocks[0m[0m              = [

[2022-11-17T18:21:13.154] [DEBUG] default -           [32m+[0m [0m"0.0.0.0/0",
        ]

[2022-11-17T18:21:13.154] [DEBUG] default -       [32m+[0m [0m[1m[0mfrom_port[0m[0m                = 0

[2022-11-17T18:21:13.154] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                       = (known after apply)

[2022-11-17T18:21:13.154] [DEBUG] default -       [32m+[0m [0m[1m[0mprotocol[0m[0m                 = "-1"

[2022-11-17T18:21:13.154] [DEBUG] default -       [32m+[0m [0m[1m[0msecurity_group_id[0m[0m        = (known after apply)

[2022-11-17T18:21:13.154] [DEBUG] default -       [32m+[0m [0m[1m[0mself[0m[0m                     = false

[2022-11-17T18:21:13.154] [DEBUG] default -       [32m+[0m [0m[1m[0msource_security_group_id[0m[0m = (known after apply)

[2022-11-17T18:21:13.154] [DEBUG] default -       [32m+[0m [0m[1m[0mto_port[0m[0m                  = 0

[2022-11-17T18:21:13.154] [DEBUG] default -       [32m+[0m [0m[1m[0mtype[0m[0m                     = "egress"

[2022-11-17T18:21:13.154] [DEBUG] default -     }


[2022-11-17T18:21:13.154] [DEBUG] default - [1m  # aws_security_group_rule.sample-cdktf-security-ingress[0m will be created[0m[0m

[2022-11-17T18:21:13.154] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_security_group_rule" "sample-cdktf-security-ingress" {

[2022-11-17T18:21:13.154] [DEBUG] default -       [32m+[0m [0m[1m[0mcidr_blocks[0m[0m              = [

[2022-11-17T18:21:13.154] [DEBUG] default -           [32m+[0m [0m"0.0.0.0/0",
        ]

[2022-11-17T18:21:13.155] [DEBUG] default -       [32m+[0m [0m[1m[0mfrom_port[0m[0m                = 80

[2022-11-17T18:21:13.155] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                       = (known after apply)

[2022-11-17T18:21:13.155] [DEBUG] default -       [32m+[0m [0m[1m[0mprotocol[0m[0m                 = "tcp"

[2022-11-17T18:21:13.155] [DEBUG] default -       [32m+[0m [0m[1m[0msecurity_group_id[0m[0m        = (known after apply)

[2022-11-17T18:21:13.155] [DEBUG] default -       [32m+[0m [0m[1m[0mself[0m[0m                     = false
      [32m+[0m [0m[1m[0msource_security_group_id[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mto_port[0m[0m                  = 80
      [32m+[0m [0m[1m[0mtype[0m[0m                     = "ingress"
    }

[1m  # aws_sns_topic.sample-cdktf-sns[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_sns_topic" "sample-cdktf-sns" {

[2022-11-17T18:21:13.155] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m    = (known after apply)

[2022-11-17T18:21:13.155] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m     = (known after apply)

[2022-11-17T18:21:13.155] [DEBUG] default -       [32m+[0m [0m[1m[0mname[0m[0m   = "sample-cdktf-sns"

[2022-11-17T18:21:13.156] [DEBUG] default -       [32m+[0m [0m[1m[0mpolicy[0m[0m = (known after apply)
    }


[2022-11-17T18:21:13.156] [DEBUG] default - [1m  # aws_sns_topic_policy.sample-cdktf-sns-policy[0m will be created[0m[0m

[2022-11-17T18:21:13.156] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_sns_topic_policy" "sample-cdktf-sns-policy" {

[2022-11-17T18:21:13.156] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m    = (known after apply)

[2022-11-17T18:21:13.156] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m     = (known after apply)

[2022-11-17T18:21:13.156] [DEBUG] default -       [32m+[0m [0m[1m[0mpolicy[0m[0m = jsonencode(
            {

[2022-11-17T18:21:13.156] [DEBUG] default -               [32m+[0m [0mStatement = {

[2022-11-17T18:21:13.156] [DEBUG] default -                   [32m+[0m [0mAction    = [

[2022-11-17T18:21:13.158] [DEBUG] default -                       [32m+[0m [0m"SNS:Publish",
                    ]
                  [32m+[0m [0mEffect    = "Allow"
                  [32m+[0m [0mPrincipal = {
                      [32m+[0m [0mService = "events.amazonaws.com"
                    }
                  [32m+[0m [0mResource  = [
                      [32m+[0m [0m"*",
                    ]
                  [32m+[0m [0mSid       = ""
                }
              [32m+[0m [0mVersion   = "2012-10-17"
            }
        )
    }

[1m  # aws_sns_topic_subscription.sample-cdktf-sns-subscription[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_sns_topic_subscription" "sample-cdktf-sns-subscription" {
      [32m+[0m [0m[1m[0marn[0m[0m                             = (known after apply)

[2022-11-17T18:21:13.158] [DEBUG] default -       [32m+[0m [0m[1m[0mconfirmation_timeout_in_minutes[0m[0m = 1

[2022-11-17T18:21:13.158] [DEBUG] default -       [32m+[0m [0m[1m[0mendpoint[0m[0m                        = (known after apply)

[2022-11-17T18:21:13.158] [DEBUG] default -       [32m+[0m [0m[1m[0mendpoint_auto_confirms[0m[0m          = false

[2022-11-17T18:21:13.158] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                              = (known after apply)

[2022-11-17T18:21:13.158] [DEBUG] default -       [32m+[0m [0m[1m[0mprotocol[0m[0m                        = "lambda"

[2022-11-17T18:21:13.158] [DEBUG] default -       [32m+[0m [0m[1m[0mraw_message_delivery[0m[0m            = false

[2022-11-17T18:21:13.158] [DEBUG] default -       [32m+[0m [0m[1m[0mtopic_arn[0m[0m                       = (known after apply)

[2022-11-17T18:21:13.158] [DEBUG] default -     }


[2022-11-17T18:21:13.158] [DEBUG] default - [1m  # aws_subnet.sample-cdktf-private-subnet1[0m will be created[0m[0m

[2022-11-17T18:21:13.158] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_subnet" "sample-cdktf-private-subnet1" {

[2022-11-17T18:21:13.158] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                             = (known after apply)

[2022-11-17T18:21:13.159] [DEBUG] default -       [32m+[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false

[2022-11-17T18:21:13.159] [DEBUG] default -       [32m+[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1a"

[2022-11-17T18:21:13.159] [DEBUG] default -       [32m+[0m [0m[1m[0mavailability_zone_id[0m[0m            = (known after apply)

[2022-11-17T18:21:13.159] [DEBUG] default -       [32m+[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.128.0/20"

[2022-11-17T18:21:13.159] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                              = (known after apply)

[2022-11-17T18:21:13.159] [DEBUG] default -       [32m+[0m [0m[1m[0mipv6_cidr_block[0m[0m                 = (known after apply)

[2022-11-17T18:21:13.159] [DEBUG] default -       [32m+[0m [0m[1m[0mipv6_cidr_block_association_id[0m[0m  = (known after apply)

[2022-11-17T18:21:13.159] [DEBUG] default -       [32m+[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true

[2022-11-17T18:21:13.159] [DEBUG] default -       [32m+[0m [0m[1m[0mowner_id[0m[0m                        = (known after apply)

[2022-11-17T18:21:13.159] [DEBUG] default -       [32m+[0m [0m[1m[0mtags[0m[0m                            = {

[2022-11-17T18:21:13.160] [DEBUG] default -           [32m+[0m [0m"Name" = "Private1 AZ1a sample-cdktf"
        }
      [32m+[0m [0m[1m[0mvpc_id[0m[0m                          = (known after apply)
    }

[1m  # aws_subnet.sample-cdktf-private-subnet2[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_subnet" "sample-cdktf-private-subnet2" {
      [32m+[0m [0m[1m[0marn[0m[0m                             = (known after apply)
      [32m+[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false
      [32m+[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1c"
      [32m+[0m [0m[1m[0mavailability_zone_id[0m[0m            = (known after apply)

[2022-11-17T18:21:13.160] [DEBUG] default -       [32m+[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.144.0/20"
      [32m+[0m [0m[1m[0mid[0m[0m                              = (known after apply)

[2022-11-17T18:21:13.160] [DEBUG] default -       [32m+[0m [0m[1m[0mipv6_cidr_block[0m[0m                 = (known after apply)

[2022-11-17T18:21:13.160] [DEBUG] default -       [32m+[0m [0m[1m[0mipv6_cidr_block_association_id[0m[0m  = (known after apply)

[2022-11-17T18:21:13.160] [DEBUG] default -       [32m+[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true

[2022-11-17T18:21:13.160] [DEBUG] default -       [32m+[0m [0m[1m[0mowner_id[0m[0m                        = (known after apply)

[2022-11-17T18:21:13.160] [DEBUG] default -       [32m+[0m [0m[1m[0mtags[0m[0m                            = {

[2022-11-17T18:21:13.160] [DEBUG] default -           [32m+[0m [0m"Name" = "Private2 AZ1c sample-cdktf"

[2022-11-17T18:21:13.160] [DEBUG] default -         }

[2022-11-17T18:21:13.161] [DEBUG] default -       [32m+[0m [0m[1m[0mvpc_id[0m[0m                          = (known after apply)
    }


[2022-11-17T18:21:13.161] [DEBUG] default - [1m  # aws_subnet.sample-cdktf-public-subnet1[0m will be created[0m[0m

[2022-11-17T18:21:13.161] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_subnet" "sample-cdktf-public-subnet1" {

[2022-11-17T18:21:13.161] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                             = (known after apply)

[2022-11-17T18:21:13.161] [DEBUG] default -       [32m+[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false

[2022-11-17T18:21:13.161] [DEBUG] default -       [32m+[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1a"

[2022-11-17T18:21:13.161] [DEBUG] default -       [32m+[0m [0m[1m[0mavailability_zone_id[0m[0m            = (known after apply)

[2022-11-17T18:21:13.161] [DEBUG] default -       [32m+[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.0.0/20"

[2022-11-17T18:21:13.161] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                              = (known after apply)

[2022-11-17T18:21:13.161] [DEBUG] default -       [32m+[0m [0m[1m[0mipv6_cidr_block[0m[0m                 = (known after apply)

[2022-11-17T18:21:13.161] [DEBUG] default -       [32m+[0m [0m[1m[0mipv6_cidr_block_association_id[0m[0m  = (known after apply)

[2022-11-17T18:21:13.161] [DEBUG] default -       [32m+[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true

[2022-11-17T18:21:13.161] [DEBUG] default -       [32m+[0m [0m[1m[0mowner_id[0m[0m                        = (known after apply)

[2022-11-17T18:21:13.162] [DEBUG] default -       [32m+[0m [0m[1m[0mtags[0m[0m                            = {
          [32m+[0m [0m"Name" = "Public1 AZ1a sample-cdktf"

[2022-11-17T18:21:13.162] [DEBUG] default -         }

[2022-11-17T18:21:13.162] [DEBUG] default -       [32m+[0m [0m[1m[0mvpc_id[0m[0m                          = (known after apply)
    }


[2022-11-17T18:21:13.162] [DEBUG] default - [1m  # aws_subnet.sample-cdktf-public-subnet2[0m will be created[0m[0m

[2022-11-17T18:21:13.162] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_subnet" "sample-cdktf-public-subnet2" {

[2022-11-17T18:21:13.162] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                             = (known after apply)

[2022-11-17T18:21:13.162] [DEBUG] default -       [32m+[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false

[2022-11-17T18:21:13.162] [DEBUG] default -       [32m+[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1c"

[2022-11-17T18:21:13.162] [DEBUG] default -       [32m+[0m [0m[1m[0mavailability_zone_id[0m[0m            = (known after apply)

[2022-11-17T18:21:13.162] [DEBUG] default -       [32m+[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.16.0/20"

[2022-11-17T18:21:13.162] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                              = (known after apply)

[2022-11-17T18:21:13.162] [DEBUG] default -       [32m+[0m [0m[1m[0mipv6_cidr_block[0m[0m                 = (known after apply)

[2022-11-17T18:21:13.162] [DEBUG] default -       [32m+[0m [0m[1m[0mipv6_cidr_block_association_id[0m[0m  = (known after apply)

[2022-11-17T18:21:13.163] [DEBUG] default -       [32m+[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true

[2022-11-17T18:21:13.163] [DEBUG] default -       [32m+[0m [0m[1m[0mowner_id[0m[0m                        = (known after apply)

[2022-11-17T18:21:13.163] [DEBUG] default -       [32m+[0m [0m[1m[0mtags[0m[0m                            = {

[2022-11-17T18:21:13.163] [DEBUG] default -           [32m+[0m [0m"Name" = "Public2 AZ1c sample-cdktf"
        }

[2022-11-17T18:21:13.163] [DEBUG] default -       [32m+[0m [0m[1m[0mvpc_id[0m[0m                          = (known after apply)

[2022-11-17T18:21:13.163] [DEBUG] default -     }

[1m  # aws_vpc.sample-cdktf-vpc[0m will be created[0m[0m

[2022-11-17T18:21:13.163] [DEBUG] default - [0m  [32m+[0m[0m resource "aws_vpc" "sample-cdktf-vpc" {

[2022-11-17T18:21:13.163] [DEBUG] default -       [32m+[0m [0m[1m[0marn[0m[0m                              = (known after apply)

[2022-11-17T18:21:13.163] [DEBUG] default -       [32m+[0m [0m[1m[0massign_generated_ipv6_cidr_block[0m[0m = false

[2022-11-17T18:21:13.163] [DEBUG] default -       [32m+[0m [0m[1m[0mcidr_block[0m[0m                       = "10.0.0.0/16"

[2022-11-17T18:21:13.163] [DEBUG] default -       [32m+[0m [0m[1m[0mdefault_network_acl_id[0m[0m           = (known after apply)

[2022-11-17T18:21:13.163] [DEBUG] default -       [32m+[0m [0m[1m[0mdefault_route_table_id[0m[0m           = (known after apply)

[2022-11-17T18:21:13.163] [DEBUG] default -       [32m+[0m [0m[1m[0mdefault_security_group_id[0m[0m        = (known after apply)

[2022-11-17T18:21:13.164] [DEBUG] default -       [32m+[0m [0m[1m[0mdhcp_options_id[0m[0m                  = (known after apply)

[2022-11-17T18:21:13.164] [DEBUG] default -       [32m+[0m [0m[1m[0menable_classiclink[0m[0m               = (known after apply)

[2022-11-17T18:21:13.164] [DEBUG] default -       [32m+[0m [0m[1m[0menable_classiclink_dns_support[0m[0m   = (known after apply)

[2022-11-17T18:21:13.164] [DEBUG] default -       [32m+[0m [0m[1m[0menable_dns_hostnames[0m[0m             = true

[2022-11-17T18:21:13.164] [DEBUG] default -       [32m+[0m [0m[1m[0menable_dns_support[0m[0m               = true

[2022-11-17T18:21:13.164] [DEBUG] default -       [32m+[0m [0m[1m[0mid[0m[0m                               = (known after apply)

[2022-11-17T18:21:13.164] [DEBUG] default -       [32m+[0m [0m[1m[0minstance_tenancy[0m[0m                 = "default"

[2022-11-17T18:21:13.164] [DEBUG] default -       [32m+[0m [0m[1m[0mipv6_association_id[0m[0m              = (known after apply)

[2022-11-17T18:21:13.164] [DEBUG] default -       [32m+[0m [0m[1m[0mipv6_cidr_block[0m[0m                  = (known after apply)

[2022-11-17T18:21:13.164] [DEBUG] default -       [32m+[0m [0m[1m[0mmain_route_table_id[0m[0m              = (known after apply)

[2022-11-17T18:21:13.164] [DEBUG] default -       [32m+[0m [0m[1m[0mowner_id[0m[0m                         = (known after apply)

[2022-11-17T18:21:13.164] [DEBUG] default -       [32m+[0m [0m[1m[0mtags[0m[0m                             = {

[2022-11-17T18:21:13.164] [DEBUG] default -           [32m+[0m [0m"Name" = "sample-cdktf production"
        }

[2022-11-17T18:21:13.164] [DEBUG] default -     }


[2022-11-17T18:21:13.164] [DEBUG] default - [0m[1mPlan:[0m 46 to add, 0 to change, 0 to destroy.[0m
[33m

[2022-11-17T18:21:13.165] [DEBUG] default - [1m[33mWarning: [0m[0m[1m"condition.0.values": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m


[2022-11-17T18:21:13.165] [DEBUG] default - [0m  on cdk.tf.json line 681, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:

[2022-11-17T18:21:13.165] [DEBUG] default -  681:       [4m}[0m
[0m
[0m[0m
[33m

[2022-11-17T18:21:13.165] [DEBUG] default - [1m[33mWarning: [0m[0m[1m"condition.0.field": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m


[2022-11-17T18:21:13.165] [DEBUG] default - [0m  on cdk.tf.json line 681, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:

[2022-11-17T18:21:13.165] [DEBUG] default -  681:       [4m}[0m
[0m
[0m[0m


[2022-11-17T18:21:13.165] [DEBUG] default - ------------------------------------------------------------------------


[2022-11-17T18:21:13.165] [DEBUG] default - This plan was saved to: /Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/cdktf.out/plan


[2022-11-17T18:21:13.165] [DEBUG] default - To perform exactly these actions, run the following command to apply:

[2022-11-17T18:21:13.165] [DEBUG] default -     terraform apply "/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/cdktf.out/plan"


[2022-11-17T18:21:14.148] [DEBUG] default - {"format_version":"0.1","terraform_version":"0.14.8","planned_values":{"root_module":{"resources":[{"address":"aws_alb.sample-cdktf-alb","mode":"managed","type":"aws_alb","name":"sample-cdktf-alb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"access_logs":[],"drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":null,"enable_deletion_protection":false,"enable_http2":true,"idle_timeout":60,"internal":false,"ip_address_type":"ipv4","load_balancer_type":"application","name":"sample-cdktf-alb","name_prefix":null,"tags":null,"timeouts":null}},{"address":"aws_alb_listener.sample-cdktf-alb-listener","mode":"managed","type":"aws_alb_listener","name":"sample-cdktf-alb-listener","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[{"content_type":"text/plain","message_body":"OK","status_code":"200"}],"forward":[],"redirect":[],"target_group_arn":null,"type":"fixed-response"}],"port":80,"protocol":"HTTP","timeouts":null}},{"address":"aws_alb_listener_rule.sample-cdktf-alb-listener-rule","mode":"managed","type":"aws_alb_listener_rule","name":"sample-cdktf-alb-listener-rule","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[],"type":"forward"}],"condition":[{"field":"path-pattern","http_header":[],"http_request_method":[],"query_string":[],"source_ip":[],"values":["*"]}],"priority":100}},{"address":"aws_alb_target_group.sample-cdktf-alb-target-group","mode":"managed","type":"aws_alb_target_group","name":"sample-cdktf-alb-target-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"deregistration_delay":300,"health_check":[{"enabled":true,"healthy_threshold":3,"interval":30,"path":"/","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"lambda_multi_value_headers_enabled":false,"name":"sample-cdktf-alb-target-group","name_prefix":null,"port":80,"protocol":"HTTP","proxy_protocol_v2":false,"slow_start":0,"tags":null,"target_type":"ip"}},{"address":"aws_cloudwatch_event_rule.sample-cdktf-event-rule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"sample-cdktf-event-rule","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Capture each AWS ECR Update","event_pattern":"{\"detail\":{\"action-type\":[\"PUSH\"],\"result\":[\"SUCCESS\"]},\"detail-type\":[\"ECR Image Action\"],\"source\":[\"aws.ecr\"]}","is_enabled":true,"name":"capture-ecr-update","name_prefix":null,"role_arn":null,"schedule_expression":null,"tags":null}},{"address":"aws_cloudwatch_event_target.sample-cdktf-event-target","mode":"managed","type":"aws_cloudwatch_event_target","name":"sample-cdktf-event-target","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"batch_target":[],"ecs_target":[],"input":null,"input_path":null,"input_transformer":[],"kinesis_target":[],"role_arn":null,"rule":"capture-ecr-update","run_command_targets":[],"sqs_target":[],"target_id":"SendToSNS"}},{"address":"aws_cloudwatch_log_group.sample-cdktf-ecs-task-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-ecs-task-log-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"kms_key_id":null,"name":"/aws/ecs/task-for-cdktf","name_prefix":null,"retention_in_days":0,"tags":null}},{"address":"aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-notification-to-slack-log-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"kms_key_id":null,"name":"/aws/lambda/Sample-Lambda-Notification-to-Slack","name_prefix":null,"retention_in_days":0,"tags":null}},{"address":"aws_ecr_repository.sample-cdktf-repository","mode":"managed","type":"aws_ecr_repository","name":"sample-cdktf-repository","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"image_scanning_configuration":[],"image_tag_mutability":"MUTABLE","name":"project/sample-ecr","tags":null,"timeouts":null}},{"address":"aws_ecs_cluster.sample-cdktf-cluster","mode":"managed","type":"aws_ecs_cluster","name":"sample-cdktf-cluster","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"capacity_providers":null,"default_capacity_provider_strategy":[],"name":"sample-cdktf-cluster","tags":null}},{"address":"aws_ecs_service.sample-cdktf-ecs-service","mode":"managed","type":"aws_ecs_service","name":"sample-cdktf-ecs-service","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"capacity_provider_strategy":[],"deployment_controller":[],"deployment_maximum_percent":200,"deployment_minimum_healthy_percent":100,"desired_count":1,"enable_ecs_managed_tags":false,"force_new_deployment":null,"health_check_grace_period_seconds":null,"launch_type":"FARGATE","load_balancer":[{"container_name":"sample-cdktf-container","container_port":9000,"elb_name":""}],"name":"sample-cdktf-ecs-service","network_configuration":[{"assign_public_ip":false}],"ordered_placement_strategy":[],"placement_constraints":[],"platform_version":"LATEST","propagate_tags":null,"scheduling_strategy":"REPLICA","service_registries":[],"tags":null,"timeouts":null}},{"address":"aws_ecs_task_definition.sample-cdktf-task","mode":"managed","type":"aws_ecs_task_definition","name":"sample-cdktf-task","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"cpu":"512","family":"task-for-cdktf","inference_accelerator":[],"ipc_mode":null,"memory":"1024","network_mode":"awsvpc","pid_mode":null,"placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":["FARGATE"],"tags":null,"volume":[]}},{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"associate_with_private_ip":null,"customer_owned_ipv4_pool":null,"tags":null,"timeouts":null,"vpc":true}},{"address":"aws_iam_policy.ecs-task-execution-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Policy for updating ECS tasks","name":"ecs-task-execution-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},{"address":"aws_iam_policy.ecs-task-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Policy for updating ECS tasks","name":"ecs-task-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecs:DescribeServices\",\n              \"ecs:CreateTaskSet\",\n              \"ecs:UpdateServicePrimaryTaskSet\",\n              \"ecs:DeleteTaskSet\",\n              \"elasticloadbalancing:DescribeTargetGroups\",\n              \"elasticloadbalancing:DescribeListeners\",\n              \"elasticloadbalancing:ModifyListener\",\n              \"elasticloadbalancing:DescribeRules\",\n              \"elasticloadbalancing:ModifyRule\",\n              \"lambda:InvokeFunction\",\n              \"cloudwatch:DescribeAlarms\",\n              \"sns:Publish\",\n              \"s3:GetObject\",\n              \"s3:GetObjectVersi
[2022-11-17T18:21:14.148] [DEBUG] default - on\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},{"address":"aws_iam_policy.lambda-logging","mode":"managed","type":"aws_iam_policy","name":"lambda-logging","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"IAM policy for logging from a lambda","name":"sample-cdktf-lambda-logging","name_prefix":null,"path":"/"}},{"address":"aws_iam_role.ecsTaskExecutionRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\":    \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"sample-cdktf-ecsTaskExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null}},{"address":"aws_iam_role.ecsTaskRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskRole","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\n        \"Version\": \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n          },\n          \"Effect\": \"Allow\",\n          \"Sid\": \"\"\n          }\n        ]\n      }","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"sample-cdktf-ecsTaskRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null}},{"address":"aws_iam_role.lambdaExecutionRole","mode":"managed","type":"aws_iam_role","name":"lambdaExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": [\n                \"lambda.amazonaws.com\",\n                \"ecs-tasks.amazonaws.com\"\n              ]\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"sample-cdktf-lambdaExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null}},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-execution-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"sample-cdktf-ecsTaskExecutionRole"}},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"sample-cdktf-ecsTaskRole"}},{"address":"aws_iam_role_policy_attachment.attach-lambda-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-lambda-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"sample-cdktf-lambdaExecutionRole"}},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"tags":{"Name":"igw-production sample-cdktf"}}},{"address":"aws_lambda_function.Sample-Lambda-Notification-to-Slack","mode":"managed","type":"aws_lambda_function","name":"Sample-Lambda-Notification-to-Slack","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"dead_letter_config":[],"description":null,"environment":[{"variables":{"SLACK_API_TOKEN":"xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp","SLACK_CHANNEL":"C049CPNKHMJ"}}],"file_system_config":[],"filename":null,"function_name":"Sample-Lambda-Notification-to-Slack","handler":"index.handler","kms_key_arn":null,"layers":null,"memory_size":128,"publish":false,"reserved_concurrent_executions":-1,"runtime":"nodejs12.x","s3_bucket":"sample-cdktf-s3","s3_key":"notification-to-Slack-dist.zip","s3_object_version":null,"tags":null,"timeout":30,"timeouts":null,"vpc_config":[]}},{"address":"aws_lambda_permission.permission-to-sns","mode":"managed","type":"aws_lambda_permission","name":"permission-to-sns","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"Sample-Lambda-Notification-to-Slack","principal":"sns.amazonaws.com","qualifier":null,"source_account":null,"statement_id":"AllowExecutionFromSNS","statement_id_prefix":null}},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"tags":{"Name":"sample-cdktf nat-gateway-production"}}},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Private rtb"}}},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Public rtb"}}},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null}},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null}},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null}},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null}},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null}},{"address":"aws_s3_bucket.sample-cdktf-s3","mode":"managed","type":"aws_s3_bucket","name":"sample-cdktf-s3","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","bucket":"sample-cdktf-s3","bucket_prefix":null,"cors_rule":[],"force_destroy":false,"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":null,"region":"ap-northeast-1","replication_configuration":[],"server_side_encryptio
[2022-11-17T18:21:14.148] [DEBUG] default - n_configuration":[],"tags":null,"website":[]}},{"address":"aws_s3_bucket_object.notification-to-Slack-distzip","mode":"managed","type":"aws_s3_bucket_object","name":"notification-to-Slack-distzip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","bucket":"sample-cdktf-s3","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"content_type":"zip","force_destroy":false,"key":"notification-to-Slack-dist.zip","kms_key_id":null,"metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip","tags":null,"website_redirect":null}},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Managed by Terraform","name":"sample-cdktf","name_prefix":null,"revoke_rules_on_delete":false,"tags":{"Name":"sample-cdktf"},"timeouts":null}},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","self":false,"to_port":0,"type":"egress"}},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":80,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","self":false,"to_port":80,"type":"ingress"}},{"address":"aws_sns_topic.sample-cdktf-sns","mode":"managed","type":"aws_sns_topic","name":"sample-cdktf-sns","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"delivery_policy":null,"display_name":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"kms_master_key_id":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"sample-cdktf-sns","name_prefix":null,"sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":null}},{"address":"aws_sns_topic_policy.sample-cdktf-sns-policy","mode":"managed","type":"aws_sns_topic_policy","name":"sample-cdktf-sns-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": {\n          \"Effect\": \"Allow\",\n          \"Sid\":    \"\",\n          \"Principal\": {\n            \"Service\": \"events.amazonaws.com\"\n          },\n          \"Action\": [\n            \"SNS:Publish\"\n          ],\n          \"Resource\": [\n            \"*\"\n          ]\n        }\n      }"}},{"address":"aws_sns_topic_subscription.sample-cdktf-sns-subscription","mode":"managed","type":"aws_sns_topic_subscription","name":"sample-cdktf-sns-subscription","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"confirmation_timeout_in_minutes":1,"delivery_policy":null,"endpoint_auto_confirms":false,"filter_policy":null,"protocol":"lambda","raw_message_delivery":false}},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","cidr_block":"10.0.128.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Private1 AZ1a sample-cdktf"},"timeouts":null}},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","cidr_block":"10.0.144.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Private2 AZ1c sample-cdktf"},"timeouts":null}},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","cidr_block":"10.0.0.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Public1 AZ1a sample-cdktf"},"timeouts":null}},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","cidr_block":"10.0.16.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Public2 AZ1c sample-cdktf"},"timeouts":null}},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","tags":{"Name":"sample-cdktf production"}}}]}},"resource_changes":[{"address":"aws_alb.sample-cdktf-alb","mode":"managed","type":"aws_alb","name":"sample-cdktf-alb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"access_logs":[],"drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":null,"enable_deletion_protection":false,"enable_http2":true,"idle_timeout":60,"internal":false,"ip_address_type":"ipv4","load_balancer_type":"application","name":"sample-cdktf-alb","name_prefix":null,"tags":null,"timeouts":null},"after_unknown":{"access_logs":[],"arn":true,"arn_suffix":true,"dns_name":true,"id":true,"security_groups":true,"subnet_mapping":true,"subnets":true,"vpc_id":true,"zone_id":true}}},{"address":"aws_alb_listener.sample-cdktf-alb-listener","mode":"managed","type":"aws_alb_listener","name":"sample-cdktf-alb-listener","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[{"content_type":"text/plain","message_body":"OK","status_code":"200"}],"forward":[],"redirect":[],"target_group_arn":null,"type":"fixed-response"}],"port":80,"protocol":"HTTP","timeouts":null},"after_unknown":{"arn":true,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[{}],"forward":[],"order":true,"redirect":[]}],"id":true,"load_balancer_arn":true,"ssl_policy":true}}},{"address":"aws_alb_listener_rule.sample-cdktf-alb-listener-rule","mode":"managed","type":"aws_alb_listener_rule","name":"sample-cdktf-alb-listener-rule","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[],"type":"forward"}],"condition":[{"field":"path-pattern","http_header":[],"http_request_method":[],"query_string":[],"source_ip":[],"values":["*"]}],"priority":100},"after_unknown":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"order":true,"redirect":[],"target_group_arn":true}],"arn":true,"condition":[{"host_header":true,"ht
[2022-11-17T18:21:14.149] [DEBUG] default - tp_header":[],"http_request_method":[],"path_pattern":true,"query_string":[],"source_ip":[],"values":[false]}],"id":true,"listener_arn":true}}},{"address":"aws_alb_target_group.sample-cdktf-alb-target-group","mode":"managed","type":"aws_alb_target_group","name":"sample-cdktf-alb-target-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"deregistration_delay":300,"health_check":[{"enabled":true,"healthy_threshold":3,"interval":30,"path":"/","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"lambda_multi_value_headers_enabled":false,"name":"sample-cdktf-alb-target-group","name_prefix":null,"port":80,"protocol":"HTTP","proxy_protocol_v2":false,"slow_start":0,"tags":null,"target_type":"ip"},"after_unknown":{"arn":true,"arn_suffix":true,"health_check":[{"matcher":true}],"id":true,"load_balancing_algorithm_type":true,"stickiness":true,"vpc_id":true}}},{"address":"aws_cloudwatch_event_rule.sample-cdktf-event-rule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"sample-cdktf-event-rule","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Capture each AWS ECR Update","event_pattern":"{\"detail\":{\"action-type\":[\"PUSH\"],\"result\":[\"SUCCESS\"]},\"detail-type\":[\"ECR Image Action\"],\"source\":[\"aws.ecr\"]}","is_enabled":true,"name":"capture-ecr-update","name_prefix":null,"role_arn":null,"schedule_expression":null,"tags":null},"after_unknown":{"arn":true,"id":true}}},{"address":"aws_cloudwatch_event_target.sample-cdktf-event-target","mode":"managed","type":"aws_cloudwatch_event_target","name":"sample-cdktf-event-target","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"batch_target":[],"ecs_target":[],"input":null,"input_path":null,"input_transformer":[],"kinesis_target":[],"role_arn":null,"rule":"capture-ecr-update","run_command_targets":[],"sqs_target":[],"target_id":"SendToSNS"},"after_unknown":{"arn":true,"batch_target":[],"ecs_target":[],"id":true,"input_transformer":[],"kinesis_target":[],"run_command_targets":[],"sqs_target":[]}}},{"address":"aws_cloudwatch_log_group.sample-cdktf-ecs-task-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-ecs-task-log-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"kms_key_id":null,"name":"/aws/ecs/task-for-cdktf","name_prefix":null,"retention_in_days":0,"tags":null},"after_unknown":{"arn":true,"id":true}}},{"address":"aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-notification-to-slack-log-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"kms_key_id":null,"name":"/aws/lambda/Sample-Lambda-Notification-to-Slack","name_prefix":null,"retention_in_days":0,"tags":null},"after_unknown":{"arn":true,"id":true}}},{"address":"aws_ecr_repository.sample-cdktf-repository","mode":"managed","type":"aws_ecr_repository","name":"sample-cdktf-repository","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"image_scanning_configuration":[],"image_tag_mutability":"MUTABLE","name":"project/sample-ecr","tags":null,"timeouts":null},"after_unknown":{"arn":true,"id":true,"image_scanning_configuration":[],"registry_id":true,"repository_url":true}}},{"address":"aws_ecs_cluster.sample-cdktf-cluster","mode":"managed","type":"aws_ecs_cluster","name":"sample-cdktf-cluster","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"capacity_providers":null,"default_capacity_provider_strategy":[],"name":"sample-cdktf-cluster","tags":null},"after_unknown":{"arn":true,"default_capacity_provider_strategy":[],"id":true,"setting":true}}},{"address":"aws_ecs_service.sample-cdktf-ecs-service","mode":"managed","type":"aws_ecs_service","name":"sample-cdktf-ecs-service","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"capacity_provider_strategy":[],"deployment_controller":[],"deployment_maximum_percent":200,"deployment_minimum_healthy_percent":100,"desired_count":1,"enable_ecs_managed_tags":false,"force_new_deployment":null,"health_check_grace_period_seconds":null,"launch_type":"FARGATE","load_balancer":[{"container_name":"sample-cdktf-container","container_port":9000,"elb_name":""}],"name":"sample-cdktf-ecs-service","network_configuration":[{"assign_public_ip":false}],"ordered_placement_strategy":[],"placement_constraints":[],"platform_version":"LATEST","propagate_tags":null,"scheduling_strategy":"REPLICA","service_registries":[],"tags":null,"timeouts":null},"after_unknown":{"capacity_provider_strategy":[],"cluster":true,"deployment_controller":[],"iam_role":true,"id":true,"load_balancer":[{"target_group_arn":true}],"network_configuration":[{"security_groups":true,"subnets":true}],"ordered_placement_strategy":[],"placement_constraints":[],"placement_strategy":true,"service_registries":[],"task_definition":true}}},{"address":"aws_ecs_task_definition.sample-cdktf-task","mode":"managed","type":"aws_ecs_task_definition","name":"sample-cdktf-task","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cpu":"512","family":"task-for-cdktf","inference_accelerator":[],"ipc_mode":null,"memory":"1024","network_mode":"awsvpc","pid_mode":null,"placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":["FARGATE"],"tags":null,"volume":[]},"after_unknown":{"arn":true,"container_definitions":true,"execution_role_arn":true,"id":true,"inference_accelerator":[],"placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":[false],"revision":true,"task_role_arn":true,"volume":[]}}},{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"associate_with_private_ip":null,"customer_owned_ipv4_pool":null,"tags":null,"timeouts":null,"vpc":true},"after_unknown":{"allocation_id":true,"association_id":true,"customer_owned_ip":true,"domain":true,"id":true,"instance":true,"network_interface":true,"private_dns":true,"private_ip":true,"public_dns":true,"public_ip":true,"public_ipv4_pool":true}}},{"address":"aws_iam_policy.ecs-task-execution-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Policy for updating ECS tasks","name":"ecs-task-execution-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"},"after_unknown":{"arn":true,"id":true}}},{"address":"aws_iam_policy.ecs-task-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Policy for updating ECS tasks","name":"ecs-task-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecs:DescribeServices\",\n              \"ecs:CreateTaskSet\",\n              \"ecs:UpdateServicePrimaryTaskSet\",\n              \"ecs:DeleteTaskSet\",\n              \"elasticloadbalancing:DescribeTargetGroups\",\n              \"elasticloadbalanci
[2022-11-17T18:21:14.149] [DEBUG] default - ng:DescribeListeners\",\n              \"elasticloadbalancing:ModifyListener\",\n              \"elasticloadbalancing:DescribeRules\",\n              \"elasticloadbalancing:ModifyRule\",\n              \"lambda:InvokeFunction\",\n              \"cloudwatch:DescribeAlarms\",\n              \"sns:Publish\",\n              \"s3:GetObject\",\n              \"s3:GetObjectVersion\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"},"after_unknown":{"arn":true,"id":true}}},{"address":"aws_iam_policy.lambda-logging","mode":"managed","type":"aws_iam_policy","name":"lambda-logging","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"IAM policy for logging from a lambda","name":"sample-cdktf-lambda-logging","name_prefix":null,"path":"/"},"after_unknown":{"arn":true,"id":true,"policy":true}}},{"address":"aws_iam_role.ecsTaskExecutionRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\":    \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"sample-cdktf-ecsTaskExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"unique_id":true}}},{"address":"aws_iam_role.ecsTaskRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskRole","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\n        \"Version\": \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n          },\n          \"Effect\": \"Allow\",\n          \"Sid\": \"\"\n          }\n        ]\n      }","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"sample-cdktf-ecsTaskRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"unique_id":true}}},{"address":"aws_iam_role.lambdaExecutionRole","mode":"managed","type":"aws_iam_role","name":"lambdaExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": [\n                \"lambda.amazonaws.com\",\n                \"ecs-tasks.amazonaws.com\"\n              ]\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"sample-cdktf-lambdaExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"unique_id":true}}},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-execution-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"sample-cdktf-ecsTaskExecutionRole"},"after_unknown":{"id":true,"policy_arn":true}}},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"sample-cdktf-ecsTaskRole"},"after_unknown":{"id":true,"policy_arn":true}}},{"address":"aws_iam_role_policy_attachment.attach-lambda-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-lambda-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"sample-cdktf-lambdaExecutionRole"},"after_unknown":{"id":true,"policy_arn":true}}},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"tags":{"Name":"igw-production sample-cdktf"}},"after_unknown":{"arn":true,"id":true,"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"aws_lambda_function.Sample-Lambda-Notification-to-Slack","mode":"managed","type":"aws_lambda_function","name":"Sample-Lambda-Notification-to-Slack","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"dead_letter_config":[],"description":null,"environment":[{"variables":{"SLACK_API_TOKEN":"xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp","SLACK_CHANNEL":"C049CPNKHMJ"}}],"file_system_config":[],"filename":null,"function_name":"Sample-Lambda-Notification-to-Slack","handler":"index.handler","kms_key_arn":null,"layers":null,"memory_size":128,"publish":false,"reserved_concurrent_executions":-1,"runtime":"nodejs12.x","s3_bucket":"sample-cdktf-s3","s3_key":"notification-to-Slack-dist.zip","s3_object_version":null,"tags":null,"timeout":30,"timeouts":null,"vpc_config":[]},"after_unknown":{"arn":true,"dead_letter_config":[],"environment":[{"variables":{}}],"file_system_config":[],"id":true,"invoke_arn":true,"last_modified":true,"qualified_arn":true,"role":true,"source_code_hash":true,"source_code_size":true,"tracing_config":true,"version":true,"vpc_config":[]}}},{"address":"aws_lambda_permission.permission-to-sns","mode":"managed","type":"aws_lambda_permission","name":"permission-to-sns","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"Sample-Lambda-Notification-to-Slack","principal":"sns.amazonaws.com","qualifier":null,"source_account":null,"statement_id":"AllowExecutionFromSNS","statement_id_prefix":null},"after_unknown":{"id":true,"source_arn":true}}},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"tags":{"Name":"sample-cdktf nat-gateway-production"}},"after_unknown":{"allocation_id":true,"id":true,"network_interface_id":true,"private_ip":true,"public_ip":true,"subnet_id":true,"tags":{}}}},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Private rtb"}},"after_unknown":{"id":true,"owner_id":true,"propagating_vgws":true,"route":[{"nat_gateway_id":true}],"tags":{},"vpc_id":true}}},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Public rtb
[2022-11-17T18:21:14.149] [DEBUG] default - "}},"after_unknown":{"id":true,"owner_id":true,"propagating_vgws":true,"route":[{"gateway_id":true}],"tags":{},"vpc_id":true}}},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true}}},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true}}},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true}}},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true}}},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true}}},{"address":"aws_s3_bucket.sample-cdktf-s3","mode":"managed","type":"aws_s3_bucket","name":"sample-cdktf-s3","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"acl":"private","bucket":"sample-cdktf-s3","bucket_prefix":null,"cors_rule":[],"force_destroy":false,"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":null,"region":"ap-northeast-1","replication_configuration":[],"server_side_encryption_configuration":[],"tags":null,"website":[]},"after_unknown":{"acceleration_status":true,"arn":true,"bucket_domain_name":true,"bucket_regional_domain_name":true,"cors_rule":[],"grant":[],"hosted_zone_id":true,"id":true,"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"request_payer":true,"server_side_encryption_configuration":[],"versioning":true,"website":[],"website_domain":true,"website_endpoint":true}}},{"address":"aws_s3_bucket_object.notification-to-Slack-distzip","mode":"managed","type":"aws_s3_bucket_object","name":"notification-to-Slack-distzip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"acl":"private","bucket":"sample-cdktf-s3","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"content_type":"zip","force_destroy":false,"key":"notification-to-Slack-dist.zip","kms_key_id":null,"metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip","tags":null,"website_redirect":null},"after_unknown":{"etag":true,"id":true,"server_side_encryption":true,"storage_class":true,"version_id":true}}},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Managed by Terraform","name":"sample-cdktf","name_prefix":null,"revoke_rules_on_delete":false,"tags":{"Name":"sample-cdktf"},"timeouts":null},"after_unknown":{"arn":true,"egress":true,"id":true,"ingress":true,"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","self":false,"to_port":0,"type":"egress"},"after_unknown":{"cidr_blocks":[false],"id":true,"security_group_id":true,"source_security_group_id":true}}},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":80,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","self":false,"to_port":80,"type":"ingress"},"after_unknown":{"cidr_blocks":[false],"id":true,"security_group_id":true,"source_security_group_id":true}}},{"address":"aws_sns_topic.sample-cdktf-sns","mode":"managed","type":"aws_sns_topic","name":"sample-cdktf-sns","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"delivery_policy":null,"display_name":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"kms_master_key_id":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"sample-cdktf-sns","name_prefix":null,"sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":null},"after_unknown":{"arn":true,"id":true,"policy":true}}},{"address":"aws_sns_topic_policy.sample-cdktf-sns-policy","mode":"managed","type":"aws_sns_topic_policy","name":"sample-cdktf-sns-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": {\n          \"Effect\": \"Allow\",\n          \"Sid\":    \"\",\n          \"Principal\": {\n            \"Service\": \"events.amazonaws.com\"\n          },\n          \"Action\": [\n            \"SNS:Publish\"\n          ],\n          \"Resource\": [\n            \"*\"\n          ]\n        }\n      }"},"after_unknown":{"arn":true,"id":true}}},{"address":"aws_sns_topic_subscription.sample-cdktf-sns-subscription","mode":"managed","type":"aws_sns_topic_subscription","name":"sample-cdktf-sns-subscription","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"confirmation_timeout_in_minutes":1,"delivery_policy":null,"endpoint_auto_confirms":false,"filter_policy":null,"protocol":"lambda","raw_message_delivery":false},"after_unknown":{"arn":true,"endpoint":true,"id":true,"topic_arn":true}}},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","cidr_block":"10.0.128.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Private1 AZ1a sample-cdktf"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"aws_subnet.sample-cdktf-private-
[2022-11-17T18:21:14.149] [DEBUG] default - subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","cidr_block":"10.0.144.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Private2 AZ1c sample-cdktf"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","cidr_block":"10.0.0.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Public1 AZ1a sample-cdktf"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","cidr_block":"10.0.16.0/20","map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"Public2 AZ1c sample-cdktf"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"tags":{},"vpc_id":true}}},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","tags":{"Name":"sample-cdktf production"}},"after_unknown":{"arn":true,"default_network_acl_id":true,"default_route_table_id":true,"default_security_group_id":true,"dhcp_options_id":true,"enable_classiclink":true,"enable_classiclink_dns_support":true,"id":true,"ipv6_association_id":true,"ipv6_cidr_block":true,"main_route_table_id":true,"owner_id":true,"tags":{}}}}],"configuration":{"provider_config":{"aws":{"name":"aws","version_constraint":"~\u003e 2.0","expressions":{"region":{"constant_value":"ap-northeast-1"}}}},"root_module":{"resources":[{"address":"aws_alb.sample-cdktf-alb","mode":"managed","type":"aws_alb","name":"sample-cdktf-alb","provider_config_key":"aws","expressions":{"enable_deletion_protection":{"constant_value":false},"enable_http2":{"constant_value":true},"internal":{"constant_value":false},"ip_address_type":{"constant_value":"ipv4"},"load_balancer_type":{"constant_value":"application"},"name":{"constant_value":"sample-cdktf-alb"},"security_groups":{"constant_value":["${aws_security_group.sample-cdktf-security-group.id}","${aws_vpc.sample-cdktf-vpc.default_security_group_id}"],"references":["aws_security_group.sample-cdktf-security-group","aws_vpc.sample-cdktf-vpc"]},"subnets":{"constant_value":["${aws_subnet.sample-cdktf-public-subnet1.id}","${aws_subnet.sample-cdktf-public-subnet2.id}"],"references":["aws_subnet.sample-cdktf-public-subnet1","aws_subnet.sample-cdktf-public-subnet2"]}},"schema_version":0},{"address":"aws_alb_listener.sample-cdktf-alb-listener","mode":"managed","type":"aws_alb_listener","name":"sample-cdktf-alb-listener","provider_config_key":"aws","expressions":{"default_action":[{"fixed_response":[{"content_type":{"constant_value":"text/plain"},"message_body":{"constant_value":"OK"},"status_code":{"constant_value":"200"}}],"type":{"constant_value":"fixed-response"}}],"load_balancer_arn":{"constant_value":"${aws_alb.sample-cdktf-alb.arn}","references":["aws_alb.sample-cdktf-alb"]},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"}},"schema_version":0},{"address":"aws_alb_listener_rule.sample-cdktf-alb-listener-rule","mode":"managed","type":"aws_alb_listener_rule","name":"sample-cdktf-alb-listener-rule","provider_config_key":"aws","expressions":{"action":[{"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]},"type":{"constant_value":"forward"}}],"condition":[{"field":{"constant_value":"path-pattern"},"values":{"constant_value":["*"]}}],"listener_arn":{"constant_value":"${aws_alb_listener.sample-cdktf-alb-listener.arn}","references":["aws_alb_listener.sample-cdktf-alb-listener"]},"priority":{"constant_value":100}},"schema_version":0},{"address":"aws_alb_target_group.sample-cdktf-alb-target-group","mode":"managed","type":"aws_alb_target_group","name":"sample-cdktf-alb-target-group","provider_config_key":"aws","expressions":{"health_check":[{"interval":{"constant_value":30},"path":{"constant_value":"/"},"port":{"constant_value":"traffic-port"},"protocol":{"constant_value":"HTTP"},"timeout":{"constant_value":5},"unhealthy_threshold":{"constant_value":2}}],"name":{"constant_value":"sample-cdktf-alb-target-group"},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"},"target_type":{"constant_value":"ip"},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0,"depends_on":["aws_alb.sample-cdktf-alb"]},{"address":"aws_cloudwatch_event_rule.sample-cdktf-event-rule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"sample-cdktf-event-rule","provider_config_key":"aws","expressions":{"description":{"constant_value":"Capture each AWS ECR Update"},"event_pattern":{"constant_value":"{\n        \"source\": [\"aws.ecr\"],\n        \"detail-type\": [\"ECR Image Action\"],\n        \"detail\": {\n          \"action-type\": [\"PUSH\"],\n          \"result\": [\"SUCCESS\"]\n        }\n      }"},"name":{"constant_value":"capture-ecr-update"}},"schema_version":0},{"address":"aws_cloudwatch_event_target.sample-cdktf-event-target","mode":"managed","type":"aws_cloudwatch_event_target","name":"sample-cdktf-event-target","provider_config_key":"aws","expressions":{"arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"rule":{"constant_value":"${aws_cloudwatch_event_rule.sample-cdktf-event-rule.name}","references":["aws_cloudwatch_event_rule.sample-cdktf-event-rule"]},"target_id":{"constant_value":"SendToSNS"}},"schema_version":0},{"address":"aws_cloudwatch_log_group.sample-cdktf-ecs-task-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-ecs-task-log-group","provider_config_key":"aws","expressions":{"name":{"constant_value":"/aws/ecs/${aws_ecs_task_definition.sample-cdktf-task.family}","references":["aws_ecs_task_definition.sample-cdktf-task"]}},"schema_version":0},{"address":"aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-notification-to-slack-log-group","provider_config_key":"aws","expressions":{"name":{"constant_value":"/aws/lambda/${aws_lambda_function.Sample-Lambda-Notification-to-Slack.function_name}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]}},"schema_version":0},{"address":"aws_ecr_repository.sample-cdktf-repository","mode":"managed","type":"aws_ecr_repository","name":"sample-cdktf-repository","provider_config_key":"aws","expressions":{"name":{"constant_value":"project/sample-ecr"}},"schema_version":0},{"address":"aws_ecs_cluster.sample-cdktf-cluster","mode":"managed","type":"aws_ecs_cluster","name":"sample-cdktf-cluster","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf-cluster"}},"schema_version":0},{"address":"aws_ecs_service.sample-cdktf-ecs-service","mode":"managed","type":"aws_ecs_service","name":"sample-cdktf-ecs-service"
[2022-11-17T18:21:14.149] [DEBUG] default - ,"provider_config_key":"aws","expressions":{"cluster":{"constant_value":"${aws_ecs_cluster.sample-cdktf-cluster.id}","references":["aws_ecs_cluster.sample-cdktf-cluster"]},"deployment_maximum_percent":{"constant_value":200},"deployment_minimum_healthy_percent":{"constant_value":100},"desired_count":{"constant_value":1},"launch_type":{"constant_value":"FARGATE"},"load_balancer":[{"container_name":{"constant_value":"sample-cdktf-container"},"container_port":{"constant_value":9000},"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]}}],"name":{"constant_value":"sample-cdktf-ecs-service"},"network_configuration":[{"security_groups":{"constant_value":["${aws_vpc.sample-cdktf-vpc.default_security_group_id}"],"references":["aws_vpc.sample-cdktf-vpc"]},"subnets":{"constant_value":["${aws_subnet.sample-cdktf-private-subnet1.id}","${aws_subnet.sample-cdktf-private-subnet2.id}"],"references":["aws_subnet.sample-cdktf-private-subnet1","aws_subnet.sample-cdktf-private-subnet2"]}}],"platform_version":{"constant_value":"LATEST"},"task_definition":{"constant_value":"${aws_ecs_task_definition.sample-cdktf-task.id}","references":["aws_ecs_task_definition.sample-cdktf-task"]}},"schema_version":0},{"address":"aws_ecs_task_definition.sample-cdktf-task","mode":"managed","type":"aws_ecs_task_definition","name":"sample-cdktf-task","provider_config_key":"aws","expressions":{"container_definitions":{"constant_value":"[\n      {\n        \"essential\":    true,\n        \"name\":         \"sample-cdktf-container\",\n        \"image\":        \"${aws_ecr_repository.sample-cdktf-repository.repository_url}:latest\",\n        \"portMappings\": [\n          {\n            \"hostPort\":      9000,\n            \"protocol\":      \"tcp\",\n            \"containerPort\": 9000\n          }\n        ],\n        \"logConfiguration\": {\n          \"logDriver\": \"awslogs\",\n          \"options\": {\n            \"awslogs-group\":         \"/aws/ecs/task-for-cdktf\",\n            \"awslogs-stream-prefix\": \"ecs\",\n            \"awslogs-region\":        \"ap-northeast-1\"\n          }\n        }\n      }\n    ]","references":["aws_ecr_repository.sample-cdktf-repository"]},"cpu":{"constant_value":"512"},"execution_role_arn":{"constant_value":"${aws_iam_role.ecsTaskExecutionRole.arn}","references":["aws_iam_role.ecsTaskExecutionRole"]},"family":{"constant_value":"task-for-cdktf"},"memory":{"constant_value":"1024"},"network_mode":{"constant_value":"awsvpc"},"requires_compatibilities":{"constant_value":["FARGATE"]},"task_role_arn":{"constant_value":"${aws_iam_role.ecsTaskRole.arn}","references":["aws_iam_role.ecsTaskRole"]}},"schema_version":1},{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_config_key":"aws","expressions":{"vpc":{"constant_value":true}},"schema_version":0},{"address":"aws_iam_policy.ecs-task-execution-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-execution-policy","provider_config_key":"aws","expressions":{"description":{"constant_value":"Policy for updating ECS tasks"},"name":{"constant_value":"ecs-task-execution-policy"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_policy.ecs-task-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-policy","provider_config_key":"aws","expressions":{"description":{"constant_value":"Policy for updating ECS tasks"},"name":{"constant_value":"ecs-task-policy"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecs:DescribeServices\",\n              \"ecs:CreateTaskSet\",\n              \"ecs:UpdateServicePrimaryTaskSet\",\n              \"ecs:DeleteTaskSet\",\n              \"elasticloadbalancing:DescribeTargetGroups\",\n              \"elasticloadbalancing:DescribeListeners\",\n              \"elasticloadbalancing:ModifyListener\",\n              \"elasticloadbalancing:DescribeRules\",\n              \"elasticloadbalancing:ModifyRule\",\n              \"lambda:InvokeFunction\",\n              \"cloudwatch:DescribeAlarms\",\n              \"sns:Publish\",\n              \"s3:GetObject\",\n              \"s3:GetObjectVersion\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_policy.lambda-logging","mode":"managed","type":"aws_iam_policy","name":"lambda-logging","provider_config_key":"aws","expressions":{"description":{"constant_value":"IAM policy for logging from a lambda"},"name":{"constant_value":"sample-cdktf-lambda-logging"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"iam:PassRole\",\n              \"ecs:RegisterTaskDefinition\",\n              \"ecs:UpdateService\",\n              \"logs:CreateLogGroup\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"arn:aws:logs:*:*:*\",\n              \"arn:aws:ecs:*:*:*\",\n              \"${aws_iam_role.ecsTaskExecutionRole.arn}\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }","references":["aws_iam_role.ecsTaskExecutionRole"]}},"schema_version":0,"depends_on":["aws_iam_role.ecsTaskExecutionRole"]},{"address":"aws_iam_role.ecsTaskExecutionRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskExecutionRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\":    \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-ecsTaskExecutionRole"}},"schema_version":0},{"address":"aws_iam_role.ecsTaskRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\": \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n          },\n          \"Effect\": \"Allow\",\n          \"Sid\": \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-ecsTaskRole"}},"schema_version":0},{"address":"aws_iam_role.lambdaExecutionRole","mode":"managed","type":"aws_iam_role","name":"lambdaExecutionRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": [\n                \"lambda.amazonaws.com\",\n                \"ecs-tasks.amazonaws.com\"\n              ]\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-lambdaExecutionRole"}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-execution-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-execution-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constan
[2022-11-17T18:21:14.149] [DEBUG] default - t_value":"${aws_iam_policy.ecs-task-execution-policy.arn}","references":["aws_iam_policy.ecs-task-execution-policy"]},"role":{"constant_value":"${aws_iam_role.ecsTaskExecutionRole.name}","references":["aws_iam_role.ecsTaskExecutionRole"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.ecs-task-policy.arn}","references":["aws_iam_policy.ecs-task-policy"]},"role":{"constant_value":"${aws_iam_role.ecsTaskRole.name}","references":["aws_iam_role.ecsTaskRole"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-lambda-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-lambda-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.lambda-logging.arn}","references":["aws_iam_policy.lambda-logging"]},"role":{"constant_value":"${aws_iam_role.lambdaExecutionRole.name}","references":["aws_iam_role.lambdaExecutionRole"]}},"schema_version":0},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_config_key":"aws","expressions":{"tags":{"constant_value":{"Name":"igw-production sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_lambda_function.Sample-Lambda-Notification-to-Slack","mode":"managed","type":"aws_lambda_function","name":"Sample-Lambda-Notification-to-Slack","provider_config_key":"aws","expressions":{"environment":[{"variables":{"constant_value":{"SLACK_API_TOKEN":"xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp","SLACK_CHANNEL":"C049CPNKHMJ"}}}],"function_name":{"constant_value":"Sample-Lambda-Notification-to-Slack"},"handler":{"constant_value":"index.handler"},"role":{"constant_value":"${aws_iam_role.lambdaExecutionRole.arn}","references":["aws_iam_role.lambdaExecutionRole"]},"runtime":{"constant_value":"nodejs12.x"},"s3_bucket":{"constant_value":"${aws_s3_bucket.sample-cdktf-s3.bucket}","references":["aws_s3_bucket.sample-cdktf-s3"]},"s3_key":{"constant_value":"${aws_s3_bucket_object.notification-to-Slack-distzip.key}","references":["aws_s3_bucket_object.notification-to-Slack-distzip"]},"timeout":{"constant_value":30}},"schema_version":0},{"address":"aws_lambda_permission.permission-to-sns","mode":"managed","type":"aws_lambda_permission","name":"permission-to-sns","provider_config_key":"aws","expressions":{"action":{"constant_value":"lambda:InvokeFunction"},"function_name":{"constant_value":"${aws_lambda_function.Sample-Lambda-Notification-to-Slack.function_name}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]},"principal":{"constant_value":"sns.amazonaws.com"},"source_arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"statement_id":{"constant_value":"AllowExecutionFromSNS"}},"schema_version":0},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_config_key":"aws","expressions":{"allocation_id":{"constant_value":"${aws_eip.sample-cdktf-eip.id}","references":["aws_eip.sample-cdktf-eip"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]},"tags":{"constant_value":{"Name":"sample-cdktf nat-gateway-production"}}},"schema_version":0},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_config_key":"aws","expressions":{"route":{"constant_value":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"${aws_nat_gateway.sample-cdktf-nat-gateway.id}","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"references":["aws_nat_gateway.sample-cdktf-nat-gateway"]},"tags":{"constant_value":{"Name":"sample-cdktf Private rtb"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_config_key":"aws","expressions":{"route":{"constant_value":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"${aws_internet_gateway.sample-cdktf-igw-production.id}","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"references":["aws_internet_gateway.sample-cdktf-igw-production"]},"tags":{"constant_value":{"Name":"sample-cdktf Public rtb"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-private-rtb.id}","references":["aws_route_table.sample-cdktf-private-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-private-subnet1.id}","references":["aws_subnet.sample-cdktf-private-subnet1"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-private-rtb.id}","references":["aws_route_table.sample-cdktf-private-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-private-subnet2.id}","references":["aws_subnet.sample-cdktf-private-subnet2"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet2.id}","references":["aws_subnet.sample-cdktf-public-subnet2"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]}},"schema_version":0},{"address":"aws_s3_bucket.sample-cdktf-s3","mode":"managed","type":"aws_s3_bucket","name":"sample-cdktf-s3","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"sample-cdktf-s3"},"region":{"constant_value":"ap-northeast-1"}},"schema_version":0},{"address":"aws_s3_bucket_object.notification-to-Slack-distzip","mode":"managed","type":"aws_s3_bucket_object","name":"notification-to-Slack-distzip","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"${aws_s3_bucket.sample-cdktf-s3.bucket}","refere
[2022-11-17T18:21:14.149] [DEBUG] default - nces":["aws_s3_bucket.sample-cdktf-s3"]},"content_type":{"constant_value":"zip"},"key":{"constant_value":"notification-to-Slack-dist.zip"},"source":{"constant_value":"/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip"}},"schema_version":0},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf"},"tags":{"constant_value":{"Name":"sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":0},"protocol":{"constant_value":"all"},"security_group_id":{"constant_value":"${aws_security_group.sample-cdktf-security-group.id}","references":["aws_security_group.sample-cdktf-security-group"]},"to_port":{"constant_value":0},"type":{"constant_value":"egress"}},"schema_version":2},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":80},"protocol":{"constant_value":"tcp"},"security_group_id":{"constant_value":"${aws_security_group.sample-cdktf-security-group.id}","references":["aws_security_group.sample-cdktf-security-group"]},"to_port":{"constant_value":80},"type":{"constant_value":"ingress"}},"schema_version":2},{"address":"aws_sns_topic.sample-cdktf-sns","mode":"managed","type":"aws_sns_topic","name":"sample-cdktf-sns","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf-sns"}},"schema_version":0},{"address":"aws_sns_topic_policy.sample-cdktf-sns-policy","mode":"managed","type":"aws_sns_topic_policy","name":"sample-cdktf-sns-policy","provider_config_key":"aws","expressions":{"arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": {\n          \"Effect\": \"Allow\",\n          \"Sid\":    \"\",\n          \"Principal\": {\n            \"Service\": \"events.amazonaws.com\"\n          },\n          \"Action\": [\n            \"SNS:Publish\"\n          ],\n          \"Resource\": [\n            \"*\"\n          ]\n        }\n      }"}},"schema_version":0},{"address":"aws_sns_topic_subscription.sample-cdktf-sns-subscription","mode":"managed","type":"aws_sns_topic_subscription","name":"sample-cdktf-sns-subscription","provider_config_key":"aws","expressions":{"endpoint":{"constant_value":"${aws_lambda_function.Sample-Lambda-Notification-to-Slack.arn}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]},"protocol":{"constant_value":"lambda"},"topic_arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]}},"schema_version":0},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1a"},"cidr_block":{"constant_value":"10.0.128.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Private1 AZ1a sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1c"},"cidr_block":{"constant_value":"10.0.144.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Private2 AZ1c sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1a"},"cidr_block":{"constant_value":"10.0.0.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Public1 AZ1a sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1c"},"cidr_block":{"constant_value":"10.0.16.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Public2 AZ1c sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_config_key":"aws","expressions":{"cidr_block":{"constant_value":"10.0.0.0/16"},"enable_dns_hostnames":{"constant_value":true},"tags":{"constant_value":{"Name":"sample-cdktf production"}}},"schema_version":1}]}}}

[2022-11-17T18:21:57.215] [DEBUG] default - [0m[1maws_ecr_repository.sample-cdktf-repository: Creating...[0m[0m
[0m[1maws_iam_role.ecsTaskRole: Creating...[0m[0m
[0m[1maws_cloudwatch_event_rule.sample-cdktf-event-rule: Creating...[0m[0m
[0m[1maws_ecs_cluster.sample-cdktf-cluster: Creating...[0m[0m
[0m[1maws_s3_bucket.sample-cdktf-s3: Creating...[0m[0m
[0m[1maws_iam_role.lambdaExecutionRole: Creating...[0m[0m
[0m[1maws_iam_policy.ecs-task-execution-policy: Creating...[0m[0m
[0m[1maws_iam_role.ecsTaskExecutionRole: Creating...[0m[0m
[0m[1maws_vpc.sample-cdktf-vpc: Creating...[0m[0m
[0m[1maws_eip.sample-cdktf-eip: Creating...[0m[0m

[2022-11-17T18:21:57.503] [DEBUG] default - [0m[1maws_ecr_repository.sample-cdktf-repository: Creation complete after 0s [id=project/sample-ecr][0m[0m

[2022-11-17T18:21:57.699] [DEBUG] default - [0m[1maws_sns_topic.sample-cdktf-sns: Creating...[0m[0m
[0m[1maws_cloudwatch_event_rule.sample-cdktf-event-rule: Creation complete after 1s [id=capture-ecr-update][0m[0m
[0m[1maws_iam_policy.ecs-task-policy: Creating...[0m[0m

[2022-11-17T18:21:57.833] [DEBUG] default - [0m[1maws_eip.sample-cdktf-eip: Creation complete after 1s [id=eipalloc-002ea4c7af48623b4][0m[0m

[2022-11-17T18:21:58.079] [DEBUG] default - [0m[1maws_sns_topic.sample-cdktf-sns: Creation complete after 0s [id=arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns][0m[0m
[0m[1maws_sns_topic_policy.sample-cdktf-sns-policy: Creating...[0m[0m
[0m[1maws_cloudwatch_event_target.sample-cdktf-event-target: Creating...[0m[0m

[2022-11-17T18:21:58.265] [DEBUG] default - [0m[1maws_cloudwatch_event_target.sample-cdktf-event-target: Creation complete after 0s [id=capture-ecr-update-SendToSNS][0m[0m
[0m[1maws_sns_topic_policy.sample-cdktf-sns-policy: Creation complete after 0s [id=arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns][0m[0m

[2022-11-17T18:21:58.787] [DEBUG] default - [0m[1maws_iam_role.ecsTaskExecutionRole: Creation complete after 2s [id=sample-cdktf-ecsTaskExecutionRole][0m[0m
[0m[1maws_iam_role.lambdaExecutionRole: Creation complete after 2s [id=sample-cdktf-lambdaExecutionRole][0m[0m
[0m[1maws_iam_role.ecsTaskRole: Creation complete after 2s [id=sample-cdktf-ecsTaskRole][0m[0m

[2022-11-17T18:21:58.854] [DEBUG] default - [0m[1maws_iam_policy.lambda-logging: Creating...[0m[0m
[0m[1maws_ecs_task_definition.sample-cdktf-task: Creating...[0m[0m

[2022-11-17T18:21:58.990] [DEBUG] default - [0m[1maws_ecs_task_definition.sample-cdktf-task: Creation complete after 0s [id=task-for-cdktf][0m[0m

[2022-11-17T18:21:59.054] [DEBUG] default - [0m[1maws_cloudwatch_log_group.sample-cdktf-ecs-task-log-group: Creating...[0m[0m

[2022-11-17T18:21:59.256] [DEBUG] default - [0m[1maws_cloudwatch_log_group.sample-cdktf-ecs-task-log-group: Creation complete after 0s [id=/aws/ecs/task-for-cdktf][0m[0m

[2022-11-17T18:21:59.468] [DEBUG] default - [0m[1maws_iam_policy.ecs-task-execution-policy: Creation complete after 2s [id=arn:aws:iam::574185952087:policy/ecs-task-execution-policy][0m[0m

[2022-11-17T18:21:59.491] [DEBUG] default - [0m[1maws_iam_role_policy_attachment.attach-ecs-task-execution-policy: Creating...[0m[0m

[2022-11-17T18:21:59.514] [DEBUG] default - [0m[1maws_s3_bucket.sample-cdktf-s3: Creation complete after 3s [id=sample-cdktf-s3][0m[0m

[2022-11-17T18:21:59.581] [DEBUG] default - [0m[1maws_s3_bucket_object.notification-to-Slack-distzip: Creating...[0m[0m

[2022-11-17T18:21:59.604] [DEBUG] default - [0m[1maws_vpc.sample-cdktf-vpc: Creation complete after 3s [id=vpc-0ff751b859f0ed54c][0m[0m

[2022-11-17T18:21:59.627] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Creating...[0m[0m
[0m[1maws_subnet.sample-cdktf-private-subnet2: Creating...[0m[0m
[0m[1maws_subnet.sample-cdktf-public-subnet1: Creating...[0m[0m
[0m[1maws_subnet.sample-cdktf-private-subnet1: Creating...[0m[0m
[0m[1maws_subnet.sample-cdktf-public-subnet2: Creating...[0m[0m

[2022-11-17T18:21:59.874] [DEBUG] default - [0m[1maws_iam_policy.ecs-task-policy: Creation complete after 2s [id=arn:aws:iam::574185952087:policy/ecs-task-policy][0m[0m

[2022-11-17T18:21:59.945] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Creating...[0m[0m

[2022-11-17T18:22:00.834] [DEBUG] default - [0m[1maws_s3_bucket_object.notification-to-Slack-distzip: Creation complete after 1s [id=notification-to-Slack-dist.zip][0m[0m

[2022-11-17T18:22:00.858] [DEBUG] default - [0m[1maws_iam_role_policy_attachment.attach-ecs-task-policy: Creating...[0m[0m

[2022-11-17T18:22:01.060] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Creation complete after 1s [id=igw-0059619e5b2abdb1d][0m[0m

[2022-11-17T18:22:01.110] [DEBUG] default - [0m[1maws_lambda_function.Sample-Lambda-Notification-to-Slack: Creating...[0m[0m

[2022-11-17T18:22:01.212] [DEBUG] default - [0m[1maws_iam_role_policy_attachment.attach-ecs-task-execution-policy: Creation complete after 2s [id=sample-cdktf-ecsTaskExecutionRole-20221117092200405100000001][0m[0m

[2022-11-17T18:22:01.288] [DEBUG] default - [0m[1maws_route_table.sample-cdktf-public-rtb: Creating...[0m[0m
[0m[1maws_iam_policy.lambda-logging: Creation complete after 2s [id=arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging][0m[0m
[0m[1maws_iam_role_policy_attachment.attach-lambda-policy: Creating...[0m[0m

[2022-11-17T18:22:01.372] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-private-subnet1: Creation complete after 1s [id=subnet-02a48e46704593c8c][0m[0m
[0m[1maws_subnet.sample-cdktf-private-subnet2: Creation complete after 1s [id=subnet-024f10b18c99de104][0m[0m
[0m[1maws_subnet.sample-cdktf-public-subnet2: Creation complete after 1s [id=subnet-07de357bedb7ac869][0m[0m
[0m[1maws_subnet.sample-cdktf-public-subnet1: Creation complete after 1s [id=subnet-0946ff06d100ac494][0m[0m

[2022-11-17T18:22:01.398] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Creating...[0m[0m

[2022-11-17T18:22:02.181] [DEBUG] default - [0m[1maws_route_table.sample-cdktf-public-rtb: Creation complete after 1s [id=rtb-074349f2eb388142c][0m[0m
[0m[1maws_route_table_association.sample-cdktf-public-rtb-association2: Creating...[0m[0m
[0m[1maws_route_table_association.sample-cdktf-public-rtb-association1: Creating...[0m[0m
[0m[1maws_route_table_association.sample-cdktf-public-rtb1: Creating...[0m[0m

[2022-11-17T18:22:02.346] [DEBUG] default - [0m[1maws_iam_role_policy_attachment.attach-ecs-task-policy: Creation complete after 1s [id=sample-cdktf-ecsTaskRole-20221117092201624900000002][0m[0m

[2022-11-17T18:22:02.370] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Creation complete after 2s [id=sg-025820cfad8e16182][0m[0m

[2022-11-17T18:22:02.392] [DEBUG] default - [0m[1maws_security_group_rule.sample-cdktf-security-ingress: Creating...[0m[0m
[0m[1maws_security_group_rule.sample-cdktf-security-egress: Creating...[0m[0m
[0m[1maws_alb.sample-cdktf-alb: Creating...[0m[0m

[2022-11-17T18:22:02.442] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-public-rtb-association2: Creation complete after 0s [id=rtbassoc-01319113a84b464a4][0m[0m

[2022-11-17T18:22:02.524] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-public-rtb1: Creation complete after 1s [id=rtbassoc-0bc8510f59dbe6d02][0m[0m

[2022-11-17T18:22:02.547] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-public-rtb-association1: Creation complete after 1s [id=rtbassoc-0bc8510f59dbe6d02][0m[0m

[2022-11-17T18:22:02.847] [DEBUG] default - [0m[1maws_iam_role_policy_attachment.attach-lambda-policy: Creation complete after 2s [id=sample-cdktf-lambdaExecutionRole-20221117092202035100000003][0m[0m

[2022-11-17T18:22:03.672] [DEBUG] default - [0m[1maws_security_group_rule.sample-cdktf-security-ingress: Creation complete after 2s [id=sgrule-3107037265][0m[0m

[2022-11-17T18:22:04.716] [DEBUG] default - [0m[1maws_security_group_rule.sample-cdktf-security-egress: Creation complete after 3s [id=sgrule-3501681800][0m[0m

[2022-11-17T18:22:07.212] [DEBUG] default - [0m[1maws_ecs_cluster.sample-cdktf-cluster: Still creating... [10s elapsed][0m[0m

[2022-11-17T18:22:07.606] [DEBUG] default - [0m[1maws_ecs_cluster.sample-cdktf-cluster: Creation complete after 11s [id=arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster][0m[0m

[2022-11-17T18:22:11.086] [DEBUG] default - [0m[1maws_lambda_function.Sample-Lambda-Notification-to-Slack: Still creating... [10s elapsed][0m[0m

[2022-11-17T18:22:11.400] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [10s elapsed][0m[0m

[2022-11-17T18:22:12.393] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [10s elapsed][0m[0m

[2022-11-17T18:22:21.087] [DEBUG] default - [0m[1maws_lambda_function.Sample-Lambda-Notification-to-Slack: Still creating... [20s elapsed][0m[0m

[2022-11-17T18:22:21.402] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [20s elapsed][0m[0m

[2022-11-17T18:22:22.393] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [20s elapsed][0m[0m

[2022-11-17T18:22:24.782] [DEBUG] default - [0m[1maws_lambda_function.Sample-Lambda-Notification-to-Slack: Creation complete after 24s [id=Sample-Lambda-Notification-to-Slack][0m[0m

[2022-11-17T18:22:24.807] [DEBUG] default - [0m[1maws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group: Creating...[0m[0m
[0m[1maws_lambda_permission.permission-to-sns: Creating...[0m[0m
[0m[1maws_sns_topic_subscription.sample-cdktf-sns-subscription: Creating...[0m[0m

[2022-11-17T18:22:25.023] [DEBUG] default - [0m[1maws_lambda_permission.permission-to-sns: Creation complete after 0s [id=AllowExecutionFromSNS][0m[0m

[2022-11-17T18:22:25.143] [DEBUG] default - [0m[1maws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group: Creation complete after 0s [id=/aws/lambda/Sample-Lambda-Notification-to-Slack][0m[0m

[2022-11-17T18:22:25.309] [DEBUG] default - [0m[1maws_sns_topic_subscription.sample-cdktf-sns-subscription: Creation complete after 0s [id=arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:c97d1362-74f4-44f7-903f-95a294151b96][0m[0m

[2022-11-17T18:22:31.414] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [30s elapsed][0m[0m

[2022-11-17T18:22:32.395] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [30s elapsed][0m[0m

[2022-11-17T18:22:41.402] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [40s elapsed][0m[0m

[2022-11-17T18:22:42.406] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [40s elapsed][0m[0m

[2022-11-17T18:22:51.403] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [50s elapsed][0m[0m

[2022-11-17T18:22:52.396] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [50s elapsed][0m[0m

[2022-11-17T18:23:01.417] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [1m0s elapsed][0m[0m

[2022-11-17T18:23:02.397] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [1m0s elapsed][0m[0m

[2022-11-17T18:23:11.409] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [1m10s elapsed][0m[0m

[2022-11-17T18:23:12.398] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [1m10s elapsed][0m[0m

[2022-11-17T18:23:21.429] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [1m20s elapsed][0m[0m

[2022-11-17T18:23:22.399] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [1m20s elapsed][0m[0m

[2022-11-17T18:23:31.419] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still creating... [1m30s elapsed][0m[0m

[2022-11-17T18:23:32.400] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [1m30s elapsed][0m[0m

[2022-11-17T18:23:36.656] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Creation complete after 1m36s [id=nat-00ceea80d7383cf8a][0m[0m

[2022-11-17T18:23:36.681] [DEBUG] default - [0m[1maws_route_table.sample-cdktf-private-rtb: Creating...[0m[0m

[2022-11-17T18:23:37.865] [DEBUG] default - [0m[1maws_route_table.sample-cdktf-private-rtb: Creation complete after 1s [id=rtb-052f170427c67195f][0m[0m

[2022-11-17T18:23:37.888] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-private-rtb-association2: Creating...[0m[0m
[0m[1maws_route_table_association.sample-cdktf-private-rtb-association1: Creating...[0m[0m

[2022-11-17T18:23:38.133] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-private-rtb-association2: Creation complete after 0s [id=rtbassoc-0a199719098de5e67][0m[0m

[2022-11-17T18:23:38.157] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-private-rtb-association1: Creation complete after 0s [id=rtbassoc-067a712727a8b752a][0m[0m

[2022-11-17T18:23:42.401] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [1m40s elapsed][0m[0m

[2022-11-17T18:23:52.402] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [1m50s elapsed][0m[0m

[2022-11-17T18:24:02.412] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [2m0s elapsed][0m[0m

[2022-11-17T18:24:12.404] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [2m10s elapsed][0m[0m

[2022-11-17T18:24:22.404] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [2m20s elapsed][0m[0m

[2022-11-17T18:24:32.405] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [2m30s elapsed][0m[0m

[2022-11-17T18:24:42.406] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [2m40s elapsed][0m[0m

[2022-11-17T18:24:52.413] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [2m50s elapsed][0m[0m

[2022-11-17T18:25:02.408] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [3m0s elapsed][0m[0m

[2022-11-17T18:25:12.409] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Still creating... [3m10s elapsed][0m[0m

[2022-11-17T18:25:17.136] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Creation complete after 3m15s [id=arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:loadbalancer/app/sample-cdktf-alb/8e7bf5321d2d6d66][0m[0m

[2022-11-17T18:25:17.159] [DEBUG] default - [0m[1maws_alb_listener.sample-cdktf-alb-listener: Creating...[0m[0m
[0m[1maws_alb_target_group.sample-cdktf-alb-target-group: Creating...[0m[0m

[2022-11-17T18:25:17.544] [DEBUG] default - [0m[1maws_alb_listener.sample-cdktf-alb-listener: Creation complete after 1s [id=arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener/app/sample-cdktf-alb/8e7bf5321d2d6d66/b27077b11d925401][0m[0m

[2022-11-17T18:25:18.258] [DEBUG] default - [0m[1maws_alb_target_group.sample-cdktf-alb-target-group: Creation complete after 1s [id=arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/4d2039743d2c1779][0m[0m

[2022-11-17T18:25:18.282] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Creating...[0m[0m
[0m[1maws_alb_listener_rule.sample-cdktf-alb-listener-rule: Creating...[0m[0m

[2022-11-17T18:25:18.625] [DEBUG] default - [0m[1maws_alb_listener_rule.sample-cdktf-alb-listener-rule: Creation complete after 1s [id=arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener-rule/app/sample-cdktf-alb/8e7bf5321d2d6d66/b27077b11d925401/4e6b3937e2325782][0m[0m

[2022-11-17T18:25:19.166] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Creation complete after 1s [id=arn:aws:ecs:ap-northeast-1:574185952087:service/sample-cdktf-cluster/sample-cdktf-ecs-service][0m[0m

[2022-11-17T18:25:19.214] [DEBUG] default - [0m[1m[32m

[2022-11-17T18:25:19.264] [DEBUG] default - Apply complete! Resources: 46 added, 0 changed, 0 destroyed.[0m
[0m
The state of your infrastructure has been saved to the path
below. This state is required to modify and destroy your
infrastructure, so keep it safe. To inspect the complete state
use the `terraform show` command.

State path: terraform.tfstate[0m

[2022-11-17T18:25:19.960] [DEBUG] default - {}

[2022-11-17T18:53:48.131] [DEBUG] default - Terraform v0.14.8


[2022-11-17T18:53:48.152] [DEBUG] default - Your version of Terraform is out of date! The latest version
is 1.3.4. You can update by downloading from https://www.terraform.io/downloads.html

[2022-11-17T18:54:36.394] [DEBUG] default - 

[2022-11-17T18:54:36.398] [DEBUG] default - [0m[1mInitializing the backend...[0m

[2022-11-17T18:54:36.843] [DEBUG] default - 

[2022-11-17T18:54:36.843] [DEBUG] default - [0m[1mInitializing provider plugins...[0m
- Reusing previous version of hashicorp/aws from the dependency lock file

[2022-11-17T18:54:37.779] [DEBUG] default - - Using previously-installed hashicorp/aws v2.70.1

[2022-11-17T18:54:37.781] [DEBUG] default - 

[2022-11-17T18:54:37.798] [DEBUG] default - [0m[1m[32mTerraform has been successfully initialized![0m[32m[0m
[0m[32m
You may now begin working with Terraform. Try running "terraform plan" to see
any changes that are required for your infrastructure. All Terraform commands
should now work.

If you ever set or change modules or backend configuration for Terraform,
rerun this command to reinitialize your working directory. If you forget, other
commands will detect it and remind you to do so if necessary.[0m

[2022-11-17T18:54:39.173] [DEBUG] default - 

[2022-11-17T18:54:39.198] [DEBUG] default - An execution plan has been generated and is shown below.
Resource actions are indicated with the following symbols:
  [31m-[0m destroy
[0m
Terraform will perform the following actions:

[1m  # aws_alb.sample-cdktf-alb[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_alb" "sample-cdktf-alb" {
      [31m-[0m [0m[1m[0marn[0m[0m                              = "arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:loadbalancer/app/sample-cdktf-alb/8e7bf5321d2d6d66" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0marn_suffix[0m[0m                       = "app/sample-cdktf-alb/8e7bf5321d2d6d66" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdns_name[0m[0m                         = "sample-cdktf-alb-671867510.ap-northeast-1.elb.amazonaws.com" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdrop_invalid_header_fields[0m[0m       = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0menable_cross_zone_load_balancing[0m[0m = true [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0menable_deletion_protection[0m[0m       = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0menable_http2[0m[0m                     = true [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                               = "arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:loadbalancer/app/sample-cdktf-alb/8e7bf5321d2d6d66" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0midle_timeout[0m[0m                     = 60 [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0minternal[0m[0m                         = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mip_address_type[0m[0m                  = "ipv4" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mload_balancer_type[0m[0m               = "application" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mname[0m[0m                             = "sample-cdktf-alb" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0msecurity_groups[0m[0m                  = [
          [31m-[0m [0m"sg-025820cfad8e16182",
          [31m-[0m [0m"sg-0e8f1acaacb82544a",
        ] [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0msubnets[0m[0m                          = [
          [31m-[0m [0m"subnet-07de357bedb7ac869",
          [31m-[0m [0m"subnet-0946ff06d100ac494",
        ] [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mvpc_id[0m[0m                           = "vpc-0ff751b859f0ed54c" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mzone_id[0m[0m                          = "Z14GRHDCWA56QT" [90m->[0m [0m[90mnull[0m[0m

      [31m-[0m [0maccess_logs {
          [31m-[0m [0m[1m[0menabled[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
        }

      [31m-[0m [0msubnet_mapping {
          [31m-[0m [0m[1m[0msubnet_id[0m[0m = "subnet-07de357bedb7ac869" [90m->[0m [0m[90mnull[0m[0m
        }
      [31m-[0m [0msubnet_mapping {
          [31m-[0m [0m[1m[0msubnet_id[0m[0m = "subnet-0946ff06d100ac494" [90m->[0m [0m[90mnull[0m[0m
        }
    }

[1m  # aws_alb_listener.sample-cdktf-alb-listener[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_alb_listener" "sample-cdktf-alb-listener" {
      [31m-[0m [0m[1m[0marn[0m[0m               = "arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener/app/sample-cdktf-alb/8e7bf5321d2d6d66/b27077b11d925401" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                = "arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener/app/sample-cdktf-alb/8e7bf5321d2d6d66/b27077b11d925401" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mload_balancer_arn[0m[0m = "arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:loadbalancer/app/sample-cdktf-alb/8e7bf5321d2d6d66" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mport[0m[0m              = 80 [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mprotocol[0m[0m          = "HTTP" [90m->[0m [0m[90mnull[0m[0m

      [31m-[0m [0mdefault_action {
          [31m-[0m [0m[1m[0morder[0m[0m = 1 [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0mtype[0m[0m  = "fixed-response" [90m->[0m [0m[90mnull[0m[0m

          [31m-[0m [0mfixed_response {
              [31m-[0m [0m[1m[0mcontent_type[0m[0m = "text/plain" [90m->[0m [0m[90mnull[0m[0m
              [31m-[0m [0m[1m[0mmessage_body[0m[0m = "OK" [90m->[0m [0m[90mnull[0m[0m
              [31m-[0m [0m[1m[0mstatus_code[0m[0m  = "200" [90m->[0m [0m[90mnull[0m[0m
            }
        }
    }

[1m  # aws_alb_listener_rule.sample-cdktf-alb-listener-rule[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_alb_listener_rule" "sample-cdktf-alb-listener-rule" {
      [31m-[0m [0m[1m[0marn[0m[0m          = "arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener-rule/app/sample-cdktf-alb/8e7bf5321d2d6d66/b27077b11d925401/4e6b3937e2325782" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m           = "arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener-rule/app/sample-cdktf-alb/8e7bf5321d2d6d66/b27077b11d925401/4e6b3937e2325782" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mlistener_arn[0m[0m = "arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener/app/sample-cdktf-alb/8e7bf5321d2d6d66/b27077b11d925401" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mpriority[0m[0m     = 100 [90m->[0m [0m[90mnull[0m[0m

      [31m-[0m [0maction {
          [31m-[0m [0m[1m[0morder[0m[0m            = 1 [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0mtarget_group_arn[0m[0m = "arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/4d2039743d2c1779" [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0mtype[0m[0m             = "forward" [90m->[0m [0m[90mnull[0m[0m
        }

      [31m-[0m [0mcondition {
          [31m-[0m [0m[1m[0mfield[0m[0m  = "path-pattern" [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0mvalues[0m[0m = [
              [31m-[0m [0m"*",
            ] [90m->[0m [0m[90mnull[0m[0m

          [31m-[0m [0mpath_pattern {
              [31m-[0m [0m[1m[0mvalues[0m[0m = [
                  [31m-[0m [0m"*",
                ] [90m->[0m [0m[90mnull[0m[0m
            }
        }
    }

[1m  # aws_alb_target_group.sample-cdktf-alb-target-group[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_alb_target_group" "sample-cdktf-alb-target-group" {
      [31m-[0m [0m[1m[0marn[0m[0m                                = "arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/4d2039743d2c1779" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0marn_suffix[0m[0m                         = "targetgroup/sample-cdktf-alb-target-group/4d2039743d2c1779" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mderegistration_delay[0m[0m               = 300 [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                                 = "arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/4d2039743d2c1779" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mlambda_multi_value_headers_enabled[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mload_balancing_algorithm_type[0m[0m      = "round_robin" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mname[0m[0m                               = "sample-cdktf-alb-target-group" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mport[0m[0m                               = 80 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.198] [DEBUG] default -       [31m-[0m [0m[1m[0mprotocol[0m[0m                           = "HTTP" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mproxy_protocol_v2[0m[0m                  = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mslow_start[0m[0m                         = 0 [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtarget_type[0m[0m                        = "ip" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.199] [DEBUG] default -       [31m-[0m [0m[1m[0mvpc_id[0m[0m                             = "vpc-0ff751b859f0ed54c" [90m->[0m [0m[90mnull[0m[0m

      [31m-[0m [0mhealth_check {
          [31m-[0m [0m[1m[0menabled[0m[0m             = true [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.199] [DEBUG] default -           [31m-[0m [0m[1m[0mhealthy_threshold[0m[0m   = 3 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.199] [DEBUG] default -           [31m-[0m [0m[1m[0minterval[0m[0m            = 30 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.200] [DEBUG] default -           [31m-[0m [0m[1m[0mmatcher[0m[0m             = "200" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.200] [DEBUG] default -           [31m-[0m [0m[1m[0mpath[0m[0m                = "/" [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0mport[0m[0m                = "traffic-port" [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0mprotocol[0m[0m            = "HTTP" [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0mtimeout[0m[0m             = 5 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.200] [DEBUG] default -           [31m-[0m [0m[1m[0munhealthy_threshold[0m[0m = 2 [90m->[0m [0m[90mnull[0m[0m
        }

      [31m-[0m [0mstickiness {
          [31m-[0m [0m[1m[0mcookie_duration[0m[0m = 86400 [90m->[0m [0m[90mnull[0m[0m
          [31m-[0m [0m[1m[0menabled[0m[0m         = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.200] [DEBUG] default -           [31m-[0m [0m[1m[0mtype[0m[0m            = "lb_cookie" [90m->[0m [0m[90mnull[0m[0m
        }
    }


[2022-11-17T18:54:39.200] [DEBUG] default - [1m  # aws_cloudwatch_event_rule.sample-cdktf-event-rule[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:54:39.200] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_cloudwatch_event_rule" "sample-cdktf-event-rule" {

[2022-11-17T18:54:39.201] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m           = "arn:aws:events:ap-northeast-1:574185952087:rule/capture-ecr-update" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdescription[0m[0m   = "Capture each AWS ECR Update" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mevent_pattern[0m[0m = jsonencode(
            {
              [31m-[0m [0mdetail      = {

[2022-11-17T18:54:39.201] [DEBUG] default -                   [31m-[0m [0maction-type = [
                      [31m-[0m [0m"PUSH",
                    ]

[2022-11-17T18:54:39.201] [DEBUG] default -                   [31m-[0m [0mresult      = [
                      [31m-[0m [0m"SUCCESS",

[2022-11-17T18:54:39.201] [DEBUG] default -                     ]
                }
              [31m-[0m [0mdetail-type = [

[2022-11-17T18:54:39.201] [DEBUG] default -                   [31m-[0m [0m"ECR Image Action",

[2022-11-17T18:54:39.201] [DEBUG] default -                 ]
              [31m-[0m [0msource      = [

[2022-11-17T18:54:39.201] [DEBUG] default -                   [31m-[0m [0m"aws.ecr",
                ]

[2022-11-17T18:54:39.201] [DEBUG] default -             }
        ) [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m            = "capture-ecr-update" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mis_enabled[0m[0m    = true [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.202] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m          = "capture-ecr-update" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-17T18:54:39.202] [DEBUG] default - [1m  # aws_cloudwatch_event_target.sample-cdktf-event-target[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:54:39.202] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_cloudwatch_event_target" "sample-cdktf-event-target" {

[2022-11-17T18:54:39.202] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m       = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m        = "capture-ecr-update-SendToSNS" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mrule[0m[0m      = "capture-ecr-update" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtarget_id[0m[0m = "SendToSNS" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_cloudwatch_log_group.sample-cdktf-ecs-task-log-group[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_cloudwatch_log_group" "sample-cdktf-ecs-task-log-group" {

[2022-11-17T18:54:39.202] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m               = "arn:aws:logs:ap-northeast-1:574185952087:log-group:/aws/ecs/task-for-cdktf:*" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.202] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                = "/aws/ecs/task-for-cdktf" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.203] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m              = "/aws/ecs/task-for-cdktf" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mretention_in_days[0m[0m = 0 [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:54:39.203] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_cloudwatch_log_group" "sample-cdktf-notification-to-slack-log-group" {

[2022-11-17T18:54:39.203] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m               = "arn:aws:logs:ap-northeast-1:574185952087:log-group:/aws/lambda/Sample-Lambda-Notification-to-Slack:*" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.203] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                = "/aws/lambda/Sample-Lambda-Notification-to-Slack" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.203] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m              = "/aws/lambda/Sample-Lambda-Notification-to-Slack" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.203] [DEBUG] default -       [31m-[0m [0m[1m[0mretention_in_days[0m[0m = 0 [90m->[0m [0m[90mnull[0m[0m
    }

[2022-11-17T18:54:39.203] [DEBUG] default - 
[1m  # aws_ecr_repository.sample-cdktf-repository[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:54:39.204] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_ecr_repository" "sample-cdktf-repository" {

[2022-11-17T18:54:39.204] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                  = "arn:aws:ecr:ap-northeast-1:574185952087:repository/project/sample-ecr" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.204] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                   = "project/sample-ecr" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.204] [DEBUG] default -       [31m-[0m [0m[1m[0mimage_tag_mutability[0m[0m = "MUTABLE" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.204] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m                 = "project/sample-ecr" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.204] [DEBUG] default -       [31m-[0m [0m[1m[0mregistry_id[0m[0m          = "574185952087" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.204] [DEBUG] default -       [31m-[0m [0m[1m[0mrepository_url[0m[0m       = "574185952087.dkr.ecr.ap-northeast-1.amazonaws.com/project/sample-ecr" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.204] [DEBUG] default - 
      [31m-[0m [0mimage_scanning_configuration {

[2022-11-17T18:54:39.205] [DEBUG] default -           [31m-[0m [0m[1m[0mscan_on_push[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
        }
    }

[1m  # aws_ecs_cluster.sample-cdktf-cluster[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_ecs_cluster" "sample-cdktf-cluster" {

[2022-11-17T18:54:39.205] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m  = "arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.205] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m   = "arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.205] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m = "sample-cdktf-cluster" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-17T18:54:39.205] [DEBUG] default - [1m  # aws_ecs_service.sample-cdktf-ecs-service[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:54:39.205] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_ecs_service" "sample-cdktf-ecs-service" {

[2022-11-17T18:54:39.205] [DEBUG] default -       [31m-[0m [0m[1m[0mcluster[0m[0m                            = "arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.205] [DEBUG] default -       [31m-[0m [0m[1m[0mdeployment_maximum_percent[0m[0m         = 200 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.205] [DEBUG] default -       [31m-[0m [0m[1m[0mdeployment_minimum_healthy_percent[0m[0m = 100 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.206] [DEBUG] default -       [31m-[0m [0m[1m[0mdesired_count[0m[0m                      = 1 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.206] [DEBUG] default -       [31m-[0m [0m[1m[0menable_ecs_managed_tags[0m[0m            = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.206] [DEBUG] default -       [31m-[0m [0m[1m[0mhealth_check_grace_period_seconds[0m[0m  = 0 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.206] [DEBUG] default -       [31m-[0m [0m[1m[0miam_role[0m[0m                           = "aws-service-role" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.206] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                                 = "arn:aws:ecs:ap-northeast-1:574185952087:service/sample-cdktf-cluster/sample-cdktf-ecs-service" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.206] [DEBUG] default -       [31m-[0m [0m[1m[0mlaunch_type[0m[0m                        = "FARGATE" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.206] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m                               = "sample-cdktf-ecs-service" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.206] [DEBUG] default -       [31m-[0m [0m[1m[0mplatform_version[0m[0m                   = "LATEST" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.206] [DEBUG] default -       [31m-[0m [0m[1m[0mpropagate_tags[0m[0m                     = "NONE" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.206] [DEBUG] default -       [31m-[0m [0m[1m[0mscheduling_strategy[0m[0m                = "REPLICA" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.207] [DEBUG] default -       [31m-[0m [0m[1m[0mtask_definition[0m[0m                    = "task-for-cdktf:48" [90m->[0m [0m[90mnull[0m[0m


[2022-11-17T18:54:39.207] [DEBUG] default -       [31m-[0m [0mdeployment_controller {

[2022-11-17T18:54:39.207] [DEBUG] default -           [31m-[0m [0m[1m[0mtype[0m[0m = "ECS" [90m->[0m [0m[90mnull[0m[0m
        }


[2022-11-17T18:54:39.207] [DEBUG] default -       [31m-[0m [0mload_balancer {

[2022-11-17T18:54:39.207] [DEBUG] default -           [31m-[0m [0m[1m[0mcontainer_name[0m[0m   = "sample-cdktf-container" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.207] [DEBUG] default -           [31m-[0m [0m[1m[0mcontainer_port[0m[0m   = 9000 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.207] [DEBUG] default -           [31m-[0m [0m[1m[0mtarget_group_arn[0m[0m = "arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/4d2039743d2c1779" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.207] [DEBUG] default -         }

      [31m-[0m [0mnetwork_configuration {

[2022-11-17T18:54:39.207] [DEBUG] default -           [31m-[0m [0m[1m[0massign_public_ip[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.207] [DEBUG] default -           [31m-[0m [0m[1m[0msecurity_groups[0m[0m  = [

[2022-11-17T18:54:39.207] [DEBUG] default -               [31m-[0m [0m"sg-0e8f1acaacb82544a",

[2022-11-17T18:54:39.207] [DEBUG] default -             ] [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.208] [DEBUG] default -           [31m-[0m [0m[1m[0msubnets[0m[0m          = [

[2022-11-17T18:54:39.208] [DEBUG] default -               [31m-[0m [0m"subnet-024f10b18c99de104",
              [31m-[0m [0m"subnet-02a48e46704593c8c",

[2022-11-17T18:54:39.208] [DEBUG] default -             ] [90m->[0m [0m[90mnull[0m[0m
        }
    }


[2022-11-17T18:54:39.208] [DEBUG] default - [1m  # aws_ecs_task_definition.sample-cdktf-task[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:54:39.208] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_ecs_task_definition" "sample-cdktf-task" {

[2022-11-17T18:54:39.208] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                      = "arn:aws:ecs:ap-northeast-1:574185952087:task-definition/task-for-cdktf:48" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.208] [DEBUG] default -       [31m-[0m [0m[1m[0mcontainer_definitions[0m[0m    = jsonencode(

[2022-11-17T18:54:39.208] [DEBUG] default -             [
              [31m-[0m [0m{

[2022-11-17T18:54:39.208] [DEBUG] default -                   [31m-[0m [0mcpu              = 0

[2022-11-17T18:54:39.208] [DEBUG] default -                   [31m-[0m [0menvironment      = []

[2022-11-17T18:54:39.208] [DEBUG] default -                   [31m-[0m [0messential        = true

[2022-11-17T18:54:39.208] [DEBUG] default -                   [31m-[0m [0mimage            = "574185952087.dkr.ecr.ap-northeast-1.amazonaws.com/project/sample-ecr:latest"

[2022-11-17T18:54:39.208] [DEBUG] default -                   [31m-[0m [0mlogConfiguration = {

[2022-11-17T18:54:39.208] [DEBUG] default -                       [31m-[0m [0mlogDriver = "awslogs"

[2022-11-17T18:54:39.208] [DEBUG] default -                       [31m-[0m [0moptions   = {

[2022-11-17T18:54:39.208] [DEBUG] default -                           [31m-[0m [0mawslogs-group         = "/aws/ecs/task-for-cdktf"

[2022-11-17T18:54:39.209] [DEBUG] default -                           [31m-[0m [0mawslogs-region        = "ap-northeast-1"

[2022-11-17T18:54:39.209] [DEBUG] default -                           [31m-[0m [0mawslogs-stream-prefix = "ecs"

[2022-11-17T18:54:39.209] [DEBUG] default -                         }
                    }

[2022-11-17T18:54:39.209] [DEBUG] default -                   [31m-[0m [0mmountPoints      = []

[2022-11-17T18:54:39.209] [DEBUG] default -                   [31m-[0m [0mname             = "sample-cdktf-container"

[2022-11-17T18:54:39.209] [DEBUG] default -                   [31m-[0m [0mportMappings     = [

[2022-11-17T18:54:39.209] [DEBUG] default -                       [31m-[0m [0m{

[2022-11-17T18:54:39.209] [DEBUG] default -                           [31m-[0m [0mcontainerPort = 9000

[2022-11-17T18:54:39.209] [DEBUG] default -                           [31m-[0m [0mhostPort      = 9000

[2022-11-17T18:54:39.209] [DEBUG] default -                           [31m-[0m [0mprotocol      = "tcp"

[2022-11-17T18:54:39.209] [DEBUG] default -                         },
                    ]

[2022-11-17T18:54:39.209] [DEBUG] default -                   [31m-[0m [0mvolumesFrom      = []

[2022-11-17T18:54:39.209] [DEBUG] default -                 },
            ]

[2022-11-17T18:54:39.209] [DEBUG] default -         ) [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.209] [DEBUG] default -       [31m-[0m [0m[1m[0mcpu[0m[0m                      = "512" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mexecution_role_arn[0m[0m       = "arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskExecutionRole" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.210] [DEBUG] default -       [31m-[0m [0m[1m[0mfamily[0m[0m                   = "task-for-cdktf" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.210] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                       = "task-for-cdktf" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.210] [DEBUG] default -       [31m-[0m [0m[1m[0mmemory[0m[0m                   = "1024" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.210] [DEBUG] default -       [31m-[0m [0m[1m[0mnetwork_mode[0m[0m             = "awsvpc" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.210] [DEBUG] default -       [31m-[0m [0m[1m[0mrequires_compatibilities[0m[0m = [

[2022-11-17T18:54:39.210] [DEBUG] default -           [31m-[0m [0m"FARGATE",
        ] [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.210] [DEBUG] default -       [31m-[0m [0m[1m[0mrevision[0m[0m                 = 48 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.210] [DEBUG] default -       [31m-[0m [0m[1m[0mtask_role_arn[0m[0m            = "arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskRole" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.210] [DEBUG] default -     }


[2022-11-17T18:54:39.210] [DEBUG] default - [1m  # aws_eip.sample-cdktf-eip[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:54:39.210] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_eip" "sample-cdktf-eip" {

[2022-11-17T18:54:39.210] [DEBUG] default -       [31m-[0m [0m[1m[0mdomain[0m[0m           = "vpc" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.210] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m               = "eipalloc-002ea4c7af48623b4" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.211] [DEBUG] default -       [31m-[0m [0m[1m[0mpublic_dns[0m[0m       = "ec2-52-193-167-114.ap-northeast-1.compute.amazonaws.com" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.211] [DEBUG] default -       [31m-[0m [0m[1m[0mpublic_ip[0m[0m        = "52.193.167.114" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.211] [DEBUG] default -       [31m-[0m [0m[1m[0mpublic_ipv4_pool[0m[0m = "amazon" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.211] [DEBUG] default -       [31m-[0m [0m[1m[0mvpc[0m[0m              = true [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.211] [DEBUG] default -     }


[2022-11-17T18:54:39.211] [DEBUG] default - [1m  # aws_iam_policy.ecs-task-execution-policy[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:54:39.211] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_iam_policy" "ecs-task-execution-policy" {

[2022-11-17T18:54:39.211] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m         = "arn:aws:iam::574185952087:policy/ecs-task-execution-policy" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.211] [DEBUG] default -       [31m-[0m [0m[1m[0mdescription[0m[0m = "Policy for updating ECS tasks" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.211] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m          = "arn:aws:iam::574185952087:policy/ecs-task-execution-policy" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.212] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m        = "ecs-task-execution-policy" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.212] [DEBUG] default -       [31m-[0m [0m[1m[0mpath[0m[0m        = "/" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.212] [DEBUG] default -       [31m-[0m [0m[1m[0mpolicy[0m[0m      = jsonencode(

[2022-11-17T18:54:39.212] [DEBUG] default -             {
              [31m-[0m [0mStatement = [

[2022-11-17T18:54:39.212] [DEBUG] default -                   [31m-[0m [0m{

[2022-11-17T18:54:39.212] [DEBUG] default -                       [31m-[0m [0mAction   = [

[2022-11-17T18:54:39.212] [DEBUG] default -                           [31m-[0m [0m"ecr:GetAuthorizationToken",

[2022-11-17T18:54:39.212] [DEBUG] default -                           [31m-[0m [0m"ecr:BatchCheckLayerAvailability",

[2022-11-17T18:54:39.212] [DEBUG] default -                           [31m-[0m [0m"ecr:GetDownloadUrlForLayer",

[2022-11-17T18:54:39.212] [DEBUG] default -                           [31m-[0m [0m"ecr:BatchGetImage",

[2022-11-17T18:54:39.212] [DEBUG] default -                           [31m-[0m [0m"logs:CreateLogStream",

[2022-11-17T18:54:39.212] [DEBUG] default -                           [31m-[0m [0m"logs:PutLogEvents",
                        ]

[2022-11-17T18:54:39.212] [DEBUG] default -                       [31m-[0m [0mEffect   = "Allow"

[2022-11-17T18:54:39.212] [DEBUG] default -                       [31m-[0m [0mResource = [

[2022-11-17T18:54:39.212] [DEBUG] default -                           [31m-[0m [0m"*",
                        ]
                    },

[2022-11-17T18:54:39.212] [DEBUG] default -                 ]

[2022-11-17T18:54:39.212] [DEBUG] default -               [31m-[0m [0mVersion   = "2012-10-17"
            }

[2022-11-17T18:54:39.212] [DEBUG] default -         ) [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-17T18:54:39.213] [DEBUG] default - [1m  # aws_iam_policy.ecs-task-policy[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:54:39.213] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_iam_policy" "ecs-task-policy" {

[2022-11-17T18:54:39.213] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m         = "arn:aws:iam::574185952087:policy/ecs-task-policy" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.213] [DEBUG] default -       [31m-[0m [0m[1m[0mdescription[0m[0m = "Policy for updating ECS tasks" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.213] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m          = "arn:aws:iam::574185952087:policy/ecs-task-policy" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.213] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m        = "ecs-task-policy" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.213] [DEBUG] default -       [31m-[0m [0m[1m[0mpath[0m[0m        = "/" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.213] [DEBUG] default -       [31m-[0m [0m[1m[0mpolicy[0m[0m      = jsonencode(

[2022-11-17T18:54:39.213] [DEBUG] default -             {
              [31m-[0m [0mStatement = [

[2022-11-17T18:54:39.213] [DEBUG] default -                   [31m-[0m [0m{

[2022-11-17T18:54:39.213] [DEBUG] default -                       [31m-[0m [0mAction   = [

[2022-11-17T18:54:39.213] [DEBUG] default -                           [31m-[0m [0m"ecs:DescribeServices",

[2022-11-17T18:54:39.213] [DEBUG] default -                           [31m-[0m [0m"ecs:CreateTaskSet",

[2022-11-17T18:54:39.214] [DEBUG] default -                           [31m-[0m [0m"ecs:UpdateServicePrimaryTaskSet",

[2022-11-17T18:54:39.214] [DEBUG] default -                           [31m-[0m [0m"ecs:DeleteTaskSet",

[2022-11-17T18:54:39.214] [DEBUG] default -                           [31m-[0m [0m"elasticloadbalancing:DescribeTargetGroups",

[2022-11-17T18:54:39.214] [DEBUG] default -                           [31m-[0m [0m"elasticloadbalancing:DescribeListeners",

[2022-11-17T18:54:39.214] [DEBUG] default -                           [31m-[0m [0m"elasticloadbalancing:ModifyListener",

[2022-11-17T18:54:39.214] [DEBUG] default -                           [31m-[0m [0m"elasticloadbalancing:DescribeRules",

[2022-11-17T18:54:39.214] [DEBUG] default -                           [31m-[0m [0m"elasticloadbalancing:ModifyRule",

[2022-11-17T18:54:39.214] [DEBUG] default -                           [31m-[0m [0m"lambda:InvokeFunction",

[2022-11-17T18:54:39.214] [DEBUG] default -                           [31m-[0m [0m"cloudwatch:DescribeAlarms",

[2022-11-17T18:54:39.214] [DEBUG] default -                           [31m-[0m [0m"sns:Publish",

[2022-11-17T18:54:39.214] [DEBUG] default -                           [31m-[0m [0m"s3:GetObject",

[2022-11-17T18:54:39.214] [DEBUG] default -                           [31m-[0m [0m"s3:GetObjectVersion",

[2022-11-17T18:54:39.214] [DEBUG] default -                         ]
                      [31m-[0m [0mEffect   = "Allow"

[2022-11-17T18:54:39.214] [DEBUG] default -                       [31m-[0m [0mResource = [

[2022-11-17T18:54:39.214] [DEBUG] default -                           [31m-[0m [0m"*",
                        ]

[2022-11-17T18:54:39.214] [DEBUG] default -                     },
                ]

[2022-11-17T18:54:39.214] [DEBUG] default -               [31m-[0m [0mVersion   = "2012-10-17"

[2022-11-17T18:54:39.215] [DEBUG] default -             }
        ) [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-17T18:54:39.215] [DEBUG] default - [1m  # aws_iam_policy.lambda-logging[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:54:39.215] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_iam_policy" "lambda-logging" {

[2022-11-17T18:54:39.215] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m         = "arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.215] [DEBUG] default -       [31m-[0m [0m[1m[0mdescription[0m[0m = "IAM policy for logging from a lambda" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.215] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m          = "arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.215] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m        = "sample-cdktf-lambda-logging" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.215] [DEBUG] default -       [31m-[0m [0m[1m[0mpath[0m[0m        = "/" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.215] [DEBUG] default -       [31m-[0m [0m[1m[0mpolicy[0m[0m      = jsonencode(

[2022-11-17T18:54:39.215] [DEBUG] default -             {
              [31m-[0m [0mStatement = [

[2022-11-17T18:54:39.215] [DEBUG] default -                   [31m-[0m [0m{

[2022-11-17T18:54:39.215] [DEBUG] default -                       [31m-[0m [0mAction   = [

[2022-11-17T18:54:39.215] [DEBUG] default -                           [31m-[0m [0m"iam:PassRole",

[2022-11-17T18:54:39.216] [DEBUG] default -                           [31m-[0m [0m"ecs:RegisterTaskDefinition",

[2022-11-17T18:54:39.216] [DEBUG] default -                           [31m-[0m [0m"ecs:UpdateService",

[2022-11-17T18:54:39.216] [DEBUG] default -                           [31m-[0m [0m"logs:CreateLogGroup",

[2022-11-17T18:54:39.216] [DEBUG] default -                           [31m-[0m [0m"logs:CreateLogStream",

[2022-11-17T18:54:39.216] [DEBUG] default -                           [31m-[0m [0m"logs:PutLogEvents",

[2022-11-17T18:54:39.216] [DEBUG] default -                         ]

[2022-11-17T18:54:39.216] [DEBUG] default -                       [31m-[0m [0mEffect   = "Allow"

[2022-11-17T18:54:39.216] [DEBUG] default -                       [31m-[0m [0mResource = [

[2022-11-17T18:54:39.216] [DEBUG] default -                           [31m-[0m [0m"arn:aws:logs:*:*:*",

[2022-11-17T18:54:39.216] [DEBUG] default -                           [31m-[0m [0m"arn:aws:ecs:*:*:*",

[2022-11-17T18:54:39.216] [DEBUG] default -                           [31m-[0m [0m"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskExecutionRole",
                        ]
                    },
                ]
              [31m-[0m [0mVersion   = "2012-10-17"
            }
        ) [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_iam_role.ecsTaskExecutionRole[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_iam_role" "ecsTaskExecutionRole" {

[2022-11-17T18:54:39.217] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                   = "arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskExecutionRole" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.217] [DEBUG] default -       [31m-[0m [0m[1m[0massume_role_policy[0m[0m    = jsonencode(

[2022-11-17T18:54:39.217] [DEBUG] default -             {
              [31m-[0m [0mStatement = [

[2022-11-17T18:54:39.217] [DEBUG] default -                   [31m-[0m [0m{

[2022-11-17T18:54:39.217] [DEBUG] default -                       [31m-[0m [0mAction    = "sts:AssumeRole"

[2022-11-17T18:54:39.217] [DEBUG] default -                       [31m-[0m [0mEffect    = "Allow"

[2022-11-17T18:54:39.217] [DEBUG] default -                       [31m-[0m [0mPrincipal = {

[2022-11-17T18:54:39.217] [DEBUG] default -                           [31m-[0m [0mService = "ecs-tasks.amazonaws.com"

[2022-11-17T18:54:39.217] [DEBUG] default -                         }
                      [31m-[0m [0mSid       = ""

[2022-11-17T18:54:39.217] [DEBUG] default -                     },
                ]

[2022-11-17T18:54:39.217] [DEBUG] default -               [31m-[0m [0mVersion   = "2012-10-17"
            }

[2022-11-17T18:54:39.217] [DEBUG] default -         ) [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.249] [DEBUG] default -       [31m-[0m [0m[1m[0mcreate_date[0m[0m           = "2022-11-17T09:21:57Z" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mforce_detach_policies[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                    = "sample-cdktf-ecsTaskExecutionRole" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mmax_session_duration[0m[0m  = 3600 [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mname[0m[0m                  = "sample-cdktf-ecsTaskExecutionRole" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mpath[0m[0m                  = "/" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0munique_id[0m[0m             = "AROAYLMBGKNL6HREXLCQR" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_iam_role.ecsTaskRole[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_iam_role" "ecsTaskRole" {
      [31m-[0m [0m[1m[0marn[0m[0m                   = "arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskRole" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0massume_role_policy[0m[0m    = jsonencode(
            {
              [31m-[0m [0mStatement = [
                  [31m-[0m [0m{
                      [31m-[0m [0mAction    = "sts:AssumeRole"
                      [31m-[0m [0mEffect    = "Allow"
                      [31m-[0m [0mPrincipal = {
                          [31m-[0m [0mService = "ecs-tasks.amazonaws.com"
                        }
                      [31m-[0m [0mSid       = ""
                    },
                ]
              [31m-[0m [0mVersion   = "2012-10-17"
            }
        ) [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mcreate_date[0m[0m           = "2022-11-17T09:21:57Z" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mforce_detach_policies[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                    = "sample-cdktf-ecsTaskRole" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mmax_session_duration[0m[0m  = 3600 [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mname[0m[0m                  = "sample-cdktf-ecsTaskRole" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mpath[0m[0m                  = "/" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0munique_id[0m[0m             = "AROAYLMBGKNLYKI6C5ZOP" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_iam_role.lambdaExecutionRole[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_iam_role" "lambdaExecutionRole" {
      [31m-[0m [0m[1m[0marn[0m[0m                   = "arn:aws:iam::574185952087:role/sample-cdktf-lambdaExecutionRole" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0massume_role_policy[0m[0m    = jsonencode(
            {
              [31m-[0m [0mStatement = [
                  [31m-[0m [0m{
                      [31m-[0m [0mAction    = "sts:AssumeRole"
                      [31m-[0m [0mEffect    = "Allow"
                      [31m-[0m [0mPrincipal = {
                          [31m-[0m [0mService = [
                              [31m-[0m [0m"lambda.amazonaws.com",
                              [31m-[0m [0m"ecs-tasks.amazonaws.com",
                            ]
                        }
                      [31m-[0m [0mSid       = ""
                    },
                ]
              [31m-[0m [0mVersion   = "2012-10-17"
            }
        ) [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mcreate_date[0m[0m           = "2022-11-17T09:21:57Z" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mforce_detach_policies[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                    = "sample-cdktf-lambdaExecutionRole" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mmax_session_duration[0m[0m  = 3600 [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mname[0m[0m                  = "sample-cdktf-lambdaExecutionRole" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mpath[0m[0m                  = "/" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0munique_id[0m[0m             = "AROAYLMBGKNLQF6DHWJLR" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_iam_role_policy_attachment.attach-ecs-task-execution-policy[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_iam_role_policy_attachment" "attach-ecs-task-execution-policy" {
      [31m-[0m [0m[1m[0mid[0m[0m         = "sample-cdktf-ecsTaskExecutionRole-20221117092200405100000001" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mpolicy_arn[0m[0m = "arn:aws:iam::574185952087:policy/ecs-task-execution-policy" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mrole[0m[0m       = "sample-cdktf-ecsTaskExecutionRole" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_iam_role_policy_attachment.attach-ecs-task-policy[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_iam_role_policy_attachment" "attach-ecs-task-policy" {
      [31m-[0m [0m[1m[0mid[0m[0m         = "sample-cdktf-ecsTaskRole-20221117092201624900000002" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mpolicy_arn[0m[0m = "arn:aws:iam::574185952087:policy/ecs-task-policy" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mrole[0m[0m       = "sample-cdktf-ecsTaskRole" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_iam_role_policy_attachment.attach-lambda-policy[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_iam_role_policy_attachment" "attach-lambda-policy" {
      [31m-[0m [0m[1m[0mid[0m[0m         = "sample-cdktf-lambdaExecutionRole-20221117092202035100000003" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mpolicy_arn[0m[0m = "arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mrole[0m[0m       = "sample-cdktf-lambdaExecutionRole" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_internet_gateway.sample-cdktf-igw-production[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_internet_gateway" "sample-cdktf-igw-production" {
      [31m-[0m [0m[1m[0marn[0m[0m      = "arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-0059619e5b2abdb1d" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m       = "igw-0059619e5b2abdb1d" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mowner_id[0m[0m = "574185952087" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtags[0m[0m     = {
          [31m-[0m [0m"Name" = "igw-production sample-cdktf"
        } [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mvpc_id[0m[0m   = "vpc-0ff751b859f0ed54c" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_lambda_function.Sample-Lambda-Notification-to-Slack[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_lambda_function" "Sample-Lambda-Notification-to-Slack" {
      [31m-[0m [0m[1m[0marn[0m[0m                            = "arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mfunction_name[0m[0m                  = "Sample-Lambda-Notification-to-Slack" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mhandler[0m[0m                        = "index.handler" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                             = "Sample-Lambda-Notification-to-Slack" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0minvoke_arn[0m[0m                     = "arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack/invocations" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.250] [DEBUG] default -       [31m-[0m [0m[1m[0mlast_modified[0m[0m                  = "2022-11-17T09:22:19.111+0000" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mmemory_size[0m[0m                    = 128 [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mpublish[0m[0m                        = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.250] [DEBUG] default -       [31m-[0m [0m[1m[0mqualified_arn[0m[0m                  = "arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack:$LATEST" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.250] [DEBUG] default -       [31m-[0m [0m[1m[0mreserved_concurrent_executions[0m[0m = -1 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.250] [DEBUG] default -       [31m-[0m [0m[1m[0mrole[0m[0m                           = "arn:aws:iam::574185952087:role/sample-cdktf-lambdaExecutionRole" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.251] [DEBUG] default -       [31m-[0m [0m[1m[0mruntime[0m[0m                        = "nodejs12.x" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.251] [DEBUG] default -       [31m-[0m [0m[1m[0ms3_bucket[0m[0m                      = "sample-cdktf-s3" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.251] [DEBUG] default -       [31m-[0m [0m[1m[0ms3_key[0m[0m                         = "notification-to-Slack-dist.zip" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.251] [DEBUG] default -       [31m-[0m [0m[1m[0msource_code_hash[0m[0m               = "tCCpjM8bYGUMlYE1itasARiG+ZOmfdgQJWCcxS1eRIg=" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.251] [DEBUG] default -       [31m-[0m [0m[1m[0msource_code_size[0m[0m               = 13887229 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.252] [DEBUG] default -       [31m-[0m [0m[1m[0mtimeout[0m[0m                        = 30 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.252] [DEBUG] default -       [31m-[0m [0m[1m[0mversion[0m[0m                        = "$LATEST" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.252] [DEBUG] default - 
      [31m-[0m [0menvironment {

[2022-11-17T18:54:39.252] [DEBUG] default -           [31m-[0m [0m[1m[0mvariables[0m[0m = {

[2022-11-17T18:54:39.252] [DEBUG] default -               [31m-[0m [0m"SLACK_API_TOKEN" = "xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp"

[2022-11-17T18:54:39.252] [DEBUG] default -               [31m-[0m [0m"SLACK_CHANNEL"   = "C049CPNKHMJ"
            } [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.252] [DEBUG] default -         }

      [31m-[0m [0mtracing_config {

[2022-11-17T18:54:39.253] [DEBUG] default -           [31m-[0m [0m[1m[0mmode[0m[0m = "PassThrough" [90m->[0m [0m[90mnull[0m[0m
        }
    }

[1m  # aws_lambda_permission.permission-to-sns[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_lambda_permission" "permission-to-sns" {

[2022-11-17T18:54:39.253] [DEBUG] default -       [31m-[0m [0m[1m[0maction[0m[0m        = "lambda:InvokeFunction" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.253] [DEBUG] default -       [31m-[0m [0m[1m[0mfunction_name[0m[0m = "Sample-Lambda-Notification-to-Slack" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.253] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m            = "AllowExecutionFromSNS" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.253] [DEBUG] default -       [31m-[0m [0m[1m[0mprincipal[0m[0m     = "sns.amazonaws.com" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.253] [DEBUG] default -       [31m-[0m [0m[1m[0msource_arn[0m[0m    = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.254] [DEBUG] default -       [31m-[0m [0m[1m[0mstatement_id[0m[0m  = "AllowExecutionFromSNS" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.254] [DEBUG] default -     }


[2022-11-17T18:54:39.254] [DEBUG] default - [1m  # aws_nat_gateway.sample-cdktf-nat-gateway[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:54:39.254] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_nat_gateway" "sample-cdktf-nat-gateway" {

[2022-11-17T18:54:39.254] [DEBUG] default -       [31m-[0m [0m[1m[0mallocation_id[0m[0m        = "eipalloc-002ea4c7af48623b4" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.254] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                   = "nat-00ceea80d7383cf8a" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.254] [DEBUG] default -       [31m-[0m [0m[1m[0mnetwork_interface_id[0m[0m = "eni-081e0683836eb2734" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.254] [DEBUG] default -       [31m-[0m [0m[1m[0mprivate_ip[0m[0m           = "10.0.11.35" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.255] [DEBUG] default -       [31m-[0m [0m[1m[0mpublic_ip[0m[0m            = "52.193.167.114" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.255] [DEBUG] default -       [31m-[0m [0m[1m[0msubnet_id[0m[0m            = "subnet-0946ff06d100ac494" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.255] [DEBUG] default -       [31m-[0m [0m[1m[0mtags[0m[0m                 = {

[2022-11-17T18:54:39.255] [DEBUG] default -           [31m-[0m [0m"Name" = "sample-cdktf nat-gateway-production"
        } [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-17T18:54:39.255] [DEBUG] default - [1m  # aws_route_table.sample-cdktf-private-rtb[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:54:39.255] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_route_table" "sample-cdktf-private-rtb" {

[2022-11-17T18:54:39.255] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m               = "rtb-052f170427c67195f" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.255] [DEBUG] default -       [31m-[0m [0m[1m[0mowner_id[0m[0m         = "574185952087" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.255] [DEBUG] default -       [31m-[0m [0m[1m[0mpropagating_vgws[0m[0m = [] [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.256] [DEBUG] default -       [31m-[0m [0m[1m[0mroute[0m[0m            = [

[2022-11-17T18:54:39.256] [DEBUG] default -           [31m-[0m [0m{

[2022-11-17T18:54:39.256] [DEBUG] default -               [31m-[0m [0mcidr_block                = "0.0.0.0/0"

[2022-11-17T18:54:39.256] [DEBUG] default -               [31m-[0m [0megress_only_gateway_id    = ""

[2022-11-17T18:54:39.256] [DEBUG] default -               [31m-[0m [0mgateway_id                = ""

[2022-11-17T18:54:39.256] [DEBUG] default -               [31m-[0m [0minstance_id               = ""
              [31m-[0m [0mipv6_cidr_block           = ""

[2022-11-17T18:54:39.256] [DEBUG] default -               [31m-[0m [0mnat_gateway_id            = "nat-00ceea80d7383cf8a"

[2022-11-17T18:54:39.256] [DEBUG] default -               [31m-[0m [0mnetwork_interface_id      = ""

[2022-11-17T18:54:39.256] [DEBUG] default -               [31m-[0m [0mtransit_gateway_id        = ""

[2022-11-17T18:54:39.256] [DEBUG] default -               [31m-[0m [0mvpc_peering_connection_id = ""

[2022-11-17T18:54:39.256] [DEBUG] default -             },

[2022-11-17T18:54:39.256] [DEBUG] default -         ] [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtags[0m[0m             = {

[2022-11-17T18:54:39.256] [DEBUG] default -           [31m-[0m [0m"Name" = "sample-cdktf Private rtb"

[2022-11-17T18:54:39.257] [DEBUG] default -         } [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.257] [DEBUG] default -       [31m-[0m [0m[1m[0mvpc_id[0m[0m           = "vpc-0ff751b859f0ed54c" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.257] [DEBUG] default -     }

[1m  # aws_route_table.sample-cdktf-public-rtb[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:54:39.257] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_route_table" "sample-cdktf-public-rtb" {

[2022-11-17T18:54:39.257] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m               = "rtb-074349f2eb388142c" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.257] [DEBUG] default -       [31m-[0m [0m[1m[0mowner_id[0m[0m         = "574185952087" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.257] [DEBUG] default -       [31m-[0m [0m[1m[0mpropagating_vgws[0m[0m = [] [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.257] [DEBUG] default -       [31m-[0m [0m[1m[0mroute[0m[0m            = [

[2022-11-17T18:54:39.257] [DEBUG] default -           [31m-[0m [0m{

[2022-11-17T18:54:39.257] [DEBUG] default -               [31m-[0m [0mcidr_block                = "0.0.0.0/0"

[2022-11-17T18:54:39.257] [DEBUG] default -               [31m-[0m [0megress_only_gateway_id    = ""

[2022-11-17T18:54:39.257] [DEBUG] default -               [31m-[0m [0mgateway_id                = "igw-0059619e5b2abdb1d"

[2022-11-17T18:54:39.258] [DEBUG] default -               [31m-[0m [0minstance_id               = ""

[2022-11-17T18:54:39.258] [DEBUG] default -               [31m-[0m [0mipv6_cidr_block           = ""

[2022-11-17T18:54:39.258] [DEBUG] default -               [31m-[0m [0mnat_gateway_id            = ""

[2022-11-17T18:54:39.258] [DEBUG] default -               [31m-[0m [0mnetwork_interface_id      = ""

[2022-11-17T18:54:39.258] [DEBUG] default -               [31m-[0m [0mtransit_gateway_id        = ""

[2022-11-17T18:54:39.258] [DEBUG] default -               [31m-[0m [0mvpc_peering_connection_id = ""

[2022-11-17T18:54:39.258] [DEBUG] default -             },
        ] [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.258] [DEBUG] default -       [31m-[0m [0m[1m[0mtags[0m[0m             = {

[2022-11-17T18:54:39.258] [DEBUG] default -           [31m-[0m [0m"Name" = "sample-cdktf Public rtb"

[2022-11-17T18:54:39.258] [DEBUG] default -         } [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.258] [DEBUG] default -       [31m-[0m [0m[1m[0mvpc_id[0m[0m           = "vpc-0ff751b859f0ed54c" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-17T18:54:39.258] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-private-rtb-association1[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:54:39.258] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_route_table_association" "sample-cdktf-private-rtb-association1" {

[2022-11-17T18:54:39.259] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m             = "rtbassoc-067a712727a8b752a" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.259] [DEBUG] default -       [31m-[0m [0m[1m[0mroute_table_id[0m[0m = "rtb-052f170427c67195f" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.259] [DEBUG] default -       [31m-[0m [0m[1m[0msubnet_id[0m[0m      = "subnet-02a48e46704593c8c" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-17T18:54:39.259] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-private-rtb-association2[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:54:39.259] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_route_table_association" "sample-cdktf-private-rtb-association2" {

[2022-11-17T18:54:39.259] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m             = "rtbassoc-0a199719098de5e67" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.259] [DEBUG] default -       [31m-[0m [0m[1m[0mroute_table_id[0m[0m = "rtb-052f170427c67195f" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.259] [DEBUG] default -       [31m-[0m [0m[1m[0msubnet_id[0m[0m      = "subnet-024f10b18c99de104" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-17T18:54:39.259] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-public-rtb-association1[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:54:39.260] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_route_table_association" "sample-cdktf-public-rtb-association1" {

[2022-11-17T18:54:39.260] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m             = "rtbassoc-0bc8510f59dbe6d02" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.260] [DEBUG] default -       [31m-[0m [0m[1m[0mroute_table_id[0m[0m = "rtb-074349f2eb388142c" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.260] [DEBUG] default -       [31m-[0m [0m[1m[0msubnet_id[0m[0m      = "subnet-0946ff06d100ac494" [90m->[0m [0m[90mnull[0m[0m
    }

[2022-11-17T18:54:39.260] [DEBUG] default - 

[2022-11-17T18:54:39.260] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-public-rtb-association2[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:54:39.260] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_route_table_association" "sample-cdktf-public-rtb-association2" {

[2022-11-17T18:54:39.260] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m             = "rtbassoc-01319113a84b464a4" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.260] [DEBUG] default -       [31m-[0m [0m[1m[0mroute_table_id[0m[0m = "rtb-074349f2eb388142c" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.260] [DEBUG] default -       [31m-[0m [0m[1m[0msubnet_id[0m[0m      = "subnet-07de357bedb7ac869" [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-17T18:54:39.260] [DEBUG] default - [1m  # aws_route_table_association.sample-cdktf-public-rtb1[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:54:39.261] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_route_table_association" "sample-cdktf-public-rtb1" {

[2022-11-17T18:54:39.261] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m             = "rtbassoc-0bc8510f59dbe6d02" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.261] [DEBUG] default -       [31m-[0m [0m[1m[0mroute_table_id[0m[0m = "rtb-074349f2eb388142c" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.261] [DEBUG] default -       [31m-[0m [0m[1m[0msubnet_id[0m[0m      = "subnet-0946ff06d100ac494" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.261] [DEBUG] default -     }


[2022-11-17T18:54:39.261] [DEBUG] default - [1m  # aws_s3_bucket.sample-cdktf-s3[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:54:39.261] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_s3_bucket" "sample-cdktf-s3" {

[2022-11-17T18:54:39.261] [DEBUG] default -       [31m-[0m [0m[1m[0macl[0m[0m                         = "private" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.261] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                         = "arn:aws:s3:::sample-cdktf-s3" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.261] [DEBUG] default -       [31m-[0m [0m[1m[0mbucket[0m[0m                      = "sample-cdktf-s3" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.262] [DEBUG] default -       [31m-[0m [0m[1m[0mbucket_domain_name[0m[0m          = "sample-cdktf-s3.s3.amazonaws.com" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.262] [DEBUG] default -       [31m-[0m [0m[1m[0mbucket_regional_domain_name[0m[0m = "sample-cdktf-s3.s3.ap-northeast-1.amazonaws.com" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.262] [DEBUG] default -       [31m-[0m [0m[1m[0mforce_destroy[0m[0m               = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.262] [DEBUG] default -       [31m-[0m [0m[1m[0mhosted_zone_id[0m[0m              = "Z2M4EHUR26P7ZW" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.262] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                          = "sample-cdktf-s3" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.262] [DEBUG] default -       [31m-[0m [0m[1m[0mregion[0m[0m                      = "ap-northeast-1" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.262] [DEBUG] default -       [31m-[0m [0m[1m[0mrequest_payer[0m[0m               = "BucketOwner" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.262] [DEBUG] default - 
      [31m-[0m [0mversioning {

[2022-11-17T18:54:39.262] [DEBUG] default -           [31m-[0m [0m[1m[0menabled[0m[0m    = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.262] [DEBUG] default -           [31m-[0m [0m[1m[0mmfa_delete[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.262] [DEBUG] default -         }
    }


[2022-11-17T18:54:39.263] [DEBUG] default - [1m  # aws_s3_bucket_object.notification-to-Slack-distzip[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:54:39.263] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_s3_bucket_object" "notification-to-Slack-distzip" {

[2022-11-17T18:54:39.263] [DEBUG] default -       [31m-[0m [0m[1m[0macl[0m[0m           = "private" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.263] [DEBUG] default -       [31m-[0m [0m[1m[0mbucket[0m[0m        = "sample-cdktf-s3" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.263] [DEBUG] default -       [31m-[0m [0m[1m[0mcontent_type[0m[0m  = "zip" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.263] [DEBUG] default -       [31m-[0m [0m[1m[0metag[0m[0m          = "4937147d8b730bb24484f81f57592f61" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.263] [DEBUG] default -       [31m-[0m [0m[1m[0mforce_destroy[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.263] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m            = "notification-to-Slack-dist.zip" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.263] [DEBUG] default -       [31m-[0m [0m[1m[0mkey[0m[0m           = "notification-to-Slack-dist.zip" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.264] [DEBUG] default -       [31m-[0m [0m[1m[0msource[0m[0m        = "/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.264] [DEBUG] default -       [31m-[0m [0m[1m[0mstorage_class[0m[0m = "STANDARD" [90m->[0m [0m[90mnull[0m[0m
    }

[2022-11-17T18:54:39.264] [DEBUG] default - 

[2022-11-17T18:54:39.264] [DEBUG] default - [1m  # aws_security_group.sample-cdktf-security-group[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:54:39.264] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_security_group" "sample-cdktf-security-group" {

[2022-11-17T18:54:39.264] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                    = "arn:aws:ec2:ap-northeast-1:574185952087:security-group/sg-025820cfad8e16182" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.264] [DEBUG] default -       [31m-[0m [0m[1m[0mdescription[0m[0m            = "Managed by Terraform" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.264] [DEBUG] default -       [31m-[0m [0m[1m[0megress[0m[0m                 = [] [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.264] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                     = "sg-025820cfad8e16182" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mingress[0m[0m                = [] [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mname[0m[0m                   = "sample-cdktf" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.265] [DEBUG] default -       [31m-[0m [0m[1m[0mowner_id[0m[0m               = "574185952087" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.265] [DEBUG] default -       [31m-[0m [0m[1m[0mrevoke_rules_on_delete[0m[0m = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.265] [DEBUG] default -       [31m-[0m [0m[1m[0mtags[0m[0m                   = {

[2022-11-17T18:54:39.265] [DEBUG] default -           [31m-[0m [0m"Name" = "sample-cdktf"

[2022-11-17T18:54:39.265] [DEBUG] default -         } [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.265] [DEBUG] default -       [31m-[0m [0m[1m[0mvpc_id[0m[0m                 = "vpc-0ff751b859f0ed54c" [90m->[0m [0m[90mnull[0m[0m
    }

[2022-11-17T18:54:39.265] [DEBUG] default - 

[2022-11-17T18:54:39.265] [DEBUG] default - [1m  # aws_security_group_rule.sample-cdktf-security-egress[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:54:39.265] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_security_group_rule" "sample-cdktf-security-egress" {

[2022-11-17T18:54:39.265] [DEBUG] default -       [31m-[0m [0m[1m[0mcidr_blocks[0m[0m       = [

[2022-11-17T18:54:39.265] [DEBUG] default -           [31m-[0m [0m"0.0.0.0/0",

[2022-11-17T18:54:39.265] [DEBUG] default -         ] [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.265] [DEBUG] default -       [31m-[0m [0m[1m[0mfrom_port[0m[0m         = 0 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.265] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                = "sgrule-3501681800" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.265] [DEBUG] default -       [31m-[0m [0m[1m[0mprotocol[0m[0m          = "-1" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.266] [DEBUG] default -       [31m-[0m [0m[1m[0msecurity_group_id[0m[0m = "sg-025820cfad8e16182" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.266] [DEBUG] default -       [31m-[0m [0m[1m[0mself[0m[0m              = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.266] [DEBUG] default -       [31m-[0m [0m[1m[0mto_port[0m[0m           = 0 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.266] [DEBUG] default -       [31m-[0m [0m[1m[0mtype[0m[0m              = "egress" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.266] [DEBUG] default -     }


[2022-11-17T18:54:39.266] [DEBUG] default - [1m  # aws_security_group_rule.sample-cdktf-security-ingress[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:54:39.266] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_security_group_rule" "sample-cdktf-security-ingress" {

[2022-11-17T18:54:39.266] [DEBUG] default -       [31m-[0m [0m[1m[0mcidr_blocks[0m[0m       = [

[2022-11-17T18:54:39.266] [DEBUG] default -           [31m-[0m [0m"0.0.0.0/0",

[2022-11-17T18:54:39.266] [DEBUG] default -         ] [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.266] [DEBUG] default -       [31m-[0m [0m[1m[0mfrom_port[0m[0m         = 80 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.266] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                = "sgrule-3107037265" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.266] [DEBUG] default -       [31m-[0m [0m[1m[0mprotocol[0m[0m          = "tcp" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.267] [DEBUG] default -       [31m-[0m [0m[1m[0msecurity_group_id[0m[0m = "sg-025820cfad8e16182" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.267] [DEBUG] default -       [31m-[0m [0m[1m[0mself[0m[0m              = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.267] [DEBUG] default -       [31m-[0m [0m[1m[0mto_port[0m[0m           = 80 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.267] [DEBUG] default -       [31m-[0m [0m[1m[0mtype[0m[0m              = "ingress" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.267] [DEBUG] default -     }


[2022-11-17T18:54:39.267] [DEBUG] default - [1m  # aws_sns_topic.sample-cdktf-sns[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:54:39.267] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_sns_topic" "sample-cdktf-sns" {

[2022-11-17T18:54:39.267] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m    = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.267] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m     = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.267] [DEBUG] default -       [31m-[0m [0m[1m[0mname[0m[0m   = "sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.267] [DEBUG] default -       [31m-[0m [0m[1m[0mpolicy[0m[0m = jsonencode(

[2022-11-17T18:54:39.267] [DEBUG] default -             {

[2022-11-17T18:54:39.267] [DEBUG] default -               [31m-[0m [0mId        = "__default_policy_ID"

[2022-11-17T18:54:39.267] [DEBUG] default -               [31m-[0m [0mStatement = [

[2022-11-17T18:54:39.268] [DEBUG] default -                   [31m-[0m [0m{
                      [31m-[0m [0mAction    = [

[2022-11-17T18:54:39.268] [DEBUG] default -                           [31m-[0m [0m"SNS:GetTopicAttributes",

[2022-11-17T18:54:39.268] [DEBUG] default -                           [31m-[0m [0m"SNS:SetTopicAttributes",

[2022-11-17T18:54:39.268] [DEBUG] default -                           [31m-[0m [0m"SNS:AddPermission",

[2022-11-17T18:54:39.268] [DEBUG] default -                           [31m-[0m [0m"SNS:RemovePermission",

[2022-11-17T18:54:39.268] [DEBUG] default -                           [31m-[0m [0m"SNS:DeleteTopic",

[2022-11-17T18:54:39.268] [DEBUG] default -                           [31m-[0m [0m"SNS:Subscribe",

[2022-11-17T18:54:39.268] [DEBUG] default -                           [31m-[0m [0m"SNS:ListSubscriptionsByTopic",

[2022-11-17T18:54:39.268] [DEBUG] default -                           [31m-[0m [0m"SNS:Publish",

[2022-11-17T18:54:39.268] [DEBUG] default -                         ]

[2022-11-17T18:54:39.268] [DEBUG] default -                       [31m-[0m [0mCondition = {

[2022-11-17T18:54:39.268] [DEBUG] default -                           [31m-[0m [0mStringEquals = {

[2022-11-17T18:54:39.268] [DEBUG] default -                               [31m-[0m [0mAWS:SourceOwner = "574185952087"

[2022-11-17T18:54:39.268] [DEBUG] default -                             }
                        }

[2022-11-17T18:54:39.268] [DEBUG] default -                       [31m-[0m [0mEffect    = "Allow"

[2022-11-17T18:54:39.269] [DEBUG] default -                       [31m-[0m [0mPrincipal = {
                          [31m-[0m [0mAWS = "*"
                        }
                      [31m-[0m [0mResource  = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns"
                      [31m-[0m [0mSid       = "__default_statement_ID"
                    },
                ]
              [31m-[0m [0mVersion   = "2008-10-17"
            }
        ) [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_sns_topic_policy.sample-cdktf-sns-policy[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:54:39.269] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_sns_topic_policy" "sample-cdktf-sns-policy" {

[2022-11-17T18:54:39.269] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m    = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.269] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m     = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.269] [DEBUG] default -       [31m-[0m [0m[1m[0mpolicy[0m[0m = jsonencode(
            {
              [31m-[0m [0mStatement = [

[2022-11-17T18:54:39.269] [DEBUG] default -                   [31m-[0m [0m{

[2022-11-17T18:54:39.269] [DEBUG] default -                       [31m-[0m [0mAction    = "SNS:Publish"
                      [31m-[0m [0mEffect    = "Allow"

[2022-11-17T18:54:39.269] [DEBUG] default -                       [31m-[0m [0mPrincipal = {

[2022-11-17T18:54:39.270] [DEBUG] default -                           [31m-[0m [0mService = "events.amazonaws.com"
                        }

[2022-11-17T18:54:39.270] [DEBUG] default -                       [31m-[0m [0mResource  = "*"

[2022-11-17T18:54:39.270] [DEBUG] default -                       [31m-[0m [0mSid       = ""
                    },
                ]

[2022-11-17T18:54:39.270] [DEBUG] default -               [31m-[0m [0mVersion   = "2012-10-17"
            }

[2022-11-17T18:54:39.270] [DEBUG] default -         ) [90m->[0m [0m[90mnull[0m[0m
    }


[2022-11-17T18:54:39.270] [DEBUG] default - [1m  # aws_sns_topic_subscription.sample-cdktf-sns-subscription[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:54:39.270] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_sns_topic_subscription" "sample-cdktf-sns-subscription" {

[2022-11-17T18:54:39.270] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                             = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:c97d1362-74f4-44f7-903f-95a294151b96" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.270] [DEBUG] default -       [31m-[0m [0m[1m[0mconfirmation_timeout_in_minutes[0m[0m = 1 [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.270] [DEBUG] default -       [31m-[0m [0m[1m[0mendpoint[0m[0m                        = "arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.270] [DEBUG] default -       [31m-[0m [0m[1m[0mendpoint_auto_confirms[0m[0m          = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.271] [DEBUG] default -       [31m-[0m [0m[1m[0mid[0m[0m                              = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:c97d1362-74f4-44f7-903f-95a294151b96" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.271] [DEBUG] default -       [31m-[0m [0m[1m[0mprotocol[0m[0m                        = "lambda" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.271] [DEBUG] default -       [31m-[0m [0m[1m[0mraw_message_delivery[0m[0m            = false [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.271] [DEBUG] default -       [31m-[0m [0m[1m[0mtopic_arn[0m[0m                       = "arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.271] [DEBUG] default -     }


[2022-11-17T18:54:39.271] [DEBUG] default - [1m  # aws_subnet.sample-cdktf-private-subnet1[0m will be [1m[31mdestroyed[0m[0m

[2022-11-17T18:54:39.271] [DEBUG] default - [0m  [31m-[0m[0m resource "aws_subnet" "sample-cdktf-private-subnet1" {

[2022-11-17T18:54:39.298] [DEBUG] default -       [31m-[0m [0m[1m[0marn[0m[0m                             = "arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-02a48e46704593c8c" [90m->[0m [0m[90mnull[0m[0m

[2022-11-17T18:54:39.298] [DEBUG] default -       [31m-[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1a" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mavailability_zone_id[0m[0m            = "apne1-az4" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.128.0/20" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                              = "subnet-02a48e46704593c8c" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mowner_id[0m[0m                        = "574185952087" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtags[0m[0m                            = {
          [31m-[0m [0m"Name" = "Private1 AZ1a sample-cdktf"
        } [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mvpc_id[0m[0m                          = "vpc-0ff751b859f0ed54c" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_subnet.sample-cdktf-private-subnet2[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_subnet" "sample-cdktf-private-subnet2" {
      [31m-[0m [0m[1m[0marn[0m[0m                             = "arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-024f10b18c99de104" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1c" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mavailability_zone_id[0m[0m            = "apne1-az1" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.144.0/20" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                              = "subnet-024f10b18c99de104" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mowner_id[0m[0m                        = "574185952087" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtags[0m[0m                            = {
          [31m-[0m [0m"Name" = "Private2 AZ1c sample-cdktf"
        } [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mvpc_id[0m[0m                          = "vpc-0ff751b859f0ed54c" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_subnet.sample-cdktf-public-subnet1[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_subnet" "sample-cdktf-public-subnet1" {
      [31m-[0m [0m[1m[0marn[0m[0m                             = "arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0946ff06d100ac494" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1a" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mavailability_zone_id[0m[0m            = "apne1-az4" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.0.0/20" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                              = "subnet-0946ff06d100ac494" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mowner_id[0m[0m                        = "574185952087" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtags[0m[0m                            = {
          [31m-[0m [0m"Name" = "Public1 AZ1a sample-cdktf"
        } [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mvpc_id[0m[0m                          = "vpc-0ff751b859f0ed54c" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_subnet.sample-cdktf-public-subnet2[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_subnet" "sample-cdktf-public-subnet2" {
      [31m-[0m [0m[1m[0marn[0m[0m                             = "arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-07de357bedb7ac869" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0massign_ipv6_address_on_creation[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mavailability_zone[0m[0m               = "ap-northeast-1c" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mavailability_zone_id[0m[0m            = "apne1-az1" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mcidr_block[0m[0m                      = "10.0.16.0/20" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                              = "subnet-07de357bedb7ac869" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mmap_public_ip_on_launch[0m[0m         = true [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mowner_id[0m[0m                        = "574185952087" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtags[0m[0m                            = {
          [31m-[0m [0m"Name" = "Public2 AZ1c sample-cdktf"
        } [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mvpc_id[0m[0m                          = "vpc-0ff751b859f0ed54c" [90m->[0m [0m[90mnull[0m[0m
    }

[1m  # aws_vpc.sample-cdktf-vpc[0m will be [1m[31mdestroyed[0m[0m
[0m  [31m-[0m[0m resource "aws_vpc" "sample-cdktf-vpc" {
      [31m-[0m [0m[1m[0marn[0m[0m                              = "arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-0ff751b859f0ed54c" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0massign_generated_ipv6_cidr_block[0m[0m = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mcidr_block[0m[0m                       = "10.0.0.0/16" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdefault_network_acl_id[0m[0m           = "acl-0623ddaec88fb5769" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdefault_route_table_id[0m[0m           = "rtb-064835fcd94e63e1c" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdefault_security_group_id[0m[0m        = "sg-0e8f1acaacb82544a" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mdhcp_options_id[0m[0m                  = "dopt-03da244493f3f476d" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0menable_classiclink[0m[0m               = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0menable_classiclink_dns_support[0m[0m   = false [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0menable_dns_hostnames[0m[0m             = true [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0menable_dns_support[0m[0m               = true [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mid[0m[0m                               = "vpc-0ff751b859f0ed54c" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0minstance_tenancy[0m[0m                 = "default" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mmain_route_table_id[0m[0m              = "rtb-064835fcd94e63e1c" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mowner_id[0m[0m                         = "574185952087" [90m->[0m [0m[90mnull[0m[0m
      [31m-[0m [0m[1m[0mtags[0m[0m                             = {
          [31m-[0m [0m"Name" = "sample-cdktf production"
        } [90m->[0m [0m[90mnull[0m[0m
    }

[0m[1mPlan:[0m 0 to add, 0 to change, 46 to destroy.[0m
[33m
[1m[33mWarning: [0m[0m[1m"condition.0.values": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m

[0m  on cdk.tf.json line 681, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:
 681:       [4m}[0m
[0m
[0m[0m
[33m

[2022-11-17T18:54:39.298] [DEBUG] default - [1m[33mWarning: [0m[0m[1m"condition.0.field": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m


[2022-11-17T18:54:39.299] [DEBUG] default - [0m  on cdk.tf.json line 681, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:

[2022-11-17T18:54:39.299] [DEBUG] default -  681:       [4m}[0m
[0m
[0m[0m


[2022-11-17T18:54:39.299] [DEBUG] default - ------------------------------------------------------------------------


[2022-11-17T18:54:39.299] [DEBUG] default - This plan was saved to: /Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/cdktf.out/plan


[2022-11-17T18:54:39.299] [DEBUG] default - To perform exactly these actions, run the following command to apply:

[2022-11-17T18:54:39.299] [DEBUG] default -     terraform apply "/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/cdktf.out/plan"

[2022-11-17T18:54:39.300] [DEBUG] default - 

[2022-11-17T18:54:40.204] [DEBUG] default - {"format_version":"0.1","terraform_version":"0.14.8","planned_values":{"root_module":{}},"resource_changes":[{"address":"aws_alb.sample-cdktf-alb","mode":"managed","type":"aws_alb","name":"sample-cdktf-alb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"access_logs":[{"bucket":"","enabled":false,"prefix":""}],"arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:loadbalancer/app/sample-cdktf-alb/8e7bf5321d2d6d66","arn_suffix":"app/sample-cdktf-alb/8e7bf5321d2d6d66","dns_name":"sample-cdktf-alb-671867510.ap-northeast-1.elb.amazonaws.com","drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":true,"enable_deletion_protection":false,"enable_http2":true,"id":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:loadbalancer/app/sample-cdktf-alb/8e7bf5321d2d6d66","idle_timeout":60,"internal":false,"ip_address_type":"ipv4","load_balancer_type":"application","name":"sample-cdktf-alb","name_prefix":null,"security_groups":["sg-025820cfad8e16182","sg-0e8f1acaacb82544a"],"subnet_mapping":[{"allocation_id":"","subnet_id":"subnet-07de357bedb7ac869"},{"allocation_id":"","subnet_id":"subnet-0946ff06d100ac494"}],"subnets":["subnet-07de357bedb7ac869","subnet-0946ff06d100ac494"],"tags":null,"timeouts":null,"vpc_id":"vpc-0ff751b859f0ed54c","zone_id":"Z14GRHDCWA56QT"},"after":null,"after_unknown":{}}},{"address":"aws_alb_listener.sample-cdktf-alb-listener","mode":"managed","type":"aws_alb_listener","name":"sample-cdktf-alb-listener","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener/app/sample-cdktf-alb/8e7bf5321d2d6d66/b27077b11d925401","certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[{"content_type":"text/plain","message_body":"OK","status_code":"200"}],"forward":[],"order":1,"redirect":[],"target_group_arn":"","type":"fixed-response"}],"id":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener/app/sample-cdktf-alb/8e7bf5321d2d6d66/b27077b11d925401","load_balancer_arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:loadbalancer/app/sample-cdktf-alb/8e7bf5321d2d6d66","port":80,"protocol":"HTTP","ssl_policy":"","timeouts":null},"after":null,"after_unknown":{}}},{"address":"aws_alb_listener_rule.sample-cdktf-alb-listener-rule","mode":"managed","type":"aws_alb_listener_rule","name":"sample-cdktf-alb-listener-rule","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"order":1,"redirect":[],"target_group_arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/4d2039743d2c1779","type":"forward"}],"arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener-rule/app/sample-cdktf-alb/8e7bf5321d2d6d66/b27077b11d925401/4e6b3937e2325782","condition":[{"field":"path-pattern","host_header":[],"http_header":[],"http_request_method":[],"path_pattern":[{"values":["*"]}],"query_string":[],"source_ip":[],"values":["*"]}],"id":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener-rule/app/sample-cdktf-alb/8e7bf5321d2d6d66/b27077b11d925401/4e6b3937e2325782","listener_arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener/app/sample-cdktf-alb/8e7bf5321d2d6d66/b27077b11d925401","priority":100},"after":null,"after_unknown":{}}},{"address":"aws_alb_target_group.sample-cdktf-alb-target-group","mode":"managed","type":"aws_alb_target_group","name":"sample-cdktf-alb-target-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/4d2039743d2c1779","arn_suffix":"targetgroup/sample-cdktf-alb-target-group/4d2039743d2c1779","deregistration_delay":300,"health_check":[{"enabled":true,"healthy_threshold":3,"interval":30,"matcher":"200","path":"/","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"id":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/4d2039743d2c1779","lambda_multi_value_headers_enabled":false,"load_balancing_algorithm_type":"round_robin","name":"sample-cdktf-alb-target-group","name_prefix":null,"port":80,"protocol":"HTTP","proxy_protocol_v2":false,"slow_start":0,"stickiness":[{"cookie_duration":86400,"enabled":false,"type":"lb_cookie"}],"tags":null,"target_type":"ip","vpc_id":"vpc-0ff751b859f0ed54c"},"after":null,"after_unknown":{}}},{"address":"aws_cloudwatch_event_rule.sample-cdktf-event-rule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"sample-cdktf-event-rule","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:events:ap-northeast-1:574185952087:rule/capture-ecr-update","description":"Capture each AWS ECR Update","event_pattern":"{\"detail\":{\"action-type\":[\"PUSH\"],\"result\":[\"SUCCESS\"]},\"detail-type\":[\"ECR Image Action\"],\"source\":[\"aws.ecr\"]}","id":"capture-ecr-update","is_enabled":true,"name":"capture-ecr-update","name_prefix":null,"role_arn":"","schedule_expression":"","tags":null},"after":null,"after_unknown":{}}},{"address":"aws_cloudwatch_event_target.sample-cdktf-event-target","mode":"managed","type":"aws_cloudwatch_event_target","name":"sample-cdktf-event-target","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","batch_target":[],"ecs_target":[],"id":"capture-ecr-update-SendToSNS","input":"","input_path":"","input_transformer":[],"kinesis_target":[],"role_arn":"","rule":"capture-ecr-update","run_command_targets":[],"sqs_target":[],"target_id":"SendToSNS"},"after":null,"after_unknown":{}}},{"address":"aws_cloudwatch_log_group.sample-cdktf-ecs-task-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-ecs-task-log-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:logs:ap-northeast-1:574185952087:log-group:/aws/ecs/task-for-cdktf:*","id":"/aws/ecs/task-for-cdktf","kms_key_id":"","name":"/aws/ecs/task-for-cdktf","name_prefix":null,"retention_in_days":0,"tags":null},"after":null,"after_unknown":{}}},{"address":"aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-notification-to-slack-log-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:logs:ap-northeast-1:574185952087:log-group:/aws/lambda/Sample-Lambda-Notification-to-Slack:*","id":"/aws/lambda/Sample-Lambda-Notification-to-Slack","kms_key_id":"","name":"/aws/lambda/Sample-Lambda-Notification-to-Slack","name_prefix":null,"retention_in_days":0,"tags":null},"after":null,"after_unknown":{}}},{"address":"aws_ecr_repository.sample-cdktf-repository","mode":"managed","type":"aws_ecr_repository","name":"sample-cdktf-repository","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ecr:ap-northeast-1:574185952087:repository/project/sample-ecr","id":"project/sample-ecr","image_scanning_configuration":[{"scan_on_push":false}],"image_tag_mutability":"MUTABLE","name":"project/sample-ecr","registry_id":"574185952087","repository_url":"574185952087.dkr.ecr.ap-northeast-1.amazonaws.com/project/sample-ecr","tags":null,"timeouts":null},"after":null,"after_unknown":{}}},{"address":"aws_ecs_cluster.sample-cdktf-cluster","mode":"managed","type":"aws_ecs_cluster","name":"sample-cdktf-cluster","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster","capacity_providers":null,"default_capacity_provider_strategy":[],"id":"arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster","name":"sample-cd
[2022-11-17T18:54:40.204] [DEBUG] default - ktf-cluster","setting":[],"tags":null},"after":null,"after_unknown":{}}},{"address":"aws_ecs_service.sample-cdktf-ecs-service","mode":"managed","type":"aws_ecs_service","name":"sample-cdktf-ecs-service","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"capacity_provider_strategy":[],"cluster":"arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster","deployment_controller":[{"type":"ECS"}],"deployment_maximum_percent":200,"deployment_minimum_healthy_percent":100,"desired_count":1,"enable_ecs_managed_tags":false,"force_new_deployment":null,"health_check_grace_period_seconds":0,"iam_role":"aws-service-role","id":"arn:aws:ecs:ap-northeast-1:574185952087:service/sample-cdktf-cluster/sample-cdktf-ecs-service","launch_type":"FARGATE","load_balancer":[{"container_name":"sample-cdktf-container","container_port":9000,"elb_name":"","target_group_arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/4d2039743d2c1779"}],"name":"sample-cdktf-ecs-service","network_configuration":[{"assign_public_ip":false,"security_groups":["sg-0e8f1acaacb82544a"],"subnets":["subnet-024f10b18c99de104","subnet-02a48e46704593c8c"]}],"ordered_placement_strategy":[],"placement_constraints":[],"placement_strategy":[],"platform_version":"LATEST","propagate_tags":"NONE","scheduling_strategy":"REPLICA","service_registries":[],"tags":null,"task_definition":"task-for-cdktf:48","timeouts":null},"after":null,"after_unknown":{}}},{"address":"aws_ecs_task_definition.sample-cdktf-task","mode":"managed","type":"aws_ecs_task_definition","name":"sample-cdktf-task","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ecs:ap-northeast-1:574185952087:task-definition/task-for-cdktf:48","container_definitions":"[{\"cpu\":0,\"environment\":[],\"essential\":true,\"image\":\"574185952087.dkr.ecr.ap-northeast-1.amazonaws.com/project/sample-ecr:latest\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"/aws/ecs/task-for-cdktf\",\"awslogs-region\":\"ap-northeast-1\",\"awslogs-stream-prefix\":\"ecs\"}},\"mountPoints\":[],\"name\":\"sample-cdktf-container\",\"portMappings\":[{\"containerPort\":9000,\"hostPort\":9000,\"protocol\":\"tcp\"}],\"volumesFrom\":[]}]","cpu":"512","execution_role_arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskExecutionRole","family":"task-for-cdktf","id":"task-for-cdktf","inference_accelerator":[],"ipc_mode":"","memory":"1024","network_mode":"awsvpc","pid_mode":"","placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":["FARGATE"],"revision":48,"tags":null,"task_role_arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskRole","volume":[]},"after":null,"after_unknown":{}}},{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"allocation_id":null,"associate_with_private_ip":null,"association_id":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-002ea4c7af48623b4","instance":"","network_interface":"","private_dns":null,"private_ip":"","public_dns":"ec2-52-193-167-114.ap-northeast-1.compute.amazonaws.com","public_ip":"52.193.167.114","public_ipv4_pool":"amazon","tags":null,"timeouts":null,"vpc":true},"after":null,"after_unknown":{}}},{"address":"aws_iam_policy.ecs-task-execution-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:iam::574185952087:policy/ecs-task-execution-policy","description":"Policy for updating ECS tasks","id":"arn:aws:iam::574185952087:policy/ecs-task-execution-policy","name":"ecs-task-execution-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"},"after":null,"after_unknown":{}}},{"address":"aws_iam_policy.ecs-task-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:iam::574185952087:policy/ecs-task-policy","description":"Policy for updating ECS tasks","id":"arn:aws:iam::574185952087:policy/ecs-task-policy","name":"ecs-task-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecs:DescribeServices\",\n              \"ecs:CreateTaskSet\",\n              \"ecs:UpdateServicePrimaryTaskSet\",\n              \"ecs:DeleteTaskSet\",\n              \"elasticloadbalancing:DescribeTargetGroups\",\n              \"elasticloadbalancing:DescribeListeners\",\n              \"elasticloadbalancing:ModifyListener\",\n              \"elasticloadbalancing:DescribeRules\",\n              \"elasticloadbalancing:ModifyRule\",\n              \"lambda:InvokeFunction\",\n              \"cloudwatch:DescribeAlarms\",\n              \"sns:Publish\",\n              \"s3:GetObject\",\n              \"s3:GetObjectVersion\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"},"after":null,"after_unknown":{}}},{"address":"aws_iam_policy.lambda-logging","mode":"managed","type":"aws_iam_policy","name":"lambda-logging","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging","description":"IAM policy for logging from a lambda","id":"arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging","name":"sample-cdktf-lambda-logging","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"iam:PassRole\",\n              \"ecs:RegisterTaskDefinition\",\n              \"ecs:UpdateService\",\n              \"logs:CreateLogGroup\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"arn:aws:logs:*:*:*\",\n              \"arn:aws:ecs:*:*:*\",\n              \"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskExecutionRole\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"},"after":null,"after_unknown":{}}},{"address":"aws_iam_role.ecsTaskExecutionRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskExecutionRole","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-11-17T09:21:57Z","description":"","force_detach_policies":false,"id":"sample-cdktf-ecsTaskExecutionRole","max_session_duration":3600,"name":"sample-cdktf-ecsTaskExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null,"unique_id":"AROAYLMBGKNL6HREXLCQR"},"after":null,"after_unknown":{}}},{"address":"aws_iam_role.ecsTaskRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskRole","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskRole","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Servic
[2022-11-17T18:54:40.204] [DEBUG] default - e\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-11-17T09:21:57Z","description":"","force_detach_policies":false,"id":"sample-cdktf-ecsTaskRole","max_session_duration":3600,"name":"sample-cdktf-ecsTaskRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null,"unique_id":"AROAYLMBGKNLYKI6C5ZOP"},"after":null,"after_unknown":{}}},{"address":"aws_iam_role.lambdaExecutionRole","mode":"managed","type":"aws_iam_role","name":"lambdaExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:iam::574185952087:role/sample-cdktf-lambdaExecutionRole","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"lambda.amazonaws.com\",\"ecs-tasks.amazonaws.com\"]},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-11-17T09:21:57Z","description":"","force_detach_policies":false,"id":"sample-cdktf-lambdaExecutionRole","max_session_duration":3600,"name":"sample-cdktf-lambdaExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null,"unique_id":"AROAYLMBGKNLQF6DHWJLR"},"after":null,"after_unknown":{}}},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-execution-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"id":"sample-cdktf-ecsTaskExecutionRole-20221117092200405100000001","policy_arn":"arn:aws:iam::574185952087:policy/ecs-task-execution-policy","role":"sample-cdktf-ecsTaskExecutionRole"},"after":null,"after_unknown":{}}},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"id":"sample-cdktf-ecsTaskRole-20221117092201624900000002","policy_arn":"arn:aws:iam::574185952087:policy/ecs-task-policy","role":"sample-cdktf-ecsTaskRole"},"after":null,"after_unknown":{}}},{"address":"aws_iam_role_policy_attachment.attach-lambda-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-lambda-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"id":"sample-cdktf-lambdaExecutionRole-20221117092202035100000003","policy_arn":"arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging","role":"sample-cdktf-lambdaExecutionRole"},"after":null,"after_unknown":{}}},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-0059619e5b2abdb1d","id":"igw-0059619e5b2abdb1d","owner_id":"574185952087","tags":{"Name":"igw-production sample-cdktf"},"vpc_id":"vpc-0ff751b859f0ed54c"},"after":null,"after_unknown":{}}},{"address":"aws_lambda_function.Sample-Lambda-Notification-to-Slack","mode":"managed","type":"aws_lambda_function","name":"Sample-Lambda-Notification-to-Slack","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack","dead_letter_config":[],"description":"","environment":[{"variables":{"SLACK_API_TOKEN":"xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp","SLACK_CHANNEL":"C049CPNKHMJ"}}],"file_system_config":[],"filename":null,"function_name":"Sample-Lambda-Notification-to-Slack","handler":"index.handler","id":"Sample-Lambda-Notification-to-Slack","invoke_arn":"arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack/invocations","kms_key_arn":"","last_modified":"2022-11-17T09:22:19.111+0000","layers":null,"memory_size":128,"publish":false,"qualified_arn":"arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack:$LATEST","reserved_concurrent_executions":-1,"role":"arn:aws:iam::574185952087:role/sample-cdktf-lambdaExecutionRole","runtime":"nodejs12.x","s3_bucket":"sample-cdktf-s3","s3_key":"notification-to-Slack-dist.zip","s3_object_version":null,"source_code_hash":"tCCpjM8bYGUMlYE1itasARiG+ZOmfdgQJWCcxS1eRIg=","source_code_size":13887229,"tags":null,"timeout":30,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"after":null,"after_unknown":{}}},{"address":"aws_lambda_permission.permission-to-sns","mode":"managed","type":"aws_lambda_permission","name":"permission-to-sns","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"Sample-Lambda-Notification-to-Slack","id":"AllowExecutionFromSNS","principal":"sns.amazonaws.com","qualifier":"","source_account":null,"source_arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","statement_id":"AllowExecutionFromSNS","statement_id_prefix":null},"after":null,"after_unknown":{}}},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"allocation_id":"eipalloc-002ea4c7af48623b4","id":"nat-00ceea80d7383cf8a","network_interface_id":"eni-081e0683836eb2734","private_ip":"10.0.11.35","public_ip":"52.193.167.114","subnet_id":"subnet-0946ff06d100ac494","tags":{"Name":"sample-cdktf nat-gateway-production"}},"after":null,"after_unknown":{}}},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"id":"rtb-052f170427c67195f","owner_id":"574185952087","propagating_vgws":[],"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"nat-00ceea80d7383cf8a","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Private rtb"},"vpc_id":"vpc-0ff751b859f0ed54c"},"after":null,"after_unknown":{}}},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"id":"rtb-074349f2eb388142c","owner_id":"574185952087","propagating_vgws":[],"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"igw-0059619e5b2abdb1d","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Public rtb"},"vpc_id":"vpc-0ff751b859f0ed54c"},"after":null,"after_unknown":{}}},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"gateway_id":null,"id":"rtbassoc-067a712727a8b752a","route_table_id":"rtb-052f170427c67195f","subnet_id":"subnet-02a48e46704593c8c"},"after":null,"after_unknown":{}}},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"gateway_id":null,"id":"rtbassoc-0a199719098de5e67","route_table_id":"rtb-052f170427c67195f","subnet_id":"subnet-024f10b18c99de104"},"after":null,"after_unknown":{}}},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-associ
[2022-11-17T18:54:40.204] [DEBUG] default - ation1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"gateway_id":null,"id":"rtbassoc-0bc8510f59dbe6d02","route_table_id":"rtb-074349f2eb388142c","subnet_id":"subnet-0946ff06d100ac494"},"after":null,"after_unknown":{}}},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"gateway_id":null,"id":"rtbassoc-01319113a84b464a4","route_table_id":"rtb-074349f2eb388142c","subnet_id":"subnet-07de357bedb7ac869"},"after":null,"after_unknown":{}}},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"gateway_id":null,"id":"rtbassoc-0bc8510f59dbe6d02","route_table_id":"rtb-074349f2eb388142c","subnet_id":"subnet-0946ff06d100ac494"},"after":null,"after_unknown":{}}},{"address":"aws_s3_bucket.sample-cdktf-s3","mode":"managed","type":"aws_s3_bucket","name":"sample-cdktf-s3","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"acceleration_status":"","acl":"private","arn":"arn:aws:s3:::sample-cdktf-s3","bucket":"sample-cdktf-s3","bucket_domain_name":"sample-cdktf-s3.s3.amazonaws.com","bucket_prefix":null,"bucket_regional_domain_name":"sample-cdktf-s3.s3.ap-northeast-1.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[],"hosted_zone_id":"Z2M4EHUR26P7ZW","id":"sample-cdktf-s3","lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":null,"region":"ap-northeast-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[],"tags":null,"versioning":[{"enabled":false,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null},"after":null,"after_unknown":{}}},{"address":"aws_s3_bucket_object.notification-to-Slack-distzip","mode":"managed","type":"aws_s3_bucket_object","name":"notification-to-Slack-distzip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"acl":"private","bucket":"sample-cdktf-s3","cache_control":"","content":null,"content_base64":null,"content_disposition":"","content_encoding":"","content_language":"","content_type":"zip","etag":"4937147d8b730bb24484f81f57592f61","force_destroy":false,"id":"notification-to-Slack-dist.zip","key":"notification-to-Slack-dist.zip","kms_key_id":null,"metadata":null,"object_lock_legal_hold_status":"","object_lock_mode":"","object_lock_retain_until_date":"","server_side_encryption":"","source":"/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip","storage_class":"STANDARD","tags":null,"version_id":"","website_redirect":""},"after":null,"after_unknown":{}}},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:security-group/sg-025820cfad8e16182","description":"Managed by Terraform","egress":[],"id":"sg-025820cfad8e16182","ingress":[],"name":"sample-cdktf","name_prefix":null,"owner_id":"574185952087","revoke_rules_on_delete":false,"tags":{"Name":"sample-cdktf"},"timeouts":null,"vpc_id":"vpc-0ff751b859f0ed54c"},"after":null,"after_unknown":{}}},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"id":"sgrule-3501681800","ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_group_id":"sg-025820cfad8e16182","self":false,"source_security_group_id":null,"to_port":0,"type":"egress"},"after":null,"after_unknown":{}}},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":80,"id":"sgrule-3107037265","ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_group_id":"sg-025820cfad8e16182","self":false,"source_security_group_id":null,"to_port":80,"type":"ingress"},"after":null,"after_unknown":{}}},{"address":"aws_sns_topic.sample-cdktf-sns","mode":"managed","type":"aws_sns_topic","name":"sample-cdktf-sns","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"application_failure_feedback_role_arn":"","application_success_feedback_role_arn":"","application_success_feedback_sample_rate":null,"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","delivery_policy":"","display_name":"","http_failure_feedback_role_arn":"","http_success_feedback_role_arn":"","http_success_feedback_sample_rate":null,"id":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","kms_master_key_id":"","lambda_failure_feedback_role_arn":"","lambda_success_feedback_role_arn":"","lambda_success_feedback_sample_rate":null,"name":"sample-cdktf-sns","name_prefix":null,"policy":"{\"Version\":\"2008-10-17\",\"Id\":\"__default_policy_ID\",\"Statement\":[{\"Sid\":\"__default_statement_ID\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Action\":[\"SNS:GetTopicAttributes\",\"SNS:SetTopicAttributes\",\"SNS:AddPermission\",\"SNS:RemovePermission\",\"SNS:DeleteTopic\",\"SNS:Subscribe\",\"SNS:ListSubscriptionsByTopic\",\"SNS:Publish\"],\"Resource\":\"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns\",\"Condition\":{\"StringEquals\":{\"AWS:SourceOwner\":\"574185952087\"}}}]}","sqs_failure_feedback_role_arn":"","sqs_success_feedback_role_arn":"","sqs_success_feedback_sample_rate":null,"tags":null},"after":null,"after_unknown":{}}},{"address":"aws_sns_topic_policy.sample-cdktf-sns-policy","mode":"managed","type":"aws_sns_topic_policy","name":"sample-cdktf-sns-policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","id":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"events.amazonaws.com\"},\"Action\":\"SNS:Publish\",\"Resource\":\"*\"}]}"},"after":null,"after_unknown":{}}},{"address":"aws_sns_topic_subscription.sample-cdktf-sns-subscription","mode":"managed","type":"aws_sns_topic_subscription","name":"sample-cdktf-sns-subscription","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:c97d1362-74f4-44f7-903f-95a294151b96","confirmation_timeout_in_minutes":1,"delivery_policy":"","endpoint":"arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack","endpoint_auto_confirms":false,"filter_policy":"","id":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:c97d1362-74f4-44f7-903f-95a294151b96","protocol":"lambda","raw_message_delivery":false,"topic_arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns"},"after":null,"after_unknown":{}}},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-02a48e46704593c8c","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.128.0/20","id":"subnet-02a48e46704593c8c","ipv6_cidr_block":"","ipv6_cidr_block_associa
[2022-11-17T18:54:40.204] [DEBUG] default - tion_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Private1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-0ff751b859f0ed54c"},"after":null,"after_unknown":{}}},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-024f10b18c99de104","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.144.0/20","id":"subnet-024f10b18c99de104","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Private2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-0ff751b859f0ed54c"},"after":null,"after_unknown":{}}},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0946ff06d100ac494","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.0.0/20","id":"subnet-0946ff06d100ac494","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-0ff751b859f0ed54c"},"after":null,"after_unknown":{}}},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-07de357bedb7ac869","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.16.0/20","id":"subnet-07de357bedb7ac869","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-0ff751b859f0ed54c"},"after":null,"after_unknown":{}}},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["delete"],"before":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-0ff751b859f0ed54c","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-0623ddaec88fb5769","default_route_table_id":"rtb-064835fcd94e63e1c","default_security_group_id":"sg-0e8f1acaacb82544a","dhcp_options_id":"dopt-03da244493f3f476d","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":true,"enable_dns_support":true,"id":"vpc-0ff751b859f0ed54c","instance_tenancy":"default","ipv6_association_id":"","ipv6_cidr_block":"","main_route_table_id":"rtb-064835fcd94e63e1c","owner_id":"574185952087","tags":{"Name":"sample-cdktf production"}},"after":null,"after_unknown":{}}}],"prior_state":{"format_version":"0.1","terraform_version":"0.14.8","values":{"root_module":{"resources":[{"address":"aws_alb.sample-cdktf-alb","mode":"managed","type":"aws_alb","name":"sample-cdktf-alb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"access_logs":[{"bucket":"","enabled":false,"prefix":""}],"arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:loadbalancer/app/sample-cdktf-alb/8e7bf5321d2d6d66","arn_suffix":"app/sample-cdktf-alb/8e7bf5321d2d6d66","dns_name":"sample-cdktf-alb-671867510.ap-northeast-1.elb.amazonaws.com","drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":true,"enable_deletion_protection":false,"enable_http2":true,"id":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:loadbalancer/app/sample-cdktf-alb/8e7bf5321d2d6d66","idle_timeout":60,"internal":false,"ip_address_type":"ipv4","load_balancer_type":"application","name":"sample-cdktf-alb","name_prefix":null,"security_groups":["sg-025820cfad8e16182","sg-0e8f1acaacb82544a"],"subnet_mapping":[{"allocation_id":"","subnet_id":"subnet-07de357bedb7ac869"},{"allocation_id":"","subnet_id":"subnet-0946ff06d100ac494"}],"subnets":["subnet-07de357bedb7ac869","subnet-0946ff06d100ac494"],"tags":null,"timeouts":null,"vpc_id":"vpc-0ff751b859f0ed54c","zone_id":"Z14GRHDCWA56QT"},"depends_on":["aws_security_group.sample-cdktf-security-group","aws_subnet.sample-cdktf-public-subnet1","aws_subnet.sample-cdktf-public-subnet2","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_alb_listener.sample-cdktf-alb-listener","mode":"managed","type":"aws_alb_listener","name":"sample-cdktf-alb-listener","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener/app/sample-cdktf-alb/8e7bf5321d2d6d66/b27077b11d925401","certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[{"content_type":"text/plain","message_body":"OK","status_code":"200"}],"forward":[],"order":1,"redirect":[],"target_group_arn":"","type":"fixed-response"}],"id":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener/app/sample-cdktf-alb/8e7bf5321d2d6d66/b27077b11d925401","load_balancer_arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:loadbalancer/app/sample-cdktf-alb/8e7bf5321d2d6d66","port":80,"protocol":"HTTP","ssl_policy":"","timeouts":null},"depends_on":["aws_alb.sample-cdktf-alb","aws_security_group.sample-cdktf-security-group","aws_subnet.sample-cdktf-public-subnet1","aws_subnet.sample-cdktf-public-subnet2","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_alb_listener_rule.sample-cdktf-alb-listener-rule","mode":"managed","type":"aws_alb_listener_rule","name":"sample-cdktf-alb-listener-rule","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"order":1,"redirect":[],"target_group_arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/4d2039743d2c1779","type":"forward"}],"arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener-rule/app/sample-cdktf-alb/8e7bf5321d2d6d66/b27077b11d925401/4e6b3937e2325782","condition":[{"field":"path-pattern","host_header":[],"http_header":[],"http_request_method":[],"path_pattern":[{"values":["*"]}],"query_string":[],"source_ip":[],"values":["*"]}],"id":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener-rule/app/sample-cdktf-alb/8e7bf5321d2d6d66/b27077b11d925401/4e6b3937e2325782","listener_arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener/app/sample-cdktf-alb/8e7bf5321d2d6d66/b27077b11d925401","priority":100},"depends_on":["aws_alb.sample-cdktf-alb","aws_alb_listener.sample-cdktf-alb-listener","aws_alb_target_group.sample-cdktf-alb-target-group","aws_security_group.sample-cdktf-security-group","aws_subnet.sample-cdktf-public-subnet1","aws_subnet.sample-cdktf-public-subnet2","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_alb_target_group.sample-cdktf-alb-target-group","mode":"managed","type":"aws_alb_target_group","name":"sample-cdktf-alb-target-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/4d2039743d2c1779","arn_suffix":"targetgroup/sample-cdktf-alb-target-group/4d2039743d2c1779","deregistration_delay":300,"health_check":[{"enabled":true,"healthy_threshold":3,"interval":30,"matcher":"200","path":"/","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"id":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/4d2039743d2c1779","lambda_multi_value_headers_enabled":fal
[2022-11-17T18:54:40.205] [DEBUG] default - se,"load_balancing_algorithm_type":"round_robin","name":"sample-cdktf-alb-target-group","name_prefix":null,"port":80,"protocol":"HTTP","proxy_protocol_v2":false,"slow_start":0,"stickiness":[{"cookie_duration":86400,"enabled":false,"type":"lb_cookie"}],"tags":null,"target_type":"ip","vpc_id":"vpc-0ff751b859f0ed54c"},"depends_on":["aws_alb.sample-cdktf-alb","aws_security_group.sample-cdktf-security-group","aws_subnet.sample-cdktf-public-subnet1","aws_subnet.sample-cdktf-public-subnet2","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_cloudwatch_event_rule.sample-cdktf-event-rule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"sample-cdktf-event-rule","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:events:ap-northeast-1:574185952087:rule/capture-ecr-update","description":"Capture each AWS ECR Update","event_pattern":"{\"detail\":{\"action-type\":[\"PUSH\"],\"result\":[\"SUCCESS\"]},\"detail-type\":[\"ECR Image Action\"],\"source\":[\"aws.ecr\"]}","id":"capture-ecr-update","is_enabled":true,"name":"capture-ecr-update","name_prefix":null,"role_arn":"","schedule_expression":"","tags":null}},{"address":"aws_cloudwatch_event_target.sample-cdktf-event-target","mode":"managed","type":"aws_cloudwatch_event_target","name":"sample-cdktf-event-target","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","batch_target":[],"ecs_target":[],"id":"capture-ecr-update-SendToSNS","input":"","input_path":"","input_transformer":[],"kinesis_target":[],"role_arn":"","rule":"capture-ecr-update","run_command_targets":[],"sqs_target":[],"target_id":"SendToSNS"},"depends_on":["aws_cloudwatch_event_rule.sample-cdktf-event-rule","aws_sns_topic.sample-cdktf-sns"]},{"address":"aws_cloudwatch_log_group.sample-cdktf-ecs-task-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-ecs-task-log-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:logs:ap-northeast-1:574185952087:log-group:/aws/ecs/task-for-cdktf:*","id":"/aws/ecs/task-for-cdktf","kms_key_id":"","name":"/aws/ecs/task-for-cdktf","name_prefix":null,"retention_in_days":0,"tags":null},"depends_on":["aws_ecr_repository.sample-cdktf-repository","aws_ecs_task_definition.sample-cdktf-task","aws_iam_role.ecsTaskExecutionRole","aws_iam_role.ecsTaskRole"]},{"address":"aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-notification-to-slack-log-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:logs:ap-northeast-1:574185952087:log-group:/aws/lambda/Sample-Lambda-Notification-to-Slack:*","id":"/aws/lambda/Sample-Lambda-Notification-to-Slack","kms_key_id":"","name":"/aws/lambda/Sample-Lambda-Notification-to-Slack","name_prefix":null,"retention_in_days":0,"tags":null},"depends_on":["aws_iam_role.lambdaExecutionRole","aws_lambda_function.Sample-Lambda-Notification-to-Slack","aws_s3_bucket.sample-cdktf-s3","aws_s3_bucket_object.notification-to-Slack-distzip"]},{"address":"aws_ecr_repository.sample-cdktf-repository","mode":"managed","type":"aws_ecr_repository","name":"sample-cdktf-repository","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ecr:ap-northeast-1:574185952087:repository/project/sample-ecr","id":"project/sample-ecr","image_scanning_configuration":[{"scan_on_push":false}],"image_tag_mutability":"MUTABLE","name":"project/sample-ecr","registry_id":"574185952087","repository_url":"574185952087.dkr.ecr.ap-northeast-1.amazonaws.com/project/sample-ecr","tags":null,"timeouts":null}},{"address":"aws_ecs_cluster.sample-cdktf-cluster","mode":"managed","type":"aws_ecs_cluster","name":"sample-cdktf-cluster","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster","capacity_providers":null,"default_capacity_provider_strategy":[],"id":"arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster","name":"sample-cdktf-cluster","setting":[],"tags":null}},{"address":"aws_ecs_service.sample-cdktf-ecs-service","mode":"managed","type":"aws_ecs_service","name":"sample-cdktf-ecs-service","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"capacity_provider_strategy":[],"cluster":"arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster","deployment_controller":[{"type":"ECS"}],"deployment_maximum_percent":200,"deployment_minimum_healthy_percent":100,"desired_count":1,"enable_ecs_managed_tags":false,"force_new_deployment":null,"health_check_grace_period_seconds":0,"iam_role":"aws-service-role","id":"arn:aws:ecs:ap-northeast-1:574185952087:service/sample-cdktf-cluster/sample-cdktf-ecs-service","launch_type":"FARGATE","load_balancer":[{"container_name":"sample-cdktf-container","container_port":9000,"elb_name":"","target_group_arn":"arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/4d2039743d2c1779"}],"name":"sample-cdktf-ecs-service","network_configuration":[{"assign_public_ip":false,"security_groups":["sg-0e8f1acaacb82544a"],"subnets":["subnet-024f10b18c99de104","subnet-02a48e46704593c8c"]}],"ordered_placement_strategy":[],"placement_constraints":[],"placement_strategy":[],"platform_version":"LATEST","propagate_tags":"NONE","scheduling_strategy":"REPLICA","service_registries":[],"tags":null,"task_definition":"task-for-cdktf:48","timeouts":null},"depends_on":["aws_alb.sample-cdktf-alb","aws_alb_target_group.sample-cdktf-alb-target-group","aws_ecr_repository.sample-cdktf-repository","aws_ecs_cluster.sample-cdktf-cluster","aws_ecs_task_definition.sample-cdktf-task","aws_iam_role.ecsTaskExecutionRole","aws_iam_role.ecsTaskRole","aws_security_group.sample-cdktf-security-group","aws_subnet.sample-cdktf-private-subnet1","aws_subnet.sample-cdktf-private-subnet2","aws_subnet.sample-cdktf-public-subnet1","aws_subnet.sample-cdktf-public-subnet2","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_ecs_task_definition.sample-cdktf-task","mode":"managed","type":"aws_ecs_task_definition","name":"sample-cdktf-task","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ecs:ap-northeast-1:574185952087:task-definition/task-for-cdktf:48","container_definitions":"[{\"cpu\":0,\"environment\":[],\"essential\":true,\"image\":\"574185952087.dkr.ecr.ap-northeast-1.amazonaws.com/project/sample-ecr:latest\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"/aws/ecs/task-for-cdktf\",\"awslogs-region\":\"ap-northeast-1\",\"awslogs-stream-prefix\":\"ecs\"}},\"mountPoints\":[],\"name\":\"sample-cdktf-container\",\"portMappings\":[{\"containerPort\":9000,\"hostPort\":9000,\"protocol\":\"tcp\"}],\"volumesFrom\":[]}]","cpu":"512","execution_role_arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskExecutionRole","family":"task-for-cdktf","id":"task-for-cdktf","inference_accelerator":[],"ipc_mode":"","memory":"1024","network_mode":"awsvpc","pid_mode":"","placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":["FARGATE"],"revision":48,"tags":null,"task_role_arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskRole","volume":[]},"depends_on":["aws_ecr_repository.sample-cdktf-repository","aws_iam_role.ecsTaskExecutionRole","aws_iam_role.ecsTaskRole"]},{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"allocation_id":null,"associate_with_private_ip":null,"association_id":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-002ea4c7af48623b4","instance":"","network_interface":"","private_dns":null,"private_ip":"","public_dns":"ec2-52-193-167-114.ap-northeast-1.compute.amazonaws.com","public_ip":"52.193.167.114","public_ipv4_pool":"amazon","tags":null,"timeouts":null,"vpc":true}},{"address":"aws_iam_po
[2022-11-17T18:54:40.205] [DEBUG] default - licy.ecs-task-execution-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::574185952087:policy/ecs-task-execution-policy","description":"Policy for updating ECS tasks","id":"arn:aws:iam::574185952087:policy/ecs-task-execution-policy","name":"ecs-task-execution-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},{"address":"aws_iam_policy.ecs-task-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::574185952087:policy/ecs-task-policy","description":"Policy for updating ECS tasks","id":"arn:aws:iam::574185952087:policy/ecs-task-policy","name":"ecs-task-policy","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecs:DescribeServices\",\n              \"ecs:CreateTaskSet\",\n              \"ecs:UpdateServicePrimaryTaskSet\",\n              \"ecs:DeleteTaskSet\",\n              \"elasticloadbalancing:DescribeTargetGroups\",\n              \"elasticloadbalancing:DescribeListeners\",\n              \"elasticloadbalancing:ModifyListener\",\n              \"elasticloadbalancing:DescribeRules\",\n              \"elasticloadbalancing:ModifyRule\",\n              \"lambda:InvokeFunction\",\n              \"cloudwatch:DescribeAlarms\",\n              \"sns:Publish\",\n              \"s3:GetObject\",\n              \"s3:GetObjectVersion\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},{"address":"aws_iam_policy.lambda-logging","mode":"managed","type":"aws_iam_policy","name":"lambda-logging","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging","description":"IAM policy for logging from a lambda","id":"arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging","name":"sample-cdktf-lambda-logging","name_prefix":null,"path":"/","policy":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"iam:PassRole\",\n              \"ecs:RegisterTaskDefinition\",\n              \"ecs:UpdateService\",\n              \"logs:CreateLogGroup\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"arn:aws:logs:*:*:*\",\n              \"arn:aws:ecs:*:*:*\",\n              \"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskExecutionRole\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"},"depends_on":["aws_iam_role.ecsTaskExecutionRole"]},{"address":"aws_iam_role.ecsTaskExecutionRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskExecutionRole","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-11-17T09:21:57Z","description":"","force_detach_policies":false,"id":"sample-cdktf-ecsTaskExecutionRole","max_session_duration":3600,"name":"sample-cdktf-ecsTaskExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null,"unique_id":"AROAYLMBGKNL6HREXLCQR"}},{"address":"aws_iam_role.ecsTaskRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskRole","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::574185952087:role/sample-cdktf-ecsTaskRole","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-11-17T09:21:57Z","description":"","force_detach_policies":false,"id":"sample-cdktf-ecsTaskRole","max_session_duration":3600,"name":"sample-cdktf-ecsTaskRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null,"unique_id":"AROAYLMBGKNLYKI6C5ZOP"}},{"address":"aws_iam_role.lambdaExecutionRole","mode":"managed","type":"aws_iam_role","name":"lambdaExecutionRole","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::574185952087:role/sample-cdktf-lambdaExecutionRole","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"lambda.amazonaws.com\",\"ecs-tasks.amazonaws.com\"]},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2022-11-17T09:21:57Z","description":"","force_detach_policies":false,"id":"sample-cdktf-lambdaExecutionRole","max_session_duration":3600,"name":"sample-cdktf-lambdaExecutionRole","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null,"unique_id":"AROAYLMBGKNLQF6DHWJLR"}},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-execution-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-execution-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"sample-cdktf-ecsTaskExecutionRole-20221117092200405100000001","policy_arn":"arn:aws:iam::574185952087:policy/ecs-task-execution-policy","role":"sample-cdktf-ecsTaskExecutionRole"},"depends_on":["aws_iam_policy.ecs-task-execution-policy","aws_iam_role.ecsTaskExecutionRole"]},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"sample-cdktf-ecsTaskRole-20221117092201624900000002","policy_arn":"arn:aws:iam::574185952087:policy/ecs-task-policy","role":"sample-cdktf-ecsTaskRole"},"depends_on":["aws_iam_policy.ecs-task-policy","aws_iam_role.ecsTaskRole"]},{"address":"aws_iam_role_policy_attachment.attach-lambda-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-lambda-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"sample-cdktf-lambdaExecutionRole-20221117092202035100000003","policy_arn":"arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging","role":"sample-cdktf-lambdaExecutionRole"},"depends_on":["aws_iam_policy.lambda-logging","aws_iam_role.ecsTaskExecutionRole","aws_iam_role.lambdaExecutionRole"]},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:internet-gateway/igw-0059619e5b2abdb1d","id":"igw-0059619e5b2abdb1d","owner_id":"574185952087","tags":{"Name":"igw-production sample-cdktf"},"vpc_id":"vpc-0ff751b859f0ed54c"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_lambda_function.Sample-Lambda-Notification-to-Slack","mode":"managed","type":"aws_lambda_function","name":"Sample-Lambda-Notification-to-Slack","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack","dead_letter_config":[],"description":"","environment":[{"variables":{"SLACK_API_TOKEN":"xoxb-4
[2022-11-17T18:54:40.205] [DEBUG] default - 122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp","SLACK_CHANNEL":"C049CPNKHMJ"}}],"file_system_config":[],"filename":null,"function_name":"Sample-Lambda-Notification-to-Slack","handler":"index.handler","id":"Sample-Lambda-Notification-to-Slack","invoke_arn":"arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack/invocations","kms_key_arn":"","last_modified":"2022-11-17T09:22:19.111+0000","layers":null,"memory_size":128,"publish":false,"qualified_arn":"arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack:$LATEST","reserved_concurrent_executions":-1,"role":"arn:aws:iam::574185952087:role/sample-cdktf-lambdaExecutionRole","runtime":"nodejs12.x","s3_bucket":"sample-cdktf-s3","s3_key":"notification-to-Slack-dist.zip","s3_object_version":null,"source_code_hash":"tCCpjM8bYGUMlYE1itasARiG+ZOmfdgQJWCcxS1eRIg=","source_code_size":13887229,"tags":null,"timeout":30,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"depends_on":["aws_iam_role.lambdaExecutionRole","aws_s3_bucket.sample-cdktf-s3","aws_s3_bucket_object.notification-to-Slack-distzip"]},{"address":"aws_lambda_permission.permission-to-sns","mode":"managed","type":"aws_lambda_permission","name":"permission-to-sns","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"Sample-Lambda-Notification-to-Slack","id":"AllowExecutionFromSNS","principal":"sns.amazonaws.com","qualifier":"","source_account":null,"source_arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","statement_id":"AllowExecutionFromSNS","statement_id_prefix":null},"depends_on":["aws_iam_role.lambdaExecutionRole","aws_lambda_function.Sample-Lambda-Notification-to-Slack","aws_s3_bucket.sample-cdktf-s3","aws_s3_bucket_object.notification-to-Slack-distzip","aws_sns_topic.sample-cdktf-sns"]},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"allocation_id":"eipalloc-002ea4c7af48623b4","id":"nat-00ceea80d7383cf8a","network_interface_id":"eni-081e0683836eb2734","private_ip":"10.0.11.35","public_ip":"52.193.167.114","subnet_id":"subnet-0946ff06d100ac494","tags":{"Name":"sample-cdktf nat-gateway-production"}},"depends_on":["aws_eip.sample-cdktf-eip","aws_subnet.sample-cdktf-public-subnet1","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"rtb-052f170427c67195f","owner_id":"574185952087","propagating_vgws":[],"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"nat-00ceea80d7383cf8a","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Private rtb"},"vpc_id":"vpc-0ff751b859f0ed54c"},"depends_on":["aws_eip.sample-cdktf-eip","aws_nat_gateway.sample-cdktf-nat-gateway","aws_subnet.sample-cdktf-public-subnet1","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"rtb-074349f2eb388142c","owner_id":"574185952087","propagating_vgws":[],"route":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"igw-0059619e5b2abdb1d","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"sample-cdktf Public rtb"},"vpc_id":"vpc-0ff751b859f0ed54c"},"depends_on":["aws_internet_gateway.sample-cdktf-igw-production","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-067a712727a8b752a","route_table_id":"rtb-052f170427c67195f","subnet_id":"subnet-02a48e46704593c8c"},"depends_on":["aws_eip.sample-cdktf-eip","aws_nat_gateway.sample-cdktf-nat-gateway","aws_route_table.sample-cdktf-private-rtb","aws_subnet.sample-cdktf-private-subnet1","aws_subnet.sample-cdktf-public-subnet1","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-0a199719098de5e67","route_table_id":"rtb-052f170427c67195f","subnet_id":"subnet-024f10b18c99de104"},"depends_on":["aws_eip.sample-cdktf-eip","aws_nat_gateway.sample-cdktf-nat-gateway","aws_route_table.sample-cdktf-private-rtb","aws_subnet.sample-cdktf-private-subnet2","aws_subnet.sample-cdktf-public-subnet1","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-0bc8510f59dbe6d02","route_table_id":"rtb-074349f2eb388142c","subnet_id":"subnet-0946ff06d100ac494"},"depends_on":["aws_internet_gateway.sample-cdktf-igw-production","aws_route_table.sample-cdktf-public-rtb","aws_subnet.sample-cdktf-public-subnet1","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-01319113a84b464a4","route_table_id":"rtb-074349f2eb388142c","subnet_id":"subnet-07de357bedb7ac869"},"depends_on":["aws_internet_gateway.sample-cdktf-igw-production","aws_route_table.sample-cdktf-public-rtb","aws_subnet.sample-cdktf-public-subnet2","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-0bc8510f59dbe6d02","route_table_id":"rtb-074349f2eb388142c","subnet_id":"subnet-0946ff06d100ac494"},"depends_on":["aws_internet_gateway.sample-cdktf-igw-production","aws_route_table.sample-cdktf-public-rtb","aws_subnet.sample-cdktf-public-subnet1","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_s3_bucket.sample-cdktf-s3","mode":"managed","type":"aws_s3_bucket","name":"sample-cdktf-s3","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acceleration_status":"","acl":"private","arn":"arn:aws:s3:::sample-cdktf-s3","bucket":"sample-cdktf-s3","bucket_domain_name":"sample-cdktf-s3.s3.amazonaws.com","bucket_prefix":null,"bucket_regional_domain_name":"sample-cdktf-s3.s3.ap-northeast-1.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[],"hosted_zone_id":"Z2M4EHUR26P7ZW","id":"sample-cdktf-s3","lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":null,"region":"ap-northeast-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[],"tags":null,"versioning":[{"enabled":false,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null}},{"address":"aws_s3_bucket_object.notification-to-Slack-distzip","mode":"managed","type":"aws_s3_bucket_object","name":"notification-to-Slack-distzip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","bucket":"sampl
[2022-11-17T18:54:40.205] [DEBUG] default - e-cdktf-s3","cache_control":"","content":null,"content_base64":null,"content_disposition":"","content_encoding":"","content_language":"","content_type":"zip","etag":"4937147d8b730bb24484f81f57592f61","force_destroy":false,"id":"notification-to-Slack-dist.zip","key":"notification-to-Slack-dist.zip","kms_key_id":null,"metadata":null,"object_lock_legal_hold_status":"","object_lock_mode":"","object_lock_retain_until_date":"","server_side_encryption":"","source":"/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip","storage_class":"STANDARD","tags":null,"version_id":"","website_redirect":""},"depends_on":["aws_s3_bucket.sample-cdktf-s3"]},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:security-group/sg-025820cfad8e16182","description":"Managed by Terraform","egress":[],"id":"sg-025820cfad8e16182","ingress":[],"name":"sample-cdktf","name_prefix":null,"owner_id":"574185952087","revoke_rules_on_delete":false,"tags":{"Name":"sample-cdktf"},"timeouts":null,"vpc_id":"vpc-0ff751b859f0ed54c"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"id":"sgrule-3501681800","ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_group_id":"sg-025820cfad8e16182","self":false,"source_security_group_id":null,"to_port":0,"type":"egress"},"depends_on":["aws_security_group.sample-cdktf-security-group","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-ingress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":80,"id":"sgrule-3107037265","ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"tcp","security_group_id":"sg-025820cfad8e16182","self":false,"source_security_group_id":null,"to_port":80,"type":"ingress"},"depends_on":["aws_security_group.sample-cdktf-security-group","aws_vpc.sample-cdktf-vpc"]},{"address":"aws_sns_topic.sample-cdktf-sns","mode":"managed","type":"aws_sns_topic","name":"sample-cdktf-sns","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"application_failure_feedback_role_arn":"","application_success_feedback_role_arn":"","application_success_feedback_sample_rate":null,"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","delivery_policy":"","display_name":"","http_failure_feedback_role_arn":"","http_success_feedback_role_arn":"","http_success_feedback_sample_rate":null,"id":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","kms_master_key_id":"","lambda_failure_feedback_role_arn":"","lambda_success_feedback_role_arn":"","lambda_success_feedback_sample_rate":null,"name":"sample-cdktf-sns","name_prefix":null,"policy":"{\"Version\":\"2008-10-17\",\"Id\":\"__default_policy_ID\",\"Statement\":[{\"Sid\":\"__default_statement_ID\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Action\":[\"SNS:GetTopicAttributes\",\"SNS:SetTopicAttributes\",\"SNS:AddPermission\",\"SNS:RemovePermission\",\"SNS:DeleteTopic\",\"SNS:Subscribe\",\"SNS:ListSubscriptionsByTopic\",\"SNS:Publish\"],\"Resource\":\"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns\",\"Condition\":{\"StringEquals\":{\"AWS:SourceOwner\":\"574185952087\"}}}]}","sqs_failure_feedback_role_arn":"","sqs_success_feedback_role_arn":"","sqs_success_feedback_sample_rate":null,"tags":null}},{"address":"aws_sns_topic_policy.sample-cdktf-sns-policy","mode":"managed","type":"aws_sns_topic_policy","name":"sample-cdktf-sns-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","id":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"events.amazonaws.com\"},\"Action\":\"SNS:Publish\",\"Resource\":\"*\"}]}"},"depends_on":["aws_sns_topic.sample-cdktf-sns"]},{"address":"aws_sns_topic_subscription.sample-cdktf-sns-subscription","mode":"managed","type":"aws_sns_topic_subscription","name":"sample-cdktf-sns-subscription","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:c97d1362-74f4-44f7-903f-95a294151b96","confirmation_timeout_in_minutes":1,"delivery_policy":"","endpoint":"arn:aws:lambda:ap-northeast-1:574185952087:function:Sample-Lambda-Notification-to-Slack","endpoint_auto_confirms":false,"filter_policy":"","id":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:c97d1362-74f4-44f7-903f-95a294151b96","protocol":"lambda","raw_message_delivery":false,"topic_arn":"arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns"},"depends_on":["aws_iam_role.lambdaExecutionRole","aws_lambda_function.Sample-Lambda-Notification-to-Slack","aws_s3_bucket.sample-cdktf-s3","aws_s3_bucket_object.notification-to-Slack-distzip","aws_sns_topic.sample-cdktf-sns"]},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-02a48e46704593c8c","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.128.0/20","id":"subnet-02a48e46704593c8c","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Private1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-0ff751b859f0ed54c"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-024f10b18c99de104","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0.144.0/20","id":"subnet-024f10b18c99de104","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Private2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-0ff751b859f0ed54c"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-0946ff06d100ac494","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1a","availability_zone_id":"apne1-az4","cidr_block":"10.0.0.0/20","id":"subnet-0946ff06d100ac494","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public1 AZ1a sample-cdktf"},"timeouts":null,"vpc_id":"vpc-0ff751b859f0ed54c"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:subnet/subnet-07de357bedb7ac869","assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-1c","availability_zone_id":"apne1-az1","cidr_block":"10.0
[2022-11-17T18:54:40.205] [DEBUG] default - .16.0/20","id":"subnet-07de357bedb7ac869","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"574185952087","tags":{"Name":"Public2 AZ1c sample-cdktf"},"timeouts":null,"vpc_id":"vpc-0ff751b859f0ed54c"},"depends_on":["aws_vpc.sample-cdktf-vpc"]},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-northeast-1:574185952087:vpc/vpc-0ff751b859f0ed54c","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-0623ddaec88fb5769","default_route_table_id":"rtb-064835fcd94e63e1c","default_security_group_id":"sg-0e8f1acaacb82544a","dhcp_options_id":"dopt-03da244493f3f476d","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":true,"enable_dns_support":true,"id":"vpc-0ff751b859f0ed54c","instance_tenancy":"default","ipv6_association_id":"","ipv6_cidr_block":"","main_route_table_id":"rtb-064835fcd94e63e1c","owner_id":"574185952087","tags":{"Name":"sample-cdktf production"}}}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","version_constraint":"~\u003e 2.0","expressions":{"region":{"constant_value":"ap-northeast-1"}}}},"root_module":{"resources":[{"address":"aws_alb.sample-cdktf-alb","mode":"managed","type":"aws_alb","name":"sample-cdktf-alb","provider_config_key":"aws","expressions":{"enable_deletion_protection":{"constant_value":false},"enable_http2":{"constant_value":true},"internal":{"constant_value":false},"ip_address_type":{"constant_value":"ipv4"},"load_balancer_type":{"constant_value":"application"},"name":{"constant_value":"sample-cdktf-alb"},"security_groups":{"constant_value":["${aws_security_group.sample-cdktf-security-group.id}","${aws_vpc.sample-cdktf-vpc.default_security_group_id}"],"references":["aws_security_group.sample-cdktf-security-group","aws_vpc.sample-cdktf-vpc"]},"subnets":{"constant_value":["${aws_subnet.sample-cdktf-public-subnet1.id}","${aws_subnet.sample-cdktf-public-subnet2.id}"],"references":["aws_subnet.sample-cdktf-public-subnet1","aws_subnet.sample-cdktf-public-subnet2"]}},"schema_version":0},{"address":"aws_alb_listener.sample-cdktf-alb-listener","mode":"managed","type":"aws_alb_listener","name":"sample-cdktf-alb-listener","provider_config_key":"aws","expressions":{"default_action":[{"fixed_response":[{"content_type":{"constant_value":"text/plain"},"message_body":{"constant_value":"OK"},"status_code":{"constant_value":"200"}}],"type":{"constant_value":"fixed-response"}}],"load_balancer_arn":{"constant_value":"${aws_alb.sample-cdktf-alb.arn}","references":["aws_alb.sample-cdktf-alb"]},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"}},"schema_version":0},{"address":"aws_alb_listener_rule.sample-cdktf-alb-listener-rule","mode":"managed","type":"aws_alb_listener_rule","name":"sample-cdktf-alb-listener-rule","provider_config_key":"aws","expressions":{"action":[{"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]},"type":{"constant_value":"forward"}}],"condition":[{"field":{"constant_value":"path-pattern"},"values":{"constant_value":["*"]}}],"listener_arn":{"constant_value":"${aws_alb_listener.sample-cdktf-alb-listener.arn}","references":["aws_alb_listener.sample-cdktf-alb-listener"]},"priority":{"constant_value":100}},"schema_version":0},{"address":"aws_alb_target_group.sample-cdktf-alb-target-group","mode":"managed","type":"aws_alb_target_group","name":"sample-cdktf-alb-target-group","provider_config_key":"aws","expressions":{"health_check":[{"interval":{"constant_value":30},"path":{"constant_value":"/"},"port":{"constant_value":"traffic-port"},"protocol":{"constant_value":"HTTP"},"timeout":{"constant_value":5},"unhealthy_threshold":{"constant_value":2}}],"name":{"constant_value":"sample-cdktf-alb-target-group"},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"},"target_type":{"constant_value":"ip"},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0,"depends_on":["aws_alb.sample-cdktf-alb"]},{"address":"aws_cloudwatch_event_rule.sample-cdktf-event-rule","mode":"managed","type":"aws_cloudwatch_event_rule","name":"sample-cdktf-event-rule","provider_config_key":"aws","expressions":{"description":{"constant_value":"Capture each AWS ECR Update"},"event_pattern":{"constant_value":"{\n        \"source\": [\"aws.ecr\"],\n        \"detail-type\": [\"ECR Image Action\"],\n        \"detail\": {\n          \"action-type\": [\"PUSH\"],\n          \"result\": [\"SUCCESS\"]\n        }\n      }"},"name":{"constant_value":"capture-ecr-update"}},"schema_version":0},{"address":"aws_cloudwatch_event_target.sample-cdktf-event-target","mode":"managed","type":"aws_cloudwatch_event_target","name":"sample-cdktf-event-target","provider_config_key":"aws","expressions":{"arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"rule":{"constant_value":"${aws_cloudwatch_event_rule.sample-cdktf-event-rule.name}","references":["aws_cloudwatch_event_rule.sample-cdktf-event-rule"]},"target_id":{"constant_value":"SendToSNS"}},"schema_version":0},{"address":"aws_cloudwatch_log_group.sample-cdktf-ecs-task-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-ecs-task-log-group","provider_config_key":"aws","expressions":{"name":{"constant_value":"/aws/ecs/${aws_ecs_task_definition.sample-cdktf-task.family}","references":["aws_ecs_task_definition.sample-cdktf-task"]}},"schema_version":0},{"address":"aws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group","mode":"managed","type":"aws_cloudwatch_log_group","name":"sample-cdktf-notification-to-slack-log-group","provider_config_key":"aws","expressions":{"name":{"constant_value":"/aws/lambda/${aws_lambda_function.Sample-Lambda-Notification-to-Slack.function_name}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]}},"schema_version":0},{"address":"aws_ecr_repository.sample-cdktf-repository","mode":"managed","type":"aws_ecr_repository","name":"sample-cdktf-repository","provider_config_key":"aws","expressions":{"name":{"constant_value":"project/sample-ecr"}},"schema_version":0},{"address":"aws_ecs_cluster.sample-cdktf-cluster","mode":"managed","type":"aws_ecs_cluster","name":"sample-cdktf-cluster","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf-cluster"}},"schema_version":0},{"address":"aws_ecs_service.sample-cdktf-ecs-service","mode":"managed","type":"aws_ecs_service","name":"sample-cdktf-ecs-service","provider_config_key":"aws","expressions":{"cluster":{"constant_value":"${aws_ecs_cluster.sample-cdktf-cluster.id}","references":["aws_ecs_cluster.sample-cdktf-cluster"]},"deployment_maximum_percent":{"constant_value":200},"deployment_minimum_healthy_percent":{"constant_value":100},"desired_count":{"constant_value":1},"launch_type":{"constant_value":"FARGATE"},"load_balancer":[{"container_name":{"constant_value":"sample-cdktf-container"},"container_port":{"constant_value":9000},"target_group_arn":{"constant_value":"${aws_alb_target_group.sample-cdktf-alb-target-group.arn}","references":["aws_alb_target_group.sample-cdktf-alb-target-group"]}}],"name":{"constant_value":"sample-cdktf-ecs-service"},"network_configuration":[{"security_groups":{"constant_value":["${aws_vpc.sample-cdktf-vpc.default_security_group_id}"],"references":["aws_vpc.sample-cdktf-vpc"]},"subnets":{"constant_value":["${aws_subnet.sample-cdktf-private-subnet1.id}","${aws_subnet.sample-cdktf-private-subnet2.id}"],"references":["aws_subnet.sample-cdktf-private-subnet1","aws_subnet.sample-cdktf-private-subnet2"]}}],"platform_version":{"constant_value":"LATEST"},"task_definition":{"constant_value":"${aws_ecs_task_definition.sample-cdktf-task.id}","references":["aws_ecs_task_definition.sample-cdktf-task"]}},"schema_version":0},{"address":"aws_ecs_task_definition.sample-cdktf-task","mode":"manag
[2022-11-17T18:54:40.205] [DEBUG] default - ed","type":"aws_ecs_task_definition","name":"sample-cdktf-task","provider_config_key":"aws","expressions":{"container_definitions":{"constant_value":"[\n      {\n        \"essential\":    true,\n        \"name\":         \"sample-cdktf-container\",\n        \"image\":        \"${aws_ecr_repository.sample-cdktf-repository.repository_url}:latest\",\n        \"portMappings\": [\n          {\n            \"hostPort\":      9000,\n            \"protocol\":      \"tcp\",\n            \"containerPort\": 9000\n          }\n        ],\n        \"logConfiguration\": {\n          \"logDriver\": \"awslogs\",\n          \"options\": {\n            \"awslogs-group\":         \"/aws/ecs/task-for-cdktf\",\n            \"awslogs-stream-prefix\": \"ecs\",\n            \"awslogs-region\":        \"ap-northeast-1\"\n          }\n        }\n      }\n    ]","references":["aws_ecr_repository.sample-cdktf-repository"]},"cpu":{"constant_value":"512"},"execution_role_arn":{"constant_value":"${aws_iam_role.ecsTaskExecutionRole.arn}","references":["aws_iam_role.ecsTaskExecutionRole"]},"family":{"constant_value":"task-for-cdktf"},"memory":{"constant_value":"1024"},"network_mode":{"constant_value":"awsvpc"},"requires_compatibilities":{"constant_value":["FARGATE"]},"task_role_arn":{"constant_value":"${aws_iam_role.ecsTaskRole.arn}","references":["aws_iam_role.ecsTaskRole"]}},"schema_version":1},{"address":"aws_eip.sample-cdktf-eip","mode":"managed","type":"aws_eip","name":"sample-cdktf-eip","provider_config_key":"aws","expressions":{"vpc":{"constant_value":true}},"schema_version":0},{"address":"aws_iam_policy.ecs-task-execution-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-execution-policy","provider_config_key":"aws","expressions":{"description":{"constant_value":"Policy for updating ECS tasks"},"name":{"constant_value":"ecs-task-execution-policy"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecr:GetAuthorizationToken\",\n              \"ecr:BatchCheckLayerAvailability\",\n              \"ecr:GetDownloadUrlForLayer\",\n              \"ecr:BatchGetImage\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_policy.ecs-task-policy","mode":"managed","type":"aws_iam_policy","name":"ecs-task-policy","provider_config_key":"aws","expressions":{"description":{"constant_value":"Policy for updating ECS tasks"},"name":{"constant_value":"ecs-task-policy"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"ecs:DescribeServices\",\n              \"ecs:CreateTaskSet\",\n              \"ecs:UpdateServicePrimaryTaskSet\",\n              \"ecs:DeleteTaskSet\",\n              \"elasticloadbalancing:DescribeTargetGroups\",\n              \"elasticloadbalancing:DescribeListeners\",\n              \"elasticloadbalancing:ModifyListener\",\n              \"elasticloadbalancing:DescribeRules\",\n              \"elasticloadbalancing:ModifyRule\",\n              \"lambda:InvokeFunction\",\n              \"cloudwatch:DescribeAlarms\",\n              \"sns:Publish\",\n              \"s3:GetObject\",\n              \"s3:GetObjectVersion\"\n            ],\n            \"Resource\": [\n              \"*\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }"}},"schema_version":0},{"address":"aws_iam_policy.lambda-logging","mode":"managed","type":"aws_iam_policy","name":"lambda-logging","provider_config_key":"aws","expressions":{"description":{"constant_value":"IAM policy for logging from a lambda"},"name":{"constant_value":"sample-cdktf-lambda-logging"},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": [\n              \"iam:PassRole\",\n              \"ecs:RegisterTaskDefinition\",\n              \"ecs:UpdateService\",\n              \"logs:CreateLogGroup\",\n              \"logs:CreateLogStream\",\n              \"logs:PutLogEvents\"\n            ],\n            \"Resource\": [\n              \"arn:aws:logs:*:*:*\",\n              \"arn:aws:ecs:*:*:*\",\n              \"${aws_iam_role.ecsTaskExecutionRole.arn}\"\n            ],\n            \"Effect\": \"Allow\"\n          }\n        ]\n      }","references":["aws_iam_role.ecsTaskExecutionRole"]}},"schema_version":0,"depends_on":["aws_iam_role.ecsTaskExecutionRole"]},{"address":"aws_iam_role.ecsTaskExecutionRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskExecutionRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\":    \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-ecsTaskExecutionRole"}},"schema_version":0},{"address":"aws_iam_role.ecsTaskRole","mode":"managed","type":"aws_iam_role","name":"ecsTaskRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\": \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": \"ecs-tasks.amazonaws.com\"\n          },\n          \"Effect\": \"Allow\",\n          \"Sid\": \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-ecsTaskRole"}},"schema_version":0},{"address":"aws_iam_role.lambdaExecutionRole","mode":"managed","type":"aws_iam_role","name":"lambdaExecutionRole","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": [\n          {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n              \"Service\": [\n                \"lambda.amazonaws.com\",\n                \"ecs-tasks.amazonaws.com\"\n              ]\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\":    \"\"\n          }\n        ]\n      }"},"name":{"constant_value":"sample-cdktf-lambdaExecutionRole"}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-execution-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-execution-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.ecs-task-execution-policy.arn}","references":["aws_iam_policy.ecs-task-execution-policy"]},"role":{"constant_value":"${aws_iam_role.ecsTaskExecutionRole.name}","references":["aws_iam_role.ecsTaskExecutionRole"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-ecs-task-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-ecs-task-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.ecs-task-policy.arn}","references":["aws_iam_policy.ecs-task-policy"]},"role":{"constant_value":"${aws_iam_role.ecsTaskRole.name}","references":["aws_iam_role.ecsTaskRole"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.attach-lambda-policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-lambda-policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"${aws_iam_policy.lambda-logging.arn}","references":["aws_iam_policy.lambda-logging"]},"role":{"constant_value":"${aws_iam_role.lambdaExecutionRole.name}","references":["aws_iam_role.lambdaExecutionRole"]}},"schema_version":0},{"address":"aws_internet_gateway.sample-cdktf-igw-production","mode":"managed","type":"aws_internet_gateway","name":"sample-cdktf-igw-production","provider_config_key":"aws","expressions":{"tags":{"constant_value":{"Name":
[2022-11-17T18:54:40.205] [DEBUG] default - "igw-production sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_lambda_function.Sample-Lambda-Notification-to-Slack","mode":"managed","type":"aws_lambda_function","name":"Sample-Lambda-Notification-to-Slack","provider_config_key":"aws","expressions":{"environment":[{"variables":{"constant_value":{"SLACK_API_TOKEN":"xoxb-4122888823907-4318760356644-YtVh9D0huOdAxEEcuBTFdNIp","SLACK_CHANNEL":"C049CPNKHMJ"}}}],"function_name":{"constant_value":"Sample-Lambda-Notification-to-Slack"},"handler":{"constant_value":"index.handler"},"role":{"constant_value":"${aws_iam_role.lambdaExecutionRole.arn}","references":["aws_iam_role.lambdaExecutionRole"]},"runtime":{"constant_value":"nodejs12.x"},"s3_bucket":{"constant_value":"${aws_s3_bucket.sample-cdktf-s3.bucket}","references":["aws_s3_bucket.sample-cdktf-s3"]},"s3_key":{"constant_value":"${aws_s3_bucket_object.notification-to-Slack-distzip.key}","references":["aws_s3_bucket_object.notification-to-Slack-distzip"]},"timeout":{"constant_value":30}},"schema_version":0},{"address":"aws_lambda_permission.permission-to-sns","mode":"managed","type":"aws_lambda_permission","name":"permission-to-sns","provider_config_key":"aws","expressions":{"action":{"constant_value":"lambda:InvokeFunction"},"function_name":{"constant_value":"${aws_lambda_function.Sample-Lambda-Notification-to-Slack.function_name}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]},"principal":{"constant_value":"sns.amazonaws.com"},"source_arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"statement_id":{"constant_value":"AllowExecutionFromSNS"}},"schema_version":0},{"address":"aws_nat_gateway.sample-cdktf-nat-gateway","mode":"managed","type":"aws_nat_gateway","name":"sample-cdktf-nat-gateway","provider_config_key":"aws","expressions":{"allocation_id":{"constant_value":"${aws_eip.sample-cdktf-eip.id}","references":["aws_eip.sample-cdktf-eip"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]},"tags":{"constant_value":{"Name":"sample-cdktf nat-gateway-production"}}},"schema_version":0},{"address":"aws_route_table.sample-cdktf-private-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-private-rtb","provider_config_key":"aws","expressions":{"route":{"constant_value":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"${aws_nat_gateway.sample-cdktf-nat-gateway.id}","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"references":["aws_nat_gateway.sample-cdktf-nat-gateway"]},"tags":{"constant_value":{"Name":"sample-cdktf Private rtb"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_route_table.sample-cdktf-public-rtb","mode":"managed","type":"aws_route_table","name":"sample-cdktf-public-rtb","provider_config_key":"aws","expressions":{"route":{"constant_value":[{"cidr_block":"0.0.0.0/0","egress_only_gateway_id":"","gateway_id":"${aws_internet_gateway.sample-cdktf-igw-production.id}","instance_id":"","ipv6_cidr_block":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_peering_connection_id":""}],"references":["aws_internet_gateway.sample-cdktf-igw-production"]},"tags":{"constant_value":{"Name":"sample-cdktf Public rtb"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-private-rtb.id}","references":["aws_route_table.sample-cdktf-private-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-private-subnet1.id}","references":["aws_subnet.sample-cdktf-private-subnet1"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-private-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-private-rtb-association2","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-private-rtb.id}","references":["aws_route_table.sample-cdktf-private-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-private-subnet2.id}","references":["aws_subnet.sample-cdktf-private-subnet2"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb-association2","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb-association2","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet2.id}","references":["aws_subnet.sample-cdktf-public-subnet2"]}},"schema_version":0},{"address":"aws_route_table_association.sample-cdktf-public-rtb1","mode":"managed","type":"aws_route_table_association","name":"sample-cdktf-public-rtb1","provider_config_key":"aws","expressions":{"route_table_id":{"constant_value":"${aws_route_table.sample-cdktf-public-rtb.id}","references":["aws_route_table.sample-cdktf-public-rtb"]},"subnet_id":{"constant_value":"${aws_subnet.sample-cdktf-public-subnet1.id}","references":["aws_subnet.sample-cdktf-public-subnet1"]}},"schema_version":0},{"address":"aws_s3_bucket.sample-cdktf-s3","mode":"managed","type":"aws_s3_bucket","name":"sample-cdktf-s3","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"sample-cdktf-s3"},"region":{"constant_value":"ap-northeast-1"}},"schema_version":0},{"address":"aws_s3_bucket_object.notification-to-Slack-distzip","mode":"managed","type":"aws_s3_bucket_object","name":"notification-to-Slack-distzip","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"${aws_s3_bucket.sample-cdktf-s3.bucket}","references":["aws_s3_bucket.sample-cdktf-s3"]},"content_type":{"constant_value":"zip"},"key":{"constant_value":"notification-to-Slack-dist.zip"},"source":{"constant_value":"/Users/yusuke.yasuoka/aws-deploy-trace/sample-cdktf/notification-to-Slack/notification-to-Slack-dist/notification-to-Slack-dist.zip"}},"schema_version":0},{"address":"aws_security_group.sample-cdktf-security-group","mode":"managed","type":"aws_security_group","name":"sample-cdktf-security-group","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf"},"tags":{"constant_value":{"Name":"sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_security_group_rule.sample-cdktf-security-egress","mode":"managed","type":"aws_security_group_rule","name":"sample-cdktf-security-egress","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":0},"protocol":{"constant_value":"all"},"security_group_id":{"constant_value":"${aws_security_group.sample-cdktf-security-group.id}","references":["aws_security_group.sample-cdktf-security-group"]},"to_port":{"constant_value":0},"type":{"constant_value":"egress"}},"schema_version":2},{"address":"aws_security_group_rule.sample-cdktf-security-ingress","mode":"managed","type":"aws_se
[2022-11-17T18:54:40.205] [DEBUG] default - curity_group_rule","name":"sample-cdktf-security-ingress","provider_config_key":"aws","expressions":{"cidr_blocks":{"constant_value":["0.0.0.0/0"]},"from_port":{"constant_value":80},"protocol":{"constant_value":"tcp"},"security_group_id":{"constant_value":"${aws_security_group.sample-cdktf-security-group.id}","references":["aws_security_group.sample-cdktf-security-group"]},"to_port":{"constant_value":80},"type":{"constant_value":"ingress"}},"schema_version":2},{"address":"aws_sns_topic.sample-cdktf-sns","mode":"managed","type":"aws_sns_topic","name":"sample-cdktf-sns","provider_config_key":"aws","expressions":{"name":{"constant_value":"sample-cdktf-sns"}},"schema_version":0},{"address":"aws_sns_topic_policy.sample-cdktf-sns-policy","mode":"managed","type":"aws_sns_topic_policy","name":"sample-cdktf-sns-policy","provider_config_key":"aws","expressions":{"arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]},"policy":{"constant_value":"{\n        \"Version\":   \"2012-10-17\",\n        \"Statement\": {\n          \"Effect\": \"Allow\",\n          \"Sid\":    \"\",\n          \"Principal\": {\n            \"Service\": \"events.amazonaws.com\"\n          },\n          \"Action\": [\n            \"SNS:Publish\"\n          ],\n          \"Resource\": [\n            \"*\"\n          ]\n        }\n      }"}},"schema_version":0},{"address":"aws_sns_topic_subscription.sample-cdktf-sns-subscription","mode":"managed","type":"aws_sns_topic_subscription","name":"sample-cdktf-sns-subscription","provider_config_key":"aws","expressions":{"endpoint":{"constant_value":"${aws_lambda_function.Sample-Lambda-Notification-to-Slack.arn}","references":["aws_lambda_function.Sample-Lambda-Notification-to-Slack"]},"protocol":{"constant_value":"lambda"},"topic_arn":{"constant_value":"${aws_sns_topic.sample-cdktf-sns.arn}","references":["aws_sns_topic.sample-cdktf-sns"]}},"schema_version":0},{"address":"aws_subnet.sample-cdktf-private-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet1","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1a"},"cidr_block":{"constant_value":"10.0.128.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Private1 AZ1a sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-private-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-private-subnet2","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1c"},"cidr_block":{"constant_value":"10.0.144.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Private2 AZ1c sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-public-subnet1","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet1","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1a"},"cidr_block":{"constant_value":"10.0.0.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Public1 AZ1a sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_subnet.sample-cdktf-public-subnet2","mode":"managed","type":"aws_subnet","name":"sample-cdktf-public-subnet2","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"ap-northeast-1c"},"cidr_block":{"constant_value":"10.0.16.0/20"},"map_public_ip_on_launch":{"constant_value":true},"tags":{"constant_value":{"Name":"Public2 AZ1c sample-cdktf"}},"vpc_id":{"constant_value":"${aws_vpc.sample-cdktf-vpc.id}","references":["aws_vpc.sample-cdktf-vpc"]}},"schema_version":1},{"address":"aws_vpc.sample-cdktf-vpc","mode":"managed","type":"aws_vpc","name":"sample-cdktf-vpc","provider_config_key":"aws","expressions":{"cidr_block":{"constant_value":"10.0.0.0/16"},"enable_dns_hostnames":{"constant_value":true},"tags":{"constant_value":{"Name":"sample-cdktf production"}}},"schema_version":1}]}}}

[2022-11-17T18:56:55.619] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-private-rtb-association1: Destroying... [id=rtbassoc-067a712727a8b752a][0m[0m

[2022-11-17T18:56:55.705] [DEBUG] default - [0m[1maws_sns_topic_policy.sample-cdktf-sns-policy: Destroying... [id=arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns][0m[0m
[0m[1maws_route_table_association.sample-cdktf-private-rtb-association2: Destroying... [id=rtbassoc-0a199719098de5e67][0m[0m
[0m[1maws_security_group_rule.sample-cdktf-security-ingress: Destroying... [id=sgrule-3107037265][0m[0m
[0m[1maws_route_table_association.sample-cdktf-public-rtb-association1: Destroying... [id=rtbassoc-0bc8510f59dbe6d02][0m[0m
[0m[1maws_cloudwatch_log_group.sample-cdktf-ecs-task-log-group: Destroying... [id=/aws/ecs/task-for-cdktf][0m[0m
[0m[1maws_iam_role_policy_attachment.attach-ecs-task-execution-policy: Destroying... [id=sample-cdktf-ecsTaskExecutionRole-20221117092200405100000001][0m[0m
[0m[1maws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group: Destroying... [id=/aws/lambda/Sample-Lambda-Notification-to-Slack][0m[0m
[0m[1maws_cloudwatch_event_target.sample-cdktf-event-target: Destroying... [id=capture-ecr-update-SendToSNS][0m[0m
[0m[1maws_security_group_rule.sample-cdktf-security-egress: Destroying... [id=sgrule-3501681800][0m[0m

[2022-11-17T18:56:55.815] [DEBUG] default - [0m[1maws_sns_topic_policy.sample-cdktf-sns-policy: Destruction complete after 0s[0m[0m
[0m[1maws_cloudwatch_event_target.sample-cdktf-event-target: Destruction complete after 0s[0m[0m
[0m[1maws_cloudwatch_log_group.sample-cdktf-ecs-task-log-group: Destruction complete after 0s[0m[0m
[0m[1maws_iam_role_policy_attachment.attach-lambda-policy: Destroying... [id=sample-cdktf-lambdaExecutionRole-20221117092202035100000003][0m[0m
[0m[1maws_cloudwatch_log_group.sample-cdktf-notification-to-slack-log-group: Destruction complete after 0s[0m[0m
[0m[1maws_alb_listener_rule.sample-cdktf-alb-listener-rule: Destroying... [id=arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener-rule/app/sample-cdktf-alb/8e7bf5321d2d6d66/b27077b11d925401/4e6b3937e2325782][0m[0m
[0m[1maws_route_table_association.sample-cdktf-public-rtb-association2: Destroying... [id=rtbassoc-01319113a84b464a4][0m[0m
[0m[1maws_route_table_association.sample-cdktf-public-rtb1: Destroying... [id=rtbassoc-0bc8510f59dbe6d02][0m[0m

[2022-11-17T18:56:55.927] [DEBUG] default - [0m[1maws_route_table_association.sample-cdktf-public-rtb-association1: Destruction complete after 0s[0m[0m
[0m[1maws_ecs_service.sample-cdktf-ecs-service: Destroying... [id=arn:aws:ecs:ap-northeast-1:574185952087:service/sample-cdktf-cluster/sample-cdktf-ecs-service][0m[0m
[0m[1maws_route_table_association.sample-cdktf-private-rtb-association2: Destruction complete after 0s[0m[0m
[0m[1maws_route_table_association.sample-cdktf-private-rtb-association1: Destruction complete after 0s[0m[0m
[0m[1maws_alb_listener_rule.sample-cdktf-alb-listener-rule: Destruction complete after 0s[0m[0m

[2022-11-17T18:56:55.970] [DEBUG] default - [0m[1maws_lambda_permission.permission-to-sns: Destroying... [id=AllowExecutionFromSNS][0m[0m
[0m[1maws_iam_role_policy_attachment.attach-ecs-task-policy: Destroying... [id=sample-cdktf-ecsTaskRole-20221117092201624900000002][0m[0m
[0m[1maws_sns_topic_subscription.sample-cdktf-sns-subscription: Destroying... [id=arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns:c97d1362-74f4-44f7-903f-95a294151b96][0m[0m
[0m[1maws_route_table_association.sample-cdktf-public-rtb1: Destruction complete after 0s[0m[0m

[2022-11-17T18:56:56.102] [DEBUG] default - [0m[1maws_cloudwatch_event_rule.sample-cdktf-event-rule: Destroying... [id=capture-ecr-update][0m[0m
[0m[1maws_route_table_association.sample-cdktf-public-rtb-association2: Destruction complete after 0s[0m[0m
[0m[1maws_route_table.sample-cdktf-private-rtb: Destroying... [id=rtb-052f170427c67195f][0m[0m
[0m[1maws_cloudwatch_event_rule.sample-cdktf-event-rule: Destruction complete after 0s[0m[0m

[2022-11-17T18:56:56.186] [DEBUG] default - [0m[1maws_alb_listener.sample-cdktf-alb-listener: Destroying... [id=arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:listener/app/sample-cdktf-alb/8e7bf5321d2d6d66/b27077b11d925401][0m[0m
[0m[1maws_sns_topic_subscription.sample-cdktf-sns-subscription: Destruction complete after 0s[0m[0m
[0m[1maws_lambda_permission.permission-to-sns: Destruction complete after 0s[0m[0m

[2022-11-17T18:56:56.220] [DEBUG] default - [0m[1maws_route_table.sample-cdktf-public-rtb: Destroying... [id=rtb-074349f2eb388142c][0m[0m
[0m[1maws_lambda_function.Sample-Lambda-Notification-to-Slack: Destroying... [id=Sample-Lambda-Notification-to-Slack][0m[0m

[2022-11-17T18:56:56.296] [DEBUG] default - [0m[1maws_security_group_rule.sample-cdktf-security-egress: Destruction complete after 0s[0m[0m
[0m[1maws_alb_listener.sample-cdktf-alb-listener: Destruction complete after 0s[0m[0m
[0m[1maws_sns_topic.sample-cdktf-sns: Destroying... [id=arn:aws:sns:ap-northeast-1:574185952087:sample-cdktf-sns][0m[0m

[2022-11-17T18:56:56.395] [DEBUG] default - [0m[1maws_iam_role_policy_attachment.attach-ecs-task-execution-policy: Destruction complete after 0s[0m[0m

[2022-11-17T18:56:56.419] [DEBUG] default - [0m[1maws_iam_policy.ecs-task-execution-policy: Destroying... [id=arn:aws:iam::574185952087:policy/ecs-task-execution-policy][0m[0m
[0m[1maws_lambda_function.Sample-Lambda-Notification-to-Slack: Destruction complete after 0s[0m[0m

[2022-11-17T18:56:56.505] [DEBUG] default - [0m[1maws_s3_bucket_object.notification-to-Slack-distzip: Destroying... [id=notification-to-Slack-dist.zip][0m[0m
[0m[1maws_sns_topic.sample-cdktf-sns: Destruction complete after 0s[0m[0m
[0m[1maws_iam_role_policy_attachment.attach-lambda-policy: Destruction complete after 0s[0m[0m
[0m[1maws_iam_policy.lambda-logging: Destroying... [id=arn:aws:iam::574185952087:policy/sample-cdktf-lambda-logging][0m[0m
[0m[1maws_iam_role.lambdaExecutionRole: Destroying... [id=sample-cdktf-lambdaExecutionRole][0m[0m

[2022-11-17T18:56:56.566] [DEBUG] default - [0m[1maws_s3_bucket_object.notification-to-Slack-distzip: Destruction complete after 1s[0m[0m
[0m[1maws_route_table.sample-cdktf-private-rtb: Destruction complete after 1s[0m[0m
[0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Destroying... [id=nat-00ceea80d7383cf8a][0m[0m
[0m[1maws_s3_bucket.sample-cdktf-s3: Destroying... [id=sample-cdktf-s3][0m[0m

[2022-11-17T18:56:56.777] [DEBUG] default - [0m[1maws_iam_role_policy_attachment.attach-ecs-task-policy: Destruction complete after 1s[0m[0m
[0m[1maws_iam_policy.ecs-task-policy: Destroying... [id=arn:aws:iam::574185952087:policy/ecs-task-policy][0m[0m
[0m[1maws_route_table.sample-cdktf-public-rtb: Destruction complete after 1s[0m[0m
[0m[1maws_internet_gateway.sample-cdktf-igw-production: Destroying... [id=igw-0059619e5b2abdb1d][0m[0m

[2022-11-17T18:56:56.935] [DEBUG] default - [0m[1maws_s3_bucket.sample-cdktf-s3: Destruction complete after 0s[0m[0m

[2022-11-17T18:56:57.071] [DEBUG] default - [0m[1maws_security_group_rule.sample-cdktf-security-ingress: Destruction complete after 1s[0m[0m

[2022-11-17T18:56:57.918] [DEBUG] default - [0m[1maws_iam_policy.ecs-task-execution-policy: Destruction complete after 2s[0m[0m

[2022-11-17T18:56:57.996] [DEBUG] default - [0m[1maws_iam_policy.lambda-logging: Destruction complete after 2s[0m[0m

[2022-11-17T18:56:58.018] [DEBUG] default - [0m[1maws_iam_role.lambdaExecutionRole: Destruction complete after 2s[0m[0m

[2022-11-17T18:56:58.270] [DEBUG] default - [0m[1maws_iam_policy.ecs-task-policy: Destruction complete after 1s[0m[0m

[2022-11-17T18:57:05.896] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still destroying... [id=arn:aws:ecs:ap-northeast-1:574185952087...cdktf-cluster/sample-cdktf-ecs-service, 10s elapsed][0m[0m

[2022-11-17T18:57:06.542] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still destroying... [id=nat-00ceea80d7383cf8a, 10s elapsed][0m[0m

[2022-11-17T18:57:06.758] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0059619e5b2abdb1d, 10s elapsed][0m[0m

[2022-11-17T18:57:15.895] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still destroying... [id=arn:aws:ecs:ap-northeast-1:574185952087...cdktf-cluster/sample-cdktf-ecs-service, 20s elapsed][0m[0m

[2022-11-17T18:57:16.551] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still destroying... [id=nat-00ceea80d7383cf8a, 20s elapsed][0m[0m

[2022-11-17T18:57:16.741] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0059619e5b2abdb1d, 20s elapsed][0m[0m

[2022-11-17T18:57:25.873] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still destroying... [id=arn:aws:ecs:ap-northeast-1:574185952087...cdktf-cluster/sample-cdktf-ecs-service, 30s elapsed][0m[0m

[2022-11-17T18:57:26.542] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still destroying... [id=nat-00ceea80d7383cf8a, 30s elapsed][0m[0m

[2022-11-17T18:57:26.754] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0059619e5b2abdb1d, 30s elapsed][0m[0m

[2022-11-17T18:57:35.873] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still destroying... [id=arn:aws:ecs:ap-northeast-1:574185952087...cdktf-cluster/sample-cdktf-ecs-service, 40s elapsed][0m[0m

[2022-11-17T18:57:36.543] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Still destroying... [id=nat-00ceea80d7383cf8a, 40s elapsed][0m[0m

[2022-11-17T18:57:36.756] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0059619e5b2abdb1d, 40s elapsed][0m[0m

[2022-11-17T18:57:37.248] [DEBUG] default - [0m[1maws_nat_gateway.sample-cdktf-nat-gateway: Destruction complete after 40s[0m[0m

[2022-11-17T18:57:37.271] [DEBUG] default - [0m[1maws_eip.sample-cdktf-eip: Destroying... [id=eipalloc-002ea4c7af48623b4][0m[0m

[2022-11-17T18:57:38.380] [DEBUG] default - [0m[1maws_eip.sample-cdktf-eip: Destruction complete after 1s[0m[0m

[2022-11-17T18:57:45.887] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still destroying... [id=arn:aws:ecs:ap-northeast-1:574185952087...cdktf-cluster/sample-cdktf-ecs-service, 50s elapsed][0m[0m

[2022-11-17T18:57:46.743] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0059619e5b2abdb1d, 50s elapsed][0m[0m

[2022-11-17T18:57:55.874] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still destroying... [id=arn:aws:ecs:ap-northeast-1:574185952087...cdktf-cluster/sample-cdktf-ecs-service, 1m0s elapsed][0m[0m

[2022-11-17T18:57:56.743] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0059619e5b2abdb1d, 1m0s elapsed][0m[0m

[2022-11-17T18:58:05.874] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still destroying... [id=arn:aws:ecs:ap-northeast-1:574185952087...cdktf-cluster/sample-cdktf-ecs-service, 1m10s elapsed][0m[0m

[2022-11-17T18:58:06.743] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0059619e5b2abdb1d, 1m10s elapsed][0m[0m

[2022-11-17T18:58:15.875] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Still destroying... [id=arn:aws:ecs:ap-northeast-1:574185952087...cdktf-cluster/sample-cdktf-ecs-service, 1m20s elapsed][0m[0m

[2022-11-17T18:58:16.744] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0059619e5b2abdb1d, 1m20s elapsed][0m[0m

[2022-11-17T18:58:22.490] [DEBUG] default - [0m[1maws_ecs_service.sample-cdktf-ecs-service: Destruction complete after 1m26s[0m[0m

[2022-11-17T18:58:22.515] [DEBUG] default - [0m[1maws_ecs_cluster.sample-cdktf-cluster: Destroying... [id=arn:aws:ecs:ap-northeast-1:574185952087:cluster/sample-cdktf-cluster][0m[0m

[2022-11-17T18:58:22.563] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-private-subnet2: Destroying... [id=subnet-024f10b18c99de104][0m[0m
[0m[1maws_subnet.sample-cdktf-private-subnet1: Destroying... [id=subnet-02a48e46704593c8c][0m[0m
[0m[1maws_ecs_task_definition.sample-cdktf-task: Destroying... [id=task-for-cdktf][0m[0m
[0m[1maws_alb_target_group.sample-cdktf-alb-target-group: Destroying... [id=arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:targetgroup/sample-cdktf-alb-target-group/4d2039743d2c1779][0m[0m

[2022-11-17T18:58:22.649] [DEBUG] default - [0m[1maws_alb_target_group.sample-cdktf-alb-target-group: Destruction complete after 0s[0m[0m

[2022-11-17T18:58:22.671] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Destroying... [id=arn:aws:elasticloadbalancing:ap-northeast-1:574185952087:loadbalancer/app/sample-cdktf-alb/8e7bf5321d2d6d66][0m[0m

[2022-11-17T18:58:22.693] [DEBUG] default - [0m[1maws_ecs_task_definition.sample-cdktf-task: Destruction complete after 0s[0m[0m

[2022-11-17T18:58:22.739] [DEBUG] default - [0m[1maws_ecr_repository.sample-cdktf-repository: Destroying... [id=project/sample-ecr][0m[0m
[0m[1maws_iam_role.ecsTaskRole: Destroying... [id=sample-cdktf-ecsTaskRole][0m[0m
[0m[1maws_iam_role.ecsTaskExecutionRole: Destroying... [id=sample-cdktf-ecsTaskExecutionRole][0m[0m

[2022-11-17T18:58:22.776] [DEBUG] default - [0m[1maws_ecs_cluster.sample-cdktf-cluster: Destruction complete after 0s[0m[0m

[2022-11-17T18:58:22.931] [DEBUG] default - [0m[1maws_ecr_repository.sample-cdktf-repository: Destruction complete after 0s[0m[0m

[2022-11-17T18:58:23.059] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-private-subnet2: Destruction complete after 0s[0m[0m

[2022-11-17T18:58:23.205] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-private-subnet1: Destruction complete after 0s[0m[0m

[2022-11-17T18:58:23.703] [DEBUG] default - [0m[1maws_alb.sample-cdktf-alb: Destruction complete after 1s[0m[0m

[2022-11-17T18:58:23.748] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Destroying... [id=subnet-07de357bedb7ac869][0m[0m
[0m[1maws_subnet.sample-cdktf-public-subnet1: Destroying... [id=subnet-0946ff06d100ac494][0m[0m
[0m[1maws_security_group.sample-cdktf-security-group: Destroying... [id=sg-025820cfad8e16182][0m[0m

[2022-11-17T18:58:24.175] [DEBUG] default - [0m[1maws_iam_role.ecsTaskExecutionRole: Destruction complete after 1s[0m[0m

[2022-11-17T18:58:24.232] [DEBUG] default - [0m[1maws_iam_role.ecsTaskRole: Destruction complete after 1s[0m[0m

[2022-11-17T18:58:26.744] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0059619e5b2abdb1d, 1m30s elapsed][0m[0m

[2022-11-17T18:58:32.016] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet2: Destruction complete after 8s[0m[0m

[2022-11-17T18:58:33.725] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Still destroying... [id=sg-025820cfad8e16182, 10s elapsed][0m[0m

[2022-11-17T18:58:33.774] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Still destroying... [id=subnet-0946ff06d100ac494, 10s elapsed][0m[0m

[2022-11-17T18:58:36.745] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Still destroying... [id=igw-0059619e5b2abdb1d, 1m40s elapsed][0m[0m

[2022-11-17T18:58:40.516] [DEBUG] default - [0m[1maws_subnet.sample-cdktf-public-subnet1: Destruction complete after 17s[0m[0m

[2022-11-17T18:58:43.655] [DEBUG] default - [0m[1maws_security_group.sample-cdktf-security-group: Destruction complete after 20s[0m[0m

[2022-11-17T18:58:45.589] [DEBUG] default - [0m[1maws_internet_gateway.sample-cdktf-igw-production: Destruction complete after 1m49s[0m[0m

[2022-11-17T18:58:45.611] [DEBUG] default - [0m[1maws_vpc.sample-cdktf-vpc: Destroying... [id=vpc-0ff751b859f0ed54c][0m[0m

[2022-11-17T18:58:46.476] [DEBUG] default - [0m[1maws_vpc.sample-cdktf-vpc: Destruction complete after 0s[0m[0m

[2022-11-17T18:58:46.515] [DEBUG] default - [33m

[2022-11-17T18:58:46.562] [DEBUG] default - [1m[33mWarning: [0m[0m[1m"condition.0.values": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m

[0m  on cdk.tf.json line 681, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:
 681:       [4m}[0m
[0m
[0m[0m
[33m
[1m[33mWarning: [0m[0m[1m"condition.0.field": [DEPRECATED] use 'host_header' or 'path_pattern' attribute instead[0m

[0m  on cdk.tf.json line 681, in resource.aws_alb_listener_rule.sample-cdktf-alb-listener-rule:
 681:       [4m}[0m
[0m
[0m[0m
[0m[1m[32m
Destroy complete! Resources: 46 destroyed.[0m

[2022-11-17T18:58:46.603] [ERROR] default - TypeError: Cannot read properties of undefined (reading 'startsWith')
    at exports.ResourceName (/Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/bin/cmds/ui/components/resource-name.js:12:43)
    at Jd (/Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/node_modules/react-reconciler/cjs/react-reconciler.production.min.js:64:98)
    at ig (/Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/node_modules/react-reconciler/cjs/react-reconciler.production.min.js:160:456)
    at hg (/Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/node_modules/react-reconciler/cjs/react-reconciler.production.min.js:139:22)
    at bg (/Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/node_modules/react-reconciler/cjs/react-reconciler.production.min.js:138:366)
    at Of (/Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/node_modules/react-reconciler/cjs/react-reconciler.production.min.js:132:214)
    at /Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/node_modules/react-reconciler/cjs/react-reconciler.production.min.js:30:115
    at exports.unstable_runWithPriority (/Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/node_modules/scheduler/cjs/scheduler.production.min.js:18:437)
    at hc (/Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/node_modules/react-reconciler/cjs/react-reconciler.production.min.js:29:325)
    at kc (/Users/yusuke.yasuoka/.nodenv/versions/16.14.2/lib/node_modules/cdktf-cli/node_modules/react-reconciler/cjs/react-reconciler.production.min.js:30:61) {
  componentStack: '\n' +
    '    in Unknown\n' +
    '    in div\n' +
    '    in Box\n' +
    '    in Unknown\n' +
    '    in div\n' +
    '    in Box\n' +
    '    in div\n' +
    '    in Box\n' +
    '    in Unknown\n' +
    '    in div\n' +
    '    in Box\n' +
    '    in Unknown\n' +
    '    in Unknown\n' +
    '    in Unknown\n' +
    '    in ErrorBoundary\n' +
    '    in Unknown\n' +
    '    in App'
}
